<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 12.3.1"/>
    <title>sinr.sinr.graph_embeddings API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>




        <h2>API Documentation</h2>
            <ul class="memberlist">
            <li>
                    <a class="class" href="#SINr">SINr</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#SINr.__init__">SINr</a>
                        </li>
                        <li>
                                <a class="function" href="#SINr.load_from_cooc_pkl">load_from_cooc_pkl</a>
                        </li>
                        <li>
                                <a class="function" href="#SINr.load_from_adjacency_matrix">load_from_adjacency_matrix</a>
                        </li>
                        <li>
                                <a class="function" href="#SINr.load_from_graph">load_from_graph</a>
                        </li>
                        <li>
                                <a class="function" href="#SINr.run">run</a>
                        </li>
                        <li>
                                <a class="function" href="#SINr.detect_communities">detect_communities</a>
                        </li>
                        <li>
                                <a class="function" href="#SINr.extract_embeddings">extract_embeddings</a>
                        </li>
                        <li>
                                <a class="function" href="#SINr.get_out_of_LgCC_coms">get_out_of_LgCC_coms</a>
                        </li>
                        <li>
                                <a class="function" href="#SINr.get_cooc_graph">get_cooc_graph</a>
                        </li>
                        <li>
                                <a class="function" href="#SINr.get_nr">get_nr</a>
                        </li>
                        <li>
                                <a class="function" href="#SINr.get_np">get_np</a>
                        </li>
                        <li>
                                <a class="function" href="#SINr.get_nfm">get_nfm</a>
                        </li>
                        <li>
                                <a class="function" href="#SINr.get_vocabulary">get_vocabulary</a>
                        </li>
                        <li>
                                <a class="function" href="#SINr.get_wrd_to_id">get_wrd_to_id</a>
                        </li>
                        <li>
                                <a class="function" href="#SINr.get_communities">get_communities</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="function" href="#get_lgcc">get_lgcc</a>
            </li>
            <li>
                    <a class="function" href="#get_graph_from_matrix">get_graph_from_matrix</a>
            </li>
            <li>
                    <a class="class" href="#NoCommunityDetectedException">NoCommunityDetectedException</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#NoEmbeddingExtractedException">NoEmbeddingExtractedException</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#ModelBuilder">ModelBuilder</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ModelBuilder.__init__">ModelBuilder</a>
                        </li>
                        <li>
                                <a class="function" href="#ModelBuilder.with_embeddings_nr">with_embeddings_nr</a>
                        </li>
                        <li>
                                <a class="function" href="#ModelBuilder.with_embeddings_nfm">with_embeddings_nfm</a>
                        </li>
                        <li>
                                <a class="function" href="#ModelBuilder.with_np">with_np</a>
                        </li>
                        <li>
                                <a class="function" href="#ModelBuilder.with_vocabulary">with_vocabulary</a>
                        </li>
                        <li>
                                <a class="function" href="#ModelBuilder.with_communities">with_communities</a>
                        </li>
                        <li>
                                <a class="function" href="#ModelBuilder.build">build</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#NoInterpretabilityException">NoInterpretabilityException</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#NoVocabularyException">NoVocabularyException</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#SINrVectors">SINrVectors</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#SINrVectors.__init__">SINrVectors</a>
                        </li>
                        <li>
                                <a class="function" href="#SINrVectors.set_n_jobs">set_n_jobs</a>
                        </li>
                        <li>
                                <a class="function" href="#SINrVectors.set_vocabulary">set_vocabulary</a>
                        </li>
                        <li>
                                <a class="function" href="#SINrVectors.set_vectors">set_vectors</a>
                        </li>
                        <li>
                                <a class="function" href="#SINrVectors.set_np">set_np</a>
                        </li>
                        <li>
                                <a class="function" href="#SINrVectors.set_communities">set_communities</a>
                        </li>
                        <li>
                                <a class="function" href="#SINrVectors.most_similar">most_similar</a>
                        </li>
                        <li>
                                <a class="function" href="#SINrVectors.get_dimension_descriptors">get_dimension_descriptors</a>
                        </li>
                        <li>
                                <a class="function" href="#SINrVectors.get_dimension_descriptors_idx">get_dimension_descriptors_idx</a>
                        </li>
                        <li>
                                <a class="function" href="#SINrVectors.get_obj_descriptors">get_obj_descriptors</a>
                        </li>
                        <li>
                                <a class="function" href="#SINrVectors.get_dimension_stereotypes">get_dimension_stereotypes</a>
                        </li>
                        <li>
                                <a class="function" href="#SINrVectors.get_dimension_stereotypes_idx">get_dimension_stereotypes_idx</a>
                        </li>
                        <li>
                                <a class="function" href="#SINrVectors.get_obj_stereotypes">get_obj_stereotypes</a>
                        </li>
                        <li>
                                <a class="function" href="#SINrVectors.get_obj_stereotypes_and_descriptors">get_obj_stereotypes_and_descriptors</a>
                        </li>
                        <li>
                                <a class="function" href="#SINrVectors.load">load</a>
                        </li>
                        <li>
                                <a class="function" href="#SINrVectors.save">save</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
sinr<wbr>.sinr<wbr>.graph_embeddings    </h1>

                
                        <input id="mod-graph_embeddings-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-graph_embeddings-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">  1</span></a><span class="kn">import</span> <span class="nn">pickle</span> <span class="k">as</span> <span class="nn">pk</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">  2</span></a><span class="kn">from</span> <span class="nn">networkit</span> <span class="kn">import</span> <span class="n">Graph</span><span class="p">,</span> <span class="n">components</span><span class="p">,</span> <span class="n">community</span><span class="p">,</span> <span class="n">setNumberOfThreads</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">  3</span></a><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">argpartition</span><span class="p">,</span> <span class="n">argsort</span><span class="p">,</span> <span class="n">asarray</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">  4</span></a><span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">NearestNeighbors</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">  5</span></a>
</span><span id="L-6"><a href="#L-6"><span class="linenos">  6</span></a><span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">strategy_loader</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a><span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">strategy_norm</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a><span class="kn">from</span> <span class="nn">.logger</span> <span class="kn">import</span> <span class="n">logger</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">  9</span></a><span class="kn">from</span> <span class="nn">.nfm</span> <span class="kn">import</span> <span class="n">get_nfm_embeddings</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos"> 10</span></a>
</span><span id="L-11"><a href="#L-11"><span class="linenos"> 11</span></a>
</span><span id="L-12"><a href="#L-12"><span class="linenos"> 12</span></a>
</span><span id="L-13"><a href="#L-13"><span class="linenos"> 13</span></a>
</span><span id="L-14"><a href="#L-14"><span class="linenos"> 14</span></a>
</span><span id="L-15"><a href="#L-15"><span class="linenos"> 15</span></a><span class="k">class</span> <span class="nc">SINr</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos"> 16</span></a>    <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos"> 17</span></a><span class="sd">    Object that can be used to extract word or graph embeddings using the SINr approach.</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos"> 18</span></a><span class="sd">    This object cannot then be used to inspect the resulting vectors. Instead, using the ModelBuilder class, a SINrVectors object should be created that will allow to use the resulting vectors.</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos"> 19</span></a>
</span><span id="L-20"><a href="#L-20"><span class="linenos"> 20</span></a><span class="sd">    ...</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos"> 21</span></a>
</span><span id="L-22"><a href="#L-22"><span class="linenos"> 22</span></a><span class="sd">    Attributes</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos"> 23</span></a><span class="sd">    ----------</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos"> 24</span></a><span class="sd">    Attributes should not be read</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos"> 25</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos"> 26</span></a>
</span><span id="L-27"><a href="#L-27"><span class="linenos"> 27</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos"> 28</span></a>    <span class="k">def</span> <span class="nf">load_from_cooc_pkl</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">cooc_matrix_path</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos"> 29</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos"> 30</span></a><span class="sd">        Build a sinr object from a co-occurrence matrix stored as a pickle : useful to deal with textual data.</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos"> 31</span></a><span class="sd">        Co-occurrence matrices should for instance be generated using sinr.text.cooccurrence</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos"> 32</span></a>
</span><span id="L-33"><a href="#L-33"><span class="linenos"> 33</span></a><span class="sd">        Parameters</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos"> 34</span></a><span class="sd">        ----------</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos"> 35</span></a><span class="sd">        cooc_matrix_path : string</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos"> 36</span></a><span class="sd">            Path to the cooccurrence matrix generated using sinr.text.cooccurrence : the file should be a pickle</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos"> 37</span></a><span class="sd">        norm : strategy_norm, optional</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos"> 38</span></a><span class="sd">            If the graph weights be normalized (for example using PMI). The default is None.</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a><span class="sd">        n_jobs : int, optional</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a><span class="sd">            Number of jobs that should be used The default is 1.</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a>
</span><span id="L-42"><a href="#L-42"><span class="linenos"> 42</span></a><span class="sd">        Returns</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a><span class="sd">        -------</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a><span class="sd">        TYPE</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a><span class="sd">            A SINr object, this method acts as a factory.</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a>
</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Building Graph.&quot;</span><span class="p">)</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a>
</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a>        <span class="n">word_to_idx</span><span class="p">,</span> <span class="n">matrix</span> <span class="o">=</span> <span class="n">strategy_loader</span><span class="o">.</span><span class="n">load_pkl_text</span><span class="p">(</span><span class="n">cooc_matrix_path</span><span class="p">)</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a>        <span class="n">graph</span> <span class="o">=</span> <span class="n">get_graph_from_matrix</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a>        <span class="n">graph</span> <span class="o">=</span> <span class="n">strategy_norm</span><span class="o">.</span><span class="n">apply_norm</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">norm</span><span class="p">)</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a>        <span class="n">out_of_LgCC</span> <span class="o">=</span> <span class="n">get_lgcc</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished building graph.&quot;</span><span class="p">)</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">out_of_LgCC</span><span class="p">,</span> <span class="n">word_to_idx</span><span class="p">)</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a>
</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a>    <span class="k">def</span> <span class="nf">load_from_adjacency_matrix</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">matrix_object</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a><span class="sd">        Build a sinr object from an adjacency matrix as a sparse one (csr)</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a>
</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a><span class="sd">        Parameters</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a><span class="sd">        ----------</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a><span class="sd">        matrix_object : csr_matrix</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a><span class="sd">            Matrix describing the graph.</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a><span class="sd">        norm : strategy_norm, optional</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a><span class="sd">            If the graph weights be normalized (for example using PMI). The default is None.</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a><span class="sd">        n_jobs : int, optional</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a><span class="sd">            Number of jobs that should be used The default is 1.</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a>
</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a><span class="sd">        Returns</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a><span class="sd">        -------</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a><span class="sd">        TYPE</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a><span class="sd">            A SINr object, this method acts as a factory.</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a>
</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Building Graph.&quot;</span><span class="p">)</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a>        <span class="n">word_to_idx</span><span class="p">,</span> <span class="n">matrix</span> <span class="o">=</span> <span class="n">strategy_loader</span><span class="o">.</span><span class="n">load_adj_mat</span><span class="p">(</span><span class="n">matrix_object</span><span class="p">)</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a>        <span class="n">graph</span> <span class="o">=</span> <span class="n">get_graph_from_matrix</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a>        <span class="n">graph</span> <span class="o">=</span> <span class="n">strategy_norm</span><span class="o">.</span><span class="n">apply_norm</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">norm</span><span class="p">)</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a>        <span class="n">out_of_LgCC</span> <span class="o">=</span> <span class="n">get_lgcc</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished building graph.&quot;</span><span class="p">)</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">out_of_LgCC</span><span class="p">,</span> <span class="n">word_to_idx</span><span class="p">)</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a>
</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a>    <span class="k">def</span> <span class="nf">load_from_graph</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">graph</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a><span class="sd">        Build a sinr object from a networkit graph object</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a>
</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a><span class="sd">        Parameters</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a><span class="sd">        ----------</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a><span class="sd">        graph : networkit</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a><span class="sd">            Networkit graph object.</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a><span class="sd">        norm : strategy_norm, optional</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a><span class="sd">            If the graph weights be normalized (for example using PMI). The default is None.</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a><span class="sd">        n_jobs : int, optional</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a><span class="sd">            Number of jobs that should be used The default is 1.</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a>
</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a><span class="sd">        Returns</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a><span class="sd">        -------</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a><span class="sd">        TYPE</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a><span class="sd">            A SINr object, this method acts as a factory.</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a>
</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a>        <span class="n">word_to_idx</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a>        <span class="n">idx</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a>        <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">iterNodes</span><span class="p">():</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a>            <span class="n">word_to_idx</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">=</span> <span class="n">idx</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a>            <span class="n">idx</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a>        <span class="n">graph</span> <span class="o">=</span> <span class="n">strategy_norm</span><span class="o">.</span><span class="n">apply_norm</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">norm</span><span class="p">)</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a>        <span class="n">out_of_LgCC</span> <span class="o">=</span> <span class="n">get_lgcc</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished building graph.&quot;</span><span class="p">)</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">out_of_LgCC</span><span class="p">,</span> <span class="n">word_to_idx</span><span class="p">)</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a>
</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">algo</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a><span class="sd">        Runs the training of the embedding, i.e. community detection + vectors extraction</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a>
</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a><span class="sd">        Parameters</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a><span class="sd">        ----------</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a><span class="sd">        algo : networkit.algo.community, optional</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a><span class="sd">            Community detection algorithm. The default, None allorws to run a Louvain algorithm</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a>
</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a><span class="sd">        Returns</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a><span class="sd">        -------</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a><span class="sd">        None.</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a>
</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a>        <span class="k">if</span> <span class="n">algo</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a>            <span class="n">algo</span> <span class="o">=</span> <span class="n">community</span><span class="o">.</span><span class="n">PLM</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cooc_graph</span><span class="p">,</span> <span class="n">refine</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">turbo</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">communities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">detect_communities</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cooc_graph</span><span class="p">,</span> <span class="n">algo</span><span class="o">=</span><span class="n">algo</span><span class="p">)</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">extract_embeddings</span><span class="p">(</span><span class="n">G</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cooc_graph</span><span class="p">,</span> <span class="n">communities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">communities</span><span class="p">)</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a>
</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a>    <span class="k">def</span> <span class="nf">detect_communities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">algo</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">inspect</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a><span class="sd">        Runs community detection on the graph</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a>
</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a><span class="sd">        Parameters</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a><span class="sd">        ----------</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a><span class="sd">        gamma : int, optional</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a><span class="sd">            For Louvain algorithm which is the default algorithm (ignore this parameter if param algo is used), allows to control the size of the communities. The greater it is, the smaller the communities. The default is 100.</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a><span class="sd">        algo : networkit.algo.community, optional</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a><span class="sd">            Community detection algorithm. The default, None allorws to run a Louvain algorithm</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a><span class="sd">        inspect : boolean, optional</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a><span class="sd">            Whether or not one wants to get insight about the communities extracted. The default is True.</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a>
</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a><span class="sd">        Returns</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a><span class="sd">        -------</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a><span class="sd">        communities : networkit partition</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a><span class="sd">            Community structure</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a>
</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Detecting communities.&quot;</span><span class="p">)</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a>        <span class="k">if</span> <span class="n">algo</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a>            <span class="n">algo</span> <span class="o">=</span> <span class="n">community</span><span class="o">.</span><span class="n">PLM</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cooc_graph</span><span class="p">,</span> <span class="n">refine</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="n">gamma</span><span class="p">,</span> <span class="n">turbo</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a>        <span class="n">communities</span> <span class="o">=</span> <span class="n">community</span><span class="o">.</span><span class="n">detectCommunities</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cooc_graph</span><span class="p">,</span> <span class="n">algo</span><span class="o">=</span><span class="n">algo</span><span class="p">,</span> <span class="n">inspect</span><span class="o">=</span><span class="n">inspect</span><span class="p">)</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a>        <span class="n">communities</span><span class="o">.</span><span class="n">compact</span><span class="p">(</span><span class="n">useTurbo</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Consecutive communities from 0 to number of communities - 1</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">communities</span> <span class="o">=</span> <span class="n">communities</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished detecting communities.&quot;</span><span class="p">)</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a>        <span class="k">return</span> <span class="n">communities</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a>
</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a>    <span class="k">def</span> <span class="nf">extract_embeddings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">communities</span><span class="p">):</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a><span class="sd">        </span>
</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a>
</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a><span class="sd">        Parameters</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a><span class="sd">        ----------</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a><span class="sd">        communities : networkit partition</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a><span class="sd">            Community structures</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a>
</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a><span class="sd">        Returns</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a><span class="sd">        -------</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a><span class="sd">        Extracts the vectors and store them in the SINr object</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a>
</span><span id="L-175"><a href="#L-175"><span class="linenos">175</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos">176</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Extracting embeddings.&quot;</span><span class="p">)</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos">177</span></a>
</span><span id="L-178"><a href="#L-178"><span class="linenos">178</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Applying NFM.&quot;</span><span class="p">)</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos">179</span></a>        <span class="n">np</span><span class="p">,</span> <span class="n">nr</span><span class="p">,</span> <span class="n">nfm</span> <span class="o">=</span> <span class="n">get_nfm_embeddings</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cooc_graph</span><span class="p">,</span> <span class="n">communities</span><span class="o">.</span><span class="n">getVector</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span><span class="p">)</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos">180</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">np</span> <span class="o">=</span> <span class="n">np</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos">181</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nr</span> <span class="o">=</span> <span class="n">nr</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos">182</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nfm</span> <span class="o">=</span> <span class="n">nfm</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos">183</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;NFM successfully applied.&quot;</span><span class="p">)</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos">184</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished extracting embeddings.&quot;</span><span class="p">)</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos">185</span></a>
</span><span id="L-186"><a href="#L-186"><span class="linenos">186</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">graph</span><span class="p">,</span> <span class="n">lgcc</span><span class="p">,</span> <span class="n">wrd_to_idx</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos">187</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos">188</span></a><span class="sd">        Should not be used ! Some factory methods below starting with &quot;load_&quot; should be used instead.</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos">189</span></a>
</span><span id="L-190"><a href="#L-190"><span class="linenos">190</span></a><span class="sd">        Parameters</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos">191</span></a><span class="sd">        ----------</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos">192</span></a><span class="sd">        graph : networkit graph</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos">193</span></a><span class="sd">        lgcc : networkit graph</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos">194</span></a><span class="sd">            the largest connected component of graph</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos">195</span></a><span class="sd">        wrd_to_idx : dict</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos">196</span></a><span class="sd">            A matching between a vocabulary and ids. Useful for text. Otherwise, the vocabulary and the ids are the same.</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos">197</span></a><span class="sd">        n_jobs : int, optional</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos">198</span></a><span class="sd">            Number of jobs that should be runned. The default is 1.</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos">199</span></a>
</span><span id="L-200"><a href="#L-200"><span class="linenos">200</span></a><span class="sd">        Returns</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos">201</span></a><span class="sd">        -------</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos">202</span></a><span class="sd">        None.</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos">203</span></a>
</span><span id="L-204"><a href="#L-204"><span class="linenos">204</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos">205</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nfm</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos">206</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nr</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos">207</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">np</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-208"><a href="#L-208"><span class="linenos">208</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">communities</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos">209</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span> <span class="o">=</span> <span class="n">n_jobs</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos">210</span></a>        <span class="n">setNumberOfThreads</span><span class="p">(</span><span class="n">n_jobs</span><span class="p">)</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos">211</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">wrd_to_idx</span> <span class="o">=</span> <span class="n">wrd_to_idx</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos">212</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">idx_to_wrd</span> <span class="o">=</span> <span class="n">_flip_keys_values</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wrd_to_idx</span><span class="p">)</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos">213</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cooc_graph</span> <span class="o">=</span> <span class="n">graph</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos">214</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">out_of_LgCC</span> <span class="o">=</span> <span class="n">lgcc</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos">215</span></a>
</span><span id="L-216"><a href="#L-216"><span class="linenos">216</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">wd_before</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wd_after</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos">217</span></a>
</span><span id="L-218"><a href="#L-218"><span class="linenos">218</span></a>    <span class="k">def</span> <span class="nf">get_out_of_LgCC_coms</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">communities</span><span class="p">):</span>
</span><span id="L-219"><a href="#L-219"><span class="linenos">219</span></a>        <span class="n">set_out_of_LgCC</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_of_LgCC</span><span class="p">)</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos">220</span></a>        <span class="n">out_of_LgCC_coms</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos">221</span></a>        <span class="k">for</span> <span class="n">com</span> <span class="ow">in</span> <span class="n">communities</span><span class="o">.</span><span class="n">getSubsetIds</span><span class="p">():</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos">222</span></a>            <span class="k">if</span> <span class="nb">set</span><span class="p">(</span><span class="n">communities</span><span class="o">.</span><span class="n">getMembers</span><span class="p">())</span> <span class="o">&amp;</span> <span class="n">set_out_of_LgCC</span> <span class="o">!=</span> <span class="p">{}:</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos">223</span></a>                <span class="n">out_of_LgCC_coms</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">com</span><span class="p">)</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos">224</span></a>        <span class="k">return</span> <span class="n">out_of_LgCC_coms</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos">225</span></a>
</span><span id="L-226"><a href="#L-226"><span class="linenos">226</span></a>    <span class="k">def</span> <span class="nf">get_cooc_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos">227</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">cooc_graph</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos">228</span></a>
</span><span id="L-229"><a href="#L-229"><span class="linenos">229</span></a>    <span class="k">def</span> <span class="nf">get_nr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos">230</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nr</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos">231</span></a>            <span class="k">raise</span> <span class="n">NoEmbeddingExtractedException</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos">232</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos">233</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">nr</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos">234</span></a>
</span><span id="L-235"><a href="#L-235"><span class="linenos">235</span></a>    <span class="k">def</span> <span class="nf">get_np</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos">236</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">np</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos">237</span></a>            <span class="k">raise</span> <span class="n">NoEmbeddingExtractedException</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos">238</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos">239</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">np</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos">240</span></a>
</span><span id="L-241"><a href="#L-241"><span class="linenos">241</span></a>    <span class="k">def</span> <span class="nf">get_nfm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos">242</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nfm</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos">243</span></a>            <span class="k">raise</span> <span class="n">NoEmbeddingExtractedException</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos">244</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos">245</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">nfm</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos">246</span></a>
</span><span id="L-247"><a href="#L-247"><span class="linenos">247</span></a>    <span class="k">def</span> <span class="nf">get_vocabulary</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos">248</span></a>        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">idx_to_wrd</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos">249</span></a>
</span><span id="L-250"><a href="#L-250"><span class="linenos">250</span></a>    <span class="k">def</span> <span class="nf">get_wrd_to_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos">251</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">wrd_to_idx</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos">252</span></a>
</span><span id="L-253"><a href="#L-253"><span class="linenos">253</span></a>    <span class="k">def</span> <span class="nf">get_communities</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos">254</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">communities</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos">255</span></a>            <span class="k">raise</span> <span class="n">NoCommunityDetectedException</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos">256</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos">257</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">communities</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos">258</span></a>
</span><span id="L-259"><a href="#L-259"><span class="linenos">259</span></a>
</span><span id="L-260"><a href="#L-260"><span class="linenos">260</span></a><span class="k">def</span> <span class="nf">_flip_keys_values</span><span class="p">(</span><span class="n">dictionary</span><span class="p">):</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos">261</span></a>    <span class="k">return</span> <span class="nb">dict</span><span class="p">((</span><span class="n">v</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos">262</span></a><span class="k">def</span> <span class="nf">get_lgcc</span><span class="p">(</span><span class="n">graph</span><span class="p">):</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos">263</span></a>    <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos">264</span></a>
</span><span id="L-265"><a href="#L-265"><span class="linenos">265</span></a><span class="sd">    Parameters</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos">266</span></a><span class="sd">    ----------</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos">267</span></a><span class="sd">    graph : networkit graph</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos">268</span></a>
</span><span id="L-269"><a href="#L-269"><span class="linenos">269</span></a>
</span><span id="L-270"><a href="#L-270"><span class="linenos">270</span></a><span class="sd">    Returns</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos">271</span></a><span class="sd">    -------</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos">272</span></a><span class="sd">    out_of_LgCC : networkit graph</span>
</span><span id="L-273"><a href="#L-273"><span class="linenos">273</span></a><span class="sd">        the largest connected component of the graph provided as a parameter</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos">274</span></a>
</span><span id="L-275"><a href="#L-275"><span class="linenos">275</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos">276</span></a>    <span class="n">out_of_LgCC</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">graph</span><span class="o">.</span><span class="n">iterNodes</span><span class="p">())</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">components</span><span class="o">.</span><span class="n">ConnectedComponents</span><span class="o">.</span><span class="n">extractLargestConnectedComponent</span><span class="p">(</span>
</span><span id="L-277"><a href="#L-277"><span class="linenos">277</span></a>        <span class="n">graph</span><span class="p">)</span><span class="o">.</span><span class="n">iterNodes</span><span class="p">())</span>  <span class="c1"># Extract out of largest connected component vocabulary</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos">278</span></a>    <span class="k">return</span> <span class="n">out_of_LgCC</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos">279</span></a>
</span><span id="L-280"><a href="#L-280"><span class="linenos">280</span></a>
</span><span id="L-281"><a href="#L-281"><span class="linenos">281</span></a><span class="k">def</span> <span class="nf">get_graph_from_matrix</span><span class="p">(</span><span class="n">matrix</span><span class="p">):</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos">282</span></a>    <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos">283</span></a>
</span><span id="L-284"><a href="#L-284"><span class="linenos">284</span></a><span class="sd">    Parameters</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos">285</span></a><span class="sd">    ----------</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos">286</span></a><span class="sd">    matrix : coo_matrix</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos">287</span></a><span class="sd">        A sparse matrix describing a graph</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos">288</span></a>
</span><span id="L-289"><a href="#L-289"><span class="linenos">289</span></a><span class="sd">    Returns</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos">290</span></a><span class="sd">    -------</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos">291</span></a><span class="sd">    graph : networkit graph</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos">292</span></a><span class="sd">        the graph corresponding to the coo matrix</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos">293</span></a>
</span><span id="L-294"><a href="#L-294"><span class="linenos">294</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-295"><a href="#L-295"><span class="linenos">295</span></a>    <span class="n">graph</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">(</span><span class="n">weighted</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos">296</span></a>    <span class="n">rows</span><span class="p">,</span> <span class="n">cols</span> <span class="o">=</span> <span class="n">matrix</span><span class="o">.</span><span class="n">row</span><span class="p">,</span> <span class="n">matrix</span><span class="o">.</span><span class="n">col</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos">297</span></a>    <span class="n">weights</span> <span class="o">=</span> <span class="n">matrix</span><span class="o">.</span><span class="n">data</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos">298</span></a>    <span class="k">for</span> <span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">weight</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">rows</span><span class="p">,</span> <span class="n">cols</span><span class="p">,</span> <span class="n">weights</span><span class="p">):</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos">299</span></a>        <span class="n">graph</span><span class="o">.</span><span class="n">addEdge</span><span class="p">(</span><span class="n">u</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="n">col</span><span class="p">,</span> <span class="n">w</span><span class="o">=</span><span class="n">weight</span><span class="p">,</span> <span class="n">addMissing</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos">300</span></a>    <span class="k">return</span> <span class="n">graph</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos">301</span></a>
</span><span id="L-302"><a href="#L-302"><span class="linenos">302</span></a>
</span><span id="L-303"><a href="#L-303"><span class="linenos">303</span></a><span class="k">class</span> <span class="nc">NoCommunityDetectedException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos">304</span></a>    <span class="s2">&quot;Raised when the communities were not detected&quot;</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos">305</span></a>    <span class="k">pass</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos">306</span></a>
</span><span id="L-307"><a href="#L-307"><span class="linenos">307</span></a>
</span><span id="L-308"><a href="#L-308"><span class="linenos">308</span></a><span class="k">class</span> <span class="nc">NoEmbeddingExtractedException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos">309</span></a>    <span class="s2">&quot;Raised when the embeddings were not extracted&quot;</span>
</span><span id="L-310"><a href="#L-310"><span class="linenos">310</span></a>    <span class="k">pass</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos">311</span></a>
</span><span id="L-312"><a href="#L-312"><span class="linenos">312</span></a>
</span><span id="L-313"><a href="#L-313"><span class="linenos">313</span></a><span class="k">class</span> <span class="nc">ModelBuilder</span><span class="p">:</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos">314</span></a>    <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos">315</span></a><span class="sd">    Object that should be used after the training of word or graph embeddings using the SINr object.</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos">316</span></a><span class="sd">    The ModelBuilder will make use of the SINr object to build a SINrVectors object that will allow to use the resulting vectors efficiently.</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos">317</span></a><span class="sd">    ...</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos">318</span></a>
</span><span id="L-319"><a href="#L-319"><span class="linenos">319</span></a><span class="sd">    Attributes</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos">320</span></a><span class="sd">    ----------</span>
</span><span id="L-321"><a href="#L-321"><span class="linenos">321</span></a><span class="sd">    Attributes should not be read</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos">322</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos">323</span></a>
</span><span id="L-324"><a href="#L-324"><span class="linenos">324</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sinr</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_neighbors</span><span class="o">=</span><span class="mi">31</span><span class="p">):</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos">325</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos">326</span></a><span class="sd">        Creating a ModelBuilder object to build a SINrVectors one</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos">327</span></a>
</span><span id="L-328"><a href="#L-328"><span class="linenos">328</span></a><span class="sd">        Parameters</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos">329</span></a><span class="sd">        ----------</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos">330</span></a><span class="sd">        sinr : SINr</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos">331</span></a><span class="sd">            A SINr object with extracted vectors</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos">332</span></a><span class="sd">        name : string</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos">333</span></a><span class="sd">            Name of the model</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos">334</span></a><span class="sd">        n_jobs : TYPE, optional</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos">335</span></a><span class="sd">            DESCRIPTION. The default is 1.</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos">336</span></a><span class="sd">        n_neighbors : int, optional</span>
</span><span id="L-337"><a href="#L-337"><span class="linenos">337</span></a><span class="sd">            Number of neighbors to use for similarity. The default is 31.</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos">338</span></a>
</span><span id="L-339"><a href="#L-339"><span class="linenos">339</span></a><span class="sd">        Returns</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos">340</span></a><span class="sd">        -------</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos">341</span></a><span class="sd">        None.</span>
</span><span id="L-342"><a href="#L-342"><span class="linenos">342</span></a>
</span><span id="L-343"><a href="#L-343"><span class="linenos">343</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-344"><a href="#L-344"><span class="linenos">344</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">sinr</span> <span class="o">=</span> <span class="n">sinr</span>
</span><span id="L-345"><a href="#L-345"><span class="linenos">345</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">SINrVectors</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">n_jobs</span><span class="p">,</span> <span class="n">n_neighbors</span><span class="p">)</span>
</span><span id="L-346"><a href="#L-346"><span class="linenos">346</span></a>
</span><span id="L-347"><a href="#L-347"><span class="linenos">347</span></a>    <span class="k">def</span> <span class="nf">with_embeddings_nr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos">348</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-349"><a href="#L-349"><span class="linenos">349</span></a><span class="sd">        Adding Node Recall vectors to the SINrVectors object</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos">350</span></a>
</span><span id="L-351"><a href="#L-351"><span class="linenos">351</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos">352</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">set_vectors</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sinr</span><span class="o">.</span><span class="n">get_nr</span><span class="p">())</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos">353</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="L-354"><a href="#L-354"><span class="linenos">354</span></a>
</span><span id="L-355"><a href="#L-355"><span class="linenos">355</span></a>    <span class="k">def</span> <span class="nf">with_embeddings_nfm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos">356</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-357"><a href="#L-357"><span class="linenos">357</span></a><span class="sd">        Adding NFM (Node Recall + Node Predominance) vectors to the SINrVectors object</span>
</span><span id="L-358"><a href="#L-358"><span class="linenos">358</span></a>
</span><span id="L-359"><a href="#L-359"><span class="linenos">359</span></a><span class="sd">        Returns</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos">360</span></a><span class="sd">        -------</span>
</span><span id="L-361"><a href="#L-361"><span class="linenos">361</span></a><span class="sd">        TYPE</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos">362</span></a><span class="sd">            DESCRIPTION.</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos">363</span></a>
</span><span id="L-364"><a href="#L-364"><span class="linenos">364</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos">365</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">set_vectors</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sinr</span><span class="o">.</span><span class="n">get_nfm</span><span class="p">())</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos">366</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos">367</span></a>
</span><span id="L-368"><a href="#L-368"><span class="linenos">368</span></a>    <span class="k">def</span> <span class="nf">with_np</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-369"><a href="#L-369"><span class="linenos">369</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-370"><a href="#L-370"><span class="linenos">370</span></a><span class="sd">        Storing Node predominance values in order to label dimensions for instance</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos">371</span></a>
</span><span id="L-372"><a href="#L-372"><span class="linenos">372</span></a><span class="sd">        Returns</span>
</span><span id="L-373"><a href="#L-373"><span class="linenos">373</span></a><span class="sd">        -------</span>
</span><span id="L-374"><a href="#L-374"><span class="linenos">374</span></a><span class="sd">        TYPE</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos">375</span></a><span class="sd">            DESCRIPTION.</span>
</span><span id="L-376"><a href="#L-376"><span class="linenos">376</span></a>
</span><span id="L-377"><a href="#L-377"><span class="linenos">377</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos">378</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">set_np</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sinr</span><span class="o">.</span><span class="n">get_np</span><span class="p">())</span>
</span><span id="L-379"><a href="#L-379"><span class="linenos">379</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos">380</span></a>
</span><span id="L-381"><a href="#L-381"><span class="linenos">381</span></a>    <span class="k">def</span> <span class="nf">with_vocabulary</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos">382</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos">383</span></a><span class="sd">        To deal with word vectors or graph when nodes have labels</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos">384</span></a>
</span><span id="L-385"><a href="#L-385"><span class="linenos">385</span></a><span class="sd">        Returns</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos">386</span></a><span class="sd">        -------</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos">387</span></a><span class="sd">        TYPE</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos">388</span></a><span class="sd">            DESCRIPTION.</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos">389</span></a>
</span><span id="L-390"><a href="#L-390"><span class="linenos">390</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-391"><a href="#L-391"><span class="linenos">391</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">set_vocabulary</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sinr</span><span class="o">.</span><span class="n">get_vocabulary</span><span class="p">())</span>
</span><span id="L-392"><a href="#L-392"><span class="linenos">392</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="L-393"><a href="#L-393"><span class="linenos">393</span></a>
</span><span id="L-394"><a href="#L-394"><span class="linenos">394</span></a>    <span class="k">def</span> <span class="nf">with_communities</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-395"><a href="#L-395"><span class="linenos">395</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-396"><a href="#L-396"><span class="linenos">396</span></a><span class="sd">        To keep the interpretability of the model using the communities</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos">397</span></a>
</span><span id="L-398"><a href="#L-398"><span class="linenos">398</span></a><span class="sd">        Returns</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos">399</span></a><span class="sd">        -------</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos">400</span></a><span class="sd">        TYPE</span>
</span><span id="L-401"><a href="#L-401"><span class="linenos">401</span></a><span class="sd">            DESCRIPTION.</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos">402</span></a>
</span><span id="L-403"><a href="#L-403"><span class="linenos">403</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos">404</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">set_communities</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sinr</span><span class="o">.</span><span class="n">get_communities</span><span class="p">())</span>
</span><span id="L-405"><a href="#L-405"><span class="linenos">405</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="L-406"><a href="#L-406"><span class="linenos">406</span></a>
</span><span id="L-407"><a href="#L-407"><span class="linenos">407</span></a>    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-408"><a href="#L-408"><span class="linenos">408</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-409"><a href="#L-409"><span class="linenos">409</span></a><span class="sd">        To get the SINrVectors object</span>
</span><span id="L-410"><a href="#L-410"><span class="linenos">410</span></a>
</span><span id="L-411"><a href="#L-411"><span class="linenos">411</span></a><span class="sd">        Returns</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos">412</span></a><span class="sd">        -------</span>
</span><span id="L-413"><a href="#L-413"><span class="linenos">413</span></a><span class="sd">        TYPE</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos">414</span></a><span class="sd">            DESCRIPTION.</span>
</span><span id="L-415"><a href="#L-415"><span class="linenos">415</span></a>
</span><span id="L-416"><a href="#L-416"><span class="linenos">416</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos">417</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span>
</span><span id="L-418"><a href="#L-418"><span class="linenos">418</span></a>
</span><span id="L-419"><a href="#L-419"><span class="linenos">419</span></a>
</span><span id="L-420"><a href="#L-420"><span class="linenos">420</span></a><span class="k">class</span> <span class="nc">NoInterpretabilityException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos">421</span></a>    <span class="s2">&quot;Raised when the communities were not included in the model that was built. It is thus not interpretable anymore.&quot;</span>
</span><span id="L-422"><a href="#L-422"><span class="linenos">422</span></a>    <span class="k">pass</span>
</span><span id="L-423"><a href="#L-423"><span class="linenos">423</span></a>
</span><span id="L-424"><a href="#L-424"><span class="linenos">424</span></a>
</span><span id="L-425"><a href="#L-425"><span class="linenos">425</span></a><span class="k">class</span> <span class="nc">NoVocabularyException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
</span><span id="L-426"><a href="#L-426"><span class="linenos">426</span></a>    <span class="s2">&quot;Raised when no vocabulary was included in the model that was built. One cant play with words.&quot;</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos">427</span></a>    <span class="k">pass</span>
</span><span id="L-428"><a href="#L-428"><span class="linenos">428</span></a>
</span><span id="L-429"><a href="#L-429"><span class="linenos">429</span></a>
</span><span id="L-430"><a href="#L-430"><span class="linenos">430</span></a><span class="k">class</span> <span class="nc">SINrVectors</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos">431</span></a>    <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-432"><a href="#L-432"><span class="linenos">432</span></a><span class="sd">    After having trained word or graph embeddings using SINr object, use the ModelBuilder object to build SINrVectors.</span>
</span><span id="L-433"><a href="#L-433"><span class="linenos">433</span></a><span class="sd">    SINrVectors is the object to manipulate the model, explore the embedding space and its interpretability</span>
</span><span id="L-434"><a href="#L-434"><span class="linenos">434</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-435"><a href="#L-435"><span class="linenos">435</span></a>
</span><span id="L-436"><a href="#L-436"><span class="linenos">436</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">n_jobs</span><span class="p">,</span> <span class="n">n_neighbors</span><span class="p">):</span>
</span><span id="L-437"><a href="#L-437"><span class="linenos">437</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-438"><a href="#L-438"><span class="linenos">438</span></a><span class="sd">        Initializing SINr vectors objets</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos">439</span></a><span class="sd">        @param name: name of the model, useful to save it</span>
</span><span id="L-440"><a href="#L-440"><span class="linenos">440</span></a><span class="sd">        @param n_jobs: number of jobs to use (k-nearest neighbors to obtain most similar words or nodes)</span>
</span><span id="L-441"><a href="#L-441"><span class="linenos">441</span></a><span class="sd">        @param n_neighbors: number of neighbors to consider when querying the most similar words or nodes</span>
</span><span id="L-442"><a href="#L-442"><span class="linenos">442</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-443"><a href="#L-443"><span class="linenos">443</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">np</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos">444</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">neighbors</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-445"><a href="#L-445"><span class="linenos">445</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">communities</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos">446</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">vocab</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos">447</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">vectors</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-448"><a href="#L-448"><span class="linenos">448</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos">449</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span> <span class="o">=</span> <span class="n">n_jobs</span>
</span><span id="L-450"><a href="#L-450"><span class="linenos">450</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">n_neighbors</span> <span class="o">=</span> <span class="n">n_neighbors</span>
</span><span id="L-451"><a href="#L-451"><span class="linenos">451</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">labels</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-452"><a href="#L-452"><span class="linenos">452</span></a>
</span><span id="L-453"><a href="#L-453"><span class="linenos">453</span></a>    <span class="k">def</span> <span class="nf">set_n_jobs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_jobs</span><span class="p">):</span>
</span><span id="L-454"><a href="#L-454"><span class="linenos">454</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-455"><a href="#L-455"><span class="linenos">455</span></a>
</span><span id="L-456"><a href="#L-456"><span class="linenos">456</span></a><span class="sd">        @param n_jobs: number of jobs</span>
</span><span id="L-457"><a href="#L-457"><span class="linenos">457</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-458"><a href="#L-458"><span class="linenos">458</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span> <span class="o">=</span> <span class="n">n_jobs</span>
</span><span id="L-459"><a href="#L-459"><span class="linenos">459</span></a>
</span><span id="L-460"><a href="#L-460"><span class="linenos">460</span></a>    <span class="k">def</span> <span class="nf">set_vocabulary</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">voc</span><span class="p">):</span>
</span><span id="L-461"><a href="#L-461"><span class="linenos">461</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-462"><a href="#L-462"><span class="linenos">462</span></a>
</span><span id="L-463"><a href="#L-463"><span class="linenos">463</span></a><span class="sd">        @param voc: set the vocabulary when dealing with words or nodes with labels. label parameter is set to True.</span>
</span><span id="L-464"><a href="#L-464"><span class="linenos">464</span></a><span class="sd">        By default, labels from the vocab will be used.</span>
</span><span id="L-465"><a href="#L-465"><span class="linenos">465</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-466"><a href="#L-466"><span class="linenos">466</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">vocab</span> <span class="o">=</span> <span class="n">voc</span>
</span><span id="L-467"><a href="#L-467"><span class="linenos">467</span></a>        <span class="c1"># self.wrd_to_id = wrd_to_id</span>
</span><span id="L-468"><a href="#L-468"><span class="linenos">468</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">labels</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-469"><a href="#L-469"><span class="linenos">469</span></a>
</span><span id="L-470"><a href="#L-470"><span class="linenos">470</span></a>    <span class="k">def</span> <span class="nf">set_vectors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">embeddings</span><span class="p">):</span>
</span><span id="L-471"><a href="#L-471"><span class="linenos">471</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-472"><a href="#L-472"><span class="linenos">472</span></a>
</span><span id="L-473"><a href="#L-473"><span class="linenos">473</span></a><span class="sd">        @param embeddings:  initialize the vectors and build the nearest neighbors data structure using sklearn</span>
</span><span id="L-474"><a href="#L-474"><span class="linenos">474</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-475"><a href="#L-475"><span class="linenos">475</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">vectors</span> <span class="o">=</span> <span class="n">embeddings</span>
</span><span id="L-476"><a href="#L-476"><span class="linenos">476</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">neighbors</span> <span class="o">=</span> <span class="n">NearestNeighbors</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_neighbors</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;cosine&#39;</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span>
</span><span id="L-477"><a href="#L-477"><span class="linenos">477</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">vectors</span><span class="p">)</span>
</span><span id="L-478"><a href="#L-478"><span class="linenos">478</span></a>
</span><span id="L-479"><a href="#L-479"><span class="linenos">479</span></a>    <span class="k">def</span> <span class="nf">set_np</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">np</span><span class="p">):</span>
</span><span id="L-480"><a href="#L-480"><span class="linenos">480</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">np</span> <span class="o">=</span> <span class="n">np</span>
</span><span id="L-481"><a href="#L-481"><span class="linenos">481</span></a>
</span><span id="L-482"><a href="#L-482"><span class="linenos">482</span></a>    <span class="k">def</span> <span class="nf">set_communities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">com</span><span class="p">):</span>
</span><span id="L-483"><a href="#L-483"><span class="linenos">483</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">communities</span> <span class="o">=</span> <span class="n">com</span>
</span><span id="L-484"><a href="#L-484"><span class="linenos">484</span></a>
</span><span id="L-485"><a href="#L-485"><span class="linenos">485</span></a>    <span class="k">def</span> <span class="nf">_get_index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos">486</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-487"><a href="#L-487"><span class="linenos">487</span></a><span class="sd">        Returns the index of the object if there is a list of labels. If not, return the obj.</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos">488</span></a><span class="sd">        @param obj:</span>
</span><span id="L-489"><a href="#L-489"><span class="linenos">489</span></a><span class="sd">        @return:</span>
</span><span id="L-490"><a href="#L-490"><span class="linenos">490</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-491"><a href="#L-491"><span class="linenos">491</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vocab</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">labels</span> <span class="k">else</span> <span class="n">obj</span>
</span><span id="L-492"><a href="#L-492"><span class="linenos">492</span></a>        <span class="k">return</span> <span class="n">index</span>
</span><span id="L-493"><a href="#L-493"><span class="linenos">493</span></a>
</span><span id="L-494"><a href="#L-494"><span class="linenos">494</span></a>    <span class="k">def</span> <span class="nf">most_similar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos">495</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-496"><a href="#L-496"><span class="linenos">496</span></a><span class="sd">        Get the most similar objects of the one passed as a parameter using the cosine of their vectors</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos">497</span></a>
</span><span id="L-498"><a href="#L-498"><span class="linenos">498</span></a><span class="sd">        Parameters</span>
</span><span id="L-499"><a href="#L-499"><span class="linenos">499</span></a><span class="sd">        ----------</span>
</span><span id="L-500"><a href="#L-500"><span class="linenos">500</span></a><span class="sd">        obj : integer or string</span>
</span><span id="L-501"><a href="#L-501"><span class="linenos">501</span></a><span class="sd">            DESCRIPTION.</span>
</span><span id="L-502"><a href="#L-502"><span class="linenos">502</span></a>
</span><span id="L-503"><a href="#L-503"><span class="linenos">503</span></a><span class="sd">        Returns</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos">504</span></a><span class="sd">        -------</span>
</span><span id="L-505"><a href="#L-505"><span class="linenos">505</span></a><span class="sd">        dict</span>
</span><span id="L-506"><a href="#L-506"><span class="linenos">506</span></a><span class="sd">            DESCRIPTION.</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos">507</span></a>
</span><span id="L-508"><a href="#L-508"><span class="linenos">508</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos">509</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_index</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</span><span id="L-510"><a href="#L-510"><span class="linenos">510</span></a>
</span><span id="L-511"><a href="#L-511"><span class="linenos">511</span></a>        <span class="n">distances</span><span class="p">,</span> <span class="n">neighbor_idx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">neighbors</span><span class="o">.</span><span class="n">kneighbors</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vectors</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="p">:],</span> <span class="n">return_distance</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos">512</span></a>        <span class="c1"># print(similarities, neighbor_idx)</span>
</span><span id="L-513"><a href="#L-513"><span class="linenos">513</span></a>        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;object &quot;</span><span class="p">:</span> <span class="n">obj</span><span class="p">,</span>
</span><span id="L-514"><a href="#L-514"><span class="linenos">514</span></a>                <span class="s2">&quot;neighbors &quot;</span><span class="p">:</span> <span class="p">[(</span><span class="bp">self</span><span class="o">.</span><span class="n">vocab</span><span class="p">[</span><span class="n">nbr</span><span class="p">]</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">labels</span> <span class="k">else</span> <span class="n">nbr</span><span class="p">,</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">dist</span><span class="p">)</span> <span class="k">for</span> <span class="n">dist</span><span class="p">,</span> <span class="n">nbr</span> <span class="ow">in</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos">515</span></a>                               <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">distances</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span> <span class="n">neighbor_idx</span><span class="o">.</span><span class="n">flatten</span><span class="p">()))[</span><span class="mi">1</span><span class="p">::]]}</span>
</span><span id="L-516"><a href="#L-516"><span class="linenos">516</span></a>
</span><span id="L-517"><a href="#L-517"><span class="linenos">517</span></a>    <span class="k">def</span> <span class="nf">_get_vector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idx</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="L-518"><a href="#L-518"><span class="linenos">518</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-519"><a href="#L-519"><span class="linenos">519</span></a><span class="sd">        Returns a list from the csr matrix</span>
</span><span id="L-520"><a href="#L-520"><span class="linenos">520</span></a><span class="sd">        @param idx: id of the vector requested</span>
</span><span id="L-521"><a href="#L-521"><span class="linenos">521</span></a><span class="sd">        @param row: if the vector should be a row or a column of the csr matrix of embeddings</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos">522</span></a><span class="sd">        @return: the vector</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos">523</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-524"><a href="#L-524"><span class="linenos">524</span></a>        <span class="n">vector</span> <span class="o">=</span> <span class="n">asarray</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vectors</span><span class="o">.</span><span class="n">getrow</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span><span class="o">.</span><span class="n">todense</span><span class="p">())</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span> <span class="k">if</span> <span class="n">row</span> <span class="k">else</span> <span class="n">asarray</span><span class="p">(</span>
</span><span id="L-525"><a href="#L-525"><span class="linenos">525</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">vectors</span><span class="o">.</span><span class="n">getcol</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span><span class="o">.</span><span class="n">todense</span><span class="p">())</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos">526</span></a>        <span class="k">return</span> <span class="n">vector</span>
</span><span id="L-527"><a href="#L-527"><span class="linenos">527</span></a>
</span><span id="L-528"><a href="#L-528"><span class="linenos">528</span></a>    <span class="k">def</span> <span class="nf">_get_topk</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idx</span><span class="p">,</span> <span class="n">topk</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="L-529"><a href="#L-529"><span class="linenos">529</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-530"><a href="#L-530"><span class="linenos">530</span></a><span class="sd">        return indices of the topk values in the vector of id idx</span>
</span><span id="L-531"><a href="#L-531"><span class="linenos">531</span></a><span class="sd">        @param idx: idx of the vector in which the topk values are searched</span>
</span><span id="L-532"><a href="#L-532"><span class="linenos">532</span></a><span class="sd">        @param topk: number of values to get</span>
</span><span id="L-533"><a href="#L-533"><span class="linenos">533</span></a><span class="sd">        @param row: if the vector is a row or a column</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos">534</span></a><span class="sd">        @return: the indices of the topk values in the vector</span>
</span><span id="L-535"><a href="#L-535"><span class="linenos">535</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos">536</span></a>        <span class="n">vector</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_vector</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span>
</span><span id="L-537"><a href="#L-537"><span class="linenos">537</span></a>        <span class="n">topk</span> <span class="o">=</span> <span class="o">-</span><span class="n">topk</span>
</span><span id="L-538"><a href="#L-538"><span class="linenos">538</span></a>        <span class="n">ind</span> <span class="o">=</span> <span class="n">argpartition</span><span class="p">(</span><span class="n">vector</span><span class="p">,</span> <span class="n">topk</span><span class="p">)[</span><span class="n">topk</span><span class="p">:]</span>
</span><span id="L-539"><a href="#L-539"><span class="linenos">539</span></a>        <span class="n">ind</span> <span class="o">=</span> <span class="n">ind</span><span class="p">[</span><span class="n">argsort</span><span class="p">(</span><span class="n">vector</span><span class="p">[</span><span class="n">ind</span><span class="p">])[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
</span><span id="L-540"><a href="#L-540"><span class="linenos">540</span></a>        <span class="k">return</span> <span class="n">ind</span>
</span><span id="L-541"><a href="#L-541"><span class="linenos">541</span></a>
</span><span id="L-542"><a href="#L-542"><span class="linenos">542</span></a>    <span class="c1"># Using communities to describe dimensions</span>
</span><span id="L-543"><a href="#L-543"><span class="linenos">543</span></a>    <span class="k">def</span> <span class="nf">get_dimension_descriptors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
</span><span id="L-544"><a href="#L-544"><span class="linenos">544</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-545"><a href="#L-545"><span class="linenos">545</span></a><span class="sd">        returns the objects that constitute the dimension of obj, i.e. the members of the community of obj</span>
</span><span id="L-546"><a href="#L-546"><span class="linenos">546</span></a><span class="sd">        @param obj: id, word</span>
</span><span id="L-547"><a href="#L-547"><span class="linenos">547</span></a><span class="sd">        @return: a set of object, the community of obj</span>
</span><span id="L-548"><a href="#L-548"><span class="linenos">548</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-549"><a href="#L-549"><span class="linenos">549</span></a>
</span><span id="L-550"><a href="#L-550"><span class="linenos">550</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_index</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</span><span id="L-551"><a href="#L-551"><span class="linenos">551</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_dimension_descriptors_idx</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">communities</span><span class="o">.</span><span class="n">subsetOf</span><span class="p">(</span><span class="n">index</span><span class="p">))</span>
</span><span id="L-552"><a href="#L-552"><span class="linenos">552</span></a>
</span><span id="L-553"><a href="#L-553"><span class="linenos">553</span></a>    <span class="k">def</span> <span class="nf">get_dimension_descriptors_idx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idx</span><span class="p">):</span>
</span><span id="L-554"><a href="#L-554"><span class="linenos">554</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-555"><a href="#L-555"><span class="linenos">555</span></a><span class="sd">        returns the objects that constitute the dimension of idx, i.e. the members of the community of idx</span>
</span><span id="L-556"><a href="#L-556"><span class="linenos">556</span></a><span class="sd">        @param idx: int of a node</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos">557</span></a><span class="sd">        @return: the nodes of the community of idx</span>
</span><span id="L-558"><a href="#L-558"><span class="linenos">558</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-559"><a href="#L-559"><span class="linenos">559</span></a>        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">vocab</span><span class="p">[</span><span class="n">member</span><span class="p">]</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">labels</span> <span class="k">else</span> <span class="n">member</span> <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">communities</span><span class="o">.</span><span class="n">getMembers</span><span class="p">(</span><span class="n">idx</span><span class="p">)]</span>
</span><span id="L-560"><a href="#L-560"><span class="linenos">560</span></a>
</span><span id="L-561"><a href="#L-561"><span class="linenos">561</span></a>    <span class="k">def</span> <span class="nf">get_obj_descriptors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">topk</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
</span><span id="L-562"><a href="#L-562"><span class="linenos">562</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-563"><a href="#L-563"><span class="linenos">563</span></a><span class="sd">        @param obj: an id or a word/label</span>
</span><span id="L-564"><a href="#L-564"><span class="linenos">564</span></a><span class="sd">        @param topk: int, topk dimensions to consider to describe obj</span>
</span><span id="L-565"><a href="#L-565"><span class="linenos">565</span></a><span class="sd">        @return: the dimensions (and the objects that constitute these dimensions) that matter to describe obj</span>
</span><span id="L-566"><a href="#L-566"><span class="linenos">566</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-567"><a href="#L-567"><span class="linenos">567</span></a>
</span><span id="L-568"><a href="#L-568"><span class="linenos">568</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_index</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</span><span id="L-569"><a href="#L-569"><span class="linenos">569</span></a>        <span class="n">highest_dims</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_topk</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">topk</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-570"><a href="#L-570"><span class="linenos">570</span></a>        <span class="n">vector</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_vector</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-571"><a href="#L-571"><span class="linenos">571</span></a>        <span class="n">highest_dims</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;dimension&quot;</span><span class="p">:</span> <span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">vector</span><span class="p">[</span><span class="n">idx</span><span class="p">],</span> <span class="s2">&quot;descriptors&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_dimension_descriptors_idx</span><span class="p">(</span><span class="n">idx</span><span class="p">)}</span>
</span><span id="L-572"><a href="#L-572"><span class="linenos">572</span></a>                        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">highest_dims</span><span class="p">]</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos">573</span></a>        <span class="k">return</span> <span class="n">highest_dims</span>
</span><span id="L-574"><a href="#L-574"><span class="linenos">574</span></a>
</span><span id="L-575"><a href="#L-575"><span class="linenos">575</span></a>    <span class="c1"># Using top words to describe dimensions</span>
</span><span id="L-576"><a href="#L-576"><span class="linenos">576</span></a>    <span class="k">def</span> <span class="nf">get_dimension_stereotypes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">topk</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
</span><span id="L-577"><a href="#L-577"><span class="linenos">577</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-578"><a href="#L-578"><span class="linenos">578</span></a>
</span><span id="L-579"><a href="#L-579"><span class="linenos">579</span></a><span class="sd">        @param obj: id of a dimension, or label of a word (then turned into the id of its community)</span>
</span><span id="L-580"><a href="#L-580"><span class="linenos">580</span></a><span class="sd">        @param topk: topk value to consider on the dimension</span>
</span><span id="L-581"><a href="#L-581"><span class="linenos">581</span></a><span class="sd">        @return: the topk words that describe this dimension (highest values)</span>
</span><span id="L-582"><a href="#L-582"><span class="linenos">582</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-583"><a href="#L-583"><span class="linenos">583</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_index</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</span><span id="L-584"><a href="#L-584"><span class="linenos">584</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_dimension_stereotypes_idx</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">communities</span><span class="o">.</span><span class="n">subsetOf</span><span class="p">(</span><span class="n">index</span><span class="p">),</span> <span class="n">topk</span><span class="p">)</span>
</span><span id="L-585"><a href="#L-585"><span class="linenos">585</span></a>
</span><span id="L-586"><a href="#L-586"><span class="linenos">586</span></a>    <span class="k">def</span> <span class="nf">get_dimension_stereotypes_idx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idx</span><span class="p">,</span> <span class="n">topk</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
</span><span id="L-587"><a href="#L-587"><span class="linenos">587</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-588"><a href="#L-588"><span class="linenos">588</span></a>
</span><span id="L-589"><a href="#L-589"><span class="linenos">589</span></a><span class="sd">        @param idx: id of a dimension</span>
</span><span id="L-590"><a href="#L-590"><span class="linenos">590</span></a><span class="sd">        @param topk: topk value to consider on the dimension</span>
</span><span id="L-591"><a href="#L-591"><span class="linenos">591</span></a><span class="sd">        @return: the topk words that describe this dimension (highest values)</span>
</span><span id="L-592"><a href="#L-592"><span class="linenos">592</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-593"><a href="#L-593"><span class="linenos">593</span></a>        <span class="n">highest_idxes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_topk</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="n">topk</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="L-594"><a href="#L-594"><span class="linenos">594</span></a>        <span class="n">highest_idxes</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">vocab</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">labels</span> <span class="k">else</span> <span class="n">idx</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">highest_idxes</span><span class="p">]</span>
</span><span id="L-595"><a href="#L-595"><span class="linenos">595</span></a>        <span class="k">return</span> <span class="n">highest_idxes</span>
</span><span id="L-596"><a href="#L-596"><span class="linenos">596</span></a>
</span><span id="L-597"><a href="#L-597"><span class="linenos">597</span></a>    <span class="k">def</span> <span class="nf">get_obj_stereotypes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">topk_dim</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">topk_val</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
</span><span id="L-598"><a href="#L-598"><span class="linenos">598</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-599"><a href="#L-599"><span class="linenos">599</span></a>
</span><span id="L-600"><a href="#L-600"><span class="linenos">600</span></a><span class="sd">        @param obj: the word to consider</span>
</span><span id="L-601"><a href="#L-601"><span class="linenos">601</span></a><span class="sd">        @param topk_dim: topk dimension to consider</span>
</span><span id="L-602"><a href="#L-602"><span class="linenos">602</span></a><span class="sd">        @param topk_val: topk values to describe each dimension</span>
</span><span id="L-603"><a href="#L-603"><span class="linenos">603</span></a><span class="sd">        @return: the most useful dimensions to describe a word and for each dimension,</span>
</span><span id="L-604"><a href="#L-604"><span class="linenos">604</span></a><span class="sd">        the topk words that describe this dimension (highest values)</span>
</span><span id="L-605"><a href="#L-605"><span class="linenos">605</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-606"><a href="#L-606"><span class="linenos">606</span></a>        <span class="c1"># get index of the word considered</span>
</span><span id="L-607"><a href="#L-607"><span class="linenos">607</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_index</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</span><span id="L-608"><a href="#L-608"><span class="linenos">608</span></a>        <span class="c1"># get the topk dimensions for this word</span>
</span><span id="L-609"><a href="#L-609"><span class="linenos">609</span></a>        <span class="n">highest_dims</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_topk</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">topk_dim</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-610"><a href="#L-610"><span class="linenos">610</span></a>        <span class="n">vector</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_vector</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-611"><a href="#L-611"><span class="linenos">611</span></a>        <span class="n">highest_dims</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;dimension&quot;</span><span class="p">:</span> <span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">vector</span><span class="p">[</span><span class="n">idx</span><span class="p">],</span> <span class="s2">&quot;stereotypes&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_dimension_stereotypes_idx</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="n">topk_val</span><span class="p">)}</span>
</span><span id="L-612"><a href="#L-612"><span class="linenos">612</span></a>                        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">highest_dims</span><span class="p">]</span>
</span><span id="L-613"><a href="#L-613"><span class="linenos">613</span></a>        <span class="k">return</span> <span class="n">highest_dims</span>
</span><span id="L-614"><a href="#L-614"><span class="linenos">614</span></a>
</span><span id="L-615"><a href="#L-615"><span class="linenos">615</span></a>    <span class="k">def</span> <span class="nf">get_obj_stereotypes_and_descriptors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">topk_dim</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">topk_val</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
</span><span id="L-616"><a href="#L-616"><span class="linenos">616</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-617"><a href="#L-617"><span class="linenos">617</span></a><span class="sd">        @return: both stereotypes and descriptors</span>
</span><span id="L-618"><a href="#L-618"><span class="linenos">618</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-619"><a href="#L-619"><span class="linenos">619</span></a>        <span class="n">sters</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_obj_stereotypes</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">topk_dim</span><span class="p">,</span> <span class="n">topk_val</span><span class="p">)</span>
</span><span id="L-620"><a href="#L-620"><span class="linenos">620</span></a>        <span class="n">descs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_obj_descriptors</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">topk</span><span class="o">=</span><span class="n">topk_dim</span><span class="p">)</span>
</span><span id="L-621"><a href="#L-621"><span class="linenos">621</span></a>        <span class="k">for</span> <span class="n">ster</span><span class="p">,</span> <span class="n">desc</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">sters</span><span class="p">,</span> <span class="n">descs</span><span class="p">):</span>
</span><span id="L-622"><a href="#L-622"><span class="linenos">622</span></a>            <span class="n">ster</span><span class="p">[</span><span class="s2">&quot;descriptors&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">desc</span><span class="p">[</span><span class="s2">&quot;descriptors&quot;</span><span class="p">]</span>
</span><span id="L-623"><a href="#L-623"><span class="linenos">623</span></a>        <span class="k">return</span> <span class="n">sters</span>
</span><span id="L-624"><a href="#L-624"><span class="linenos">624</span></a>
</span><span id="L-625"><a href="#L-625"><span class="linenos">625</span></a>    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-626"><a href="#L-626"><span class="linenos">626</span></a>        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s2">&quot;.pk&quot;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span>
</span><span id="L-627"><a href="#L-627"><span class="linenos">627</span></a>        <span class="n">tmp_dict</span> <span class="o">=</span> <span class="n">pk</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</span><span id="L-628"><a href="#L-628"><span class="linenos">628</span></a>        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="L-629"><a href="#L-629"><span class="linenos">629</span></a>        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">tmp_dict</span><span class="p">)</span>
</span><span id="L-630"><a href="#L-630"><span class="linenos">630</span></a>
</span><span id="L-631"><a href="#L-631"><span class="linenos">631</span></a>    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-632"><a href="#L-632"><span class="linenos">632</span></a>        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s2">&quot;.pk&quot;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span>
</span><span id="L-633"><a href="#L-633"><span class="linenos">633</span></a>        <span class="n">pk</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-634"><a href="#L-634"><span class="linenos">634</span></a>        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="L-635"><a href="#L-635"><span class="linenos">635</span></a>
</span><span id="L-636"><a href="#L-636"><span class="linenos">636</span></a><span class="c1">#    def save(self, output_path):</span>
</span><span id="L-637"><a href="#L-637"><span class="linenos">637</span></a><span class="c1">#        with open(output_path, &#39;wb+&#39;) as file:</span>
</span><span id="L-638"><a href="#L-638"><span class="linenos">638</span></a><span class="c1">#            pk.dump((self.vocab, self.vectors), file)</span>
</span><span id="L-639"><a href="#L-639"><span class="linenos">639</span></a>
</span><span id="L-640"><a href="#L-640"><span class="linenos">640</span></a><span class="c1">#    def load(model_path):</span>
</span><span id="L-641"><a href="#L-641"><span class="linenos">641</span></a><span class="c1">#        with open(model_path, &#39;rb&#39;) as file:</span>
</span><span id="L-642"><a href="#L-642"><span class="linenos">642</span></a><span class="c1">#            vocab, vectors = pk.load(file)</span>
</span><span id="L-643"><a href="#L-643"><span class="linenos">643</span></a><span class="c1">#        return Model(vocab, vectors)</span>
</span></pre></div>


            </section>
                <section id="SINr">
                            <input id="SINr-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">SINr</span>:

                <label class="view-source-button" for="SINr-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINr"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINr-16"><a href="#SINr-16"><span class="linenos"> 16</span></a><span class="k">class</span> <span class="nc">SINr</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="SINr-17"><a href="#SINr-17"><span class="linenos"> 17</span></a>    <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINr-18"><a href="#SINr-18"><span class="linenos"> 18</span></a><span class="sd">    Object that can be used to extract word or graph embeddings using the SINr approach.</span>
</span><span id="SINr-19"><a href="#SINr-19"><span class="linenos"> 19</span></a><span class="sd">    This object cannot then be used to inspect the resulting vectors. Instead, using the ModelBuilder class, a SINrVectors object should be created that will allow to use the resulting vectors.</span>
</span><span id="SINr-20"><a href="#SINr-20"><span class="linenos"> 20</span></a>
</span><span id="SINr-21"><a href="#SINr-21"><span class="linenos"> 21</span></a><span class="sd">    ...</span>
</span><span id="SINr-22"><a href="#SINr-22"><span class="linenos"> 22</span></a>
</span><span id="SINr-23"><a href="#SINr-23"><span class="linenos"> 23</span></a><span class="sd">    Attributes</span>
</span><span id="SINr-24"><a href="#SINr-24"><span class="linenos"> 24</span></a><span class="sd">    ----------</span>
</span><span id="SINr-25"><a href="#SINr-25"><span class="linenos"> 25</span></a><span class="sd">    Attributes should not be read</span>
</span><span id="SINr-26"><a href="#SINr-26"><span class="linenos"> 26</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="SINr-27"><a href="#SINr-27"><span class="linenos"> 27</span></a>
</span><span id="SINr-28"><a href="#SINr-28"><span class="linenos"> 28</span></a>    <span class="nd">@classmethod</span>
</span><span id="SINr-29"><a href="#SINr-29"><span class="linenos"> 29</span></a>    <span class="k">def</span> <span class="nf">load_from_cooc_pkl</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">cooc_matrix_path</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span><span id="SINr-30"><a href="#SINr-30"><span class="linenos"> 30</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINr-31"><a href="#SINr-31"><span class="linenos"> 31</span></a><span class="sd">        Build a sinr object from a co-occurrence matrix stored as a pickle : useful to deal with textual data.</span>
</span><span id="SINr-32"><a href="#SINr-32"><span class="linenos"> 32</span></a><span class="sd">        Co-occurrence matrices should for instance be generated using sinr.text.cooccurrence</span>
</span><span id="SINr-33"><a href="#SINr-33"><span class="linenos"> 33</span></a>
</span><span id="SINr-34"><a href="#SINr-34"><span class="linenos"> 34</span></a><span class="sd">        Parameters</span>
</span><span id="SINr-35"><a href="#SINr-35"><span class="linenos"> 35</span></a><span class="sd">        ----------</span>
</span><span id="SINr-36"><a href="#SINr-36"><span class="linenos"> 36</span></a><span class="sd">        cooc_matrix_path : string</span>
</span><span id="SINr-37"><a href="#SINr-37"><span class="linenos"> 37</span></a><span class="sd">            Path to the cooccurrence matrix generated using sinr.text.cooccurrence : the file should be a pickle</span>
</span><span id="SINr-38"><a href="#SINr-38"><span class="linenos"> 38</span></a><span class="sd">        norm : strategy_norm, optional</span>
</span><span id="SINr-39"><a href="#SINr-39"><span class="linenos"> 39</span></a><span class="sd">            If the graph weights be normalized (for example using PMI). The default is None.</span>
</span><span id="SINr-40"><a href="#SINr-40"><span class="linenos"> 40</span></a><span class="sd">        n_jobs : int, optional</span>
</span><span id="SINr-41"><a href="#SINr-41"><span class="linenos"> 41</span></a><span class="sd">            Number of jobs that should be used The default is 1.</span>
</span><span id="SINr-42"><a href="#SINr-42"><span class="linenos"> 42</span></a>
</span><span id="SINr-43"><a href="#SINr-43"><span class="linenos"> 43</span></a><span class="sd">        Returns</span>
</span><span id="SINr-44"><a href="#SINr-44"><span class="linenos"> 44</span></a><span class="sd">        -------</span>
</span><span id="SINr-45"><a href="#SINr-45"><span class="linenos"> 45</span></a><span class="sd">        TYPE</span>
</span><span id="SINr-46"><a href="#SINr-46"><span class="linenos"> 46</span></a><span class="sd">            A SINr object, this method acts as a factory.</span>
</span><span id="SINr-47"><a href="#SINr-47"><span class="linenos"> 47</span></a>
</span><span id="SINr-48"><a href="#SINr-48"><span class="linenos"> 48</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINr-49"><a href="#SINr-49"><span class="linenos"> 49</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Building Graph.&quot;</span><span class="p">)</span>
</span><span id="SINr-50"><a href="#SINr-50"><span class="linenos"> 50</span></a>
</span><span id="SINr-51"><a href="#SINr-51"><span class="linenos"> 51</span></a>        <span class="n">word_to_idx</span><span class="p">,</span> <span class="n">matrix</span> <span class="o">=</span> <span class="n">strategy_loader</span><span class="o">.</span><span class="n">load_pkl_text</span><span class="p">(</span><span class="n">cooc_matrix_path</span><span class="p">)</span>
</span><span id="SINr-52"><a href="#SINr-52"><span class="linenos"> 52</span></a>        <span class="n">graph</span> <span class="o">=</span> <span class="n">get_graph_from_matrix</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
</span><span id="SINr-53"><a href="#SINr-53"><span class="linenos"> 53</span></a>        <span class="n">graph</span> <span class="o">=</span> <span class="n">strategy_norm</span><span class="o">.</span><span class="n">apply_norm</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">norm</span><span class="p">)</span>
</span><span id="SINr-54"><a href="#SINr-54"><span class="linenos"> 54</span></a>        <span class="n">out_of_LgCC</span> <span class="o">=</span> <span class="n">get_lgcc</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
</span><span id="SINr-55"><a href="#SINr-55"><span class="linenos"> 55</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished building graph.&quot;</span><span class="p">)</span>
</span><span id="SINr-56"><a href="#SINr-56"><span class="linenos"> 56</span></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">out_of_LgCC</span><span class="p">,</span> <span class="n">word_to_idx</span><span class="p">)</span>
</span><span id="SINr-57"><a href="#SINr-57"><span class="linenos"> 57</span></a>
</span><span id="SINr-58"><a href="#SINr-58"><span class="linenos"> 58</span></a>    <span class="nd">@classmethod</span>
</span><span id="SINr-59"><a href="#SINr-59"><span class="linenos"> 59</span></a>    <span class="k">def</span> <span class="nf">load_from_adjacency_matrix</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">matrix_object</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span><span id="SINr-60"><a href="#SINr-60"><span class="linenos"> 60</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINr-61"><a href="#SINr-61"><span class="linenos"> 61</span></a><span class="sd">        Build a sinr object from an adjacency matrix as a sparse one (csr)</span>
</span><span id="SINr-62"><a href="#SINr-62"><span class="linenos"> 62</span></a>
</span><span id="SINr-63"><a href="#SINr-63"><span class="linenos"> 63</span></a><span class="sd">        Parameters</span>
</span><span id="SINr-64"><a href="#SINr-64"><span class="linenos"> 64</span></a><span class="sd">        ----------</span>
</span><span id="SINr-65"><a href="#SINr-65"><span class="linenos"> 65</span></a><span class="sd">        matrix_object : csr_matrix</span>
</span><span id="SINr-66"><a href="#SINr-66"><span class="linenos"> 66</span></a><span class="sd">            Matrix describing the graph.</span>
</span><span id="SINr-67"><a href="#SINr-67"><span class="linenos"> 67</span></a><span class="sd">        norm : strategy_norm, optional</span>
</span><span id="SINr-68"><a href="#SINr-68"><span class="linenos"> 68</span></a><span class="sd">            If the graph weights be normalized (for example using PMI). The default is None.</span>
</span><span id="SINr-69"><a href="#SINr-69"><span class="linenos"> 69</span></a><span class="sd">        n_jobs : int, optional</span>
</span><span id="SINr-70"><a href="#SINr-70"><span class="linenos"> 70</span></a><span class="sd">            Number of jobs that should be used The default is 1.</span>
</span><span id="SINr-71"><a href="#SINr-71"><span class="linenos"> 71</span></a>
</span><span id="SINr-72"><a href="#SINr-72"><span class="linenos"> 72</span></a><span class="sd">        Returns</span>
</span><span id="SINr-73"><a href="#SINr-73"><span class="linenos"> 73</span></a><span class="sd">        -------</span>
</span><span id="SINr-74"><a href="#SINr-74"><span class="linenos"> 74</span></a><span class="sd">        TYPE</span>
</span><span id="SINr-75"><a href="#SINr-75"><span class="linenos"> 75</span></a><span class="sd">            A SINr object, this method acts as a factory.</span>
</span><span id="SINr-76"><a href="#SINr-76"><span class="linenos"> 76</span></a>
</span><span id="SINr-77"><a href="#SINr-77"><span class="linenos"> 77</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINr-78"><a href="#SINr-78"><span class="linenos"> 78</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Building Graph.&quot;</span><span class="p">)</span>
</span><span id="SINr-79"><a href="#SINr-79"><span class="linenos"> 79</span></a>        <span class="n">word_to_idx</span><span class="p">,</span> <span class="n">matrix</span> <span class="o">=</span> <span class="n">strategy_loader</span><span class="o">.</span><span class="n">load_adj_mat</span><span class="p">(</span><span class="n">matrix_object</span><span class="p">)</span>
</span><span id="SINr-80"><a href="#SINr-80"><span class="linenos"> 80</span></a>        <span class="n">graph</span> <span class="o">=</span> <span class="n">get_graph_from_matrix</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
</span><span id="SINr-81"><a href="#SINr-81"><span class="linenos"> 81</span></a>        <span class="n">graph</span> <span class="o">=</span> <span class="n">strategy_norm</span><span class="o">.</span><span class="n">apply_norm</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">norm</span><span class="p">)</span>
</span><span id="SINr-82"><a href="#SINr-82"><span class="linenos"> 82</span></a>        <span class="n">out_of_LgCC</span> <span class="o">=</span> <span class="n">get_lgcc</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
</span><span id="SINr-83"><a href="#SINr-83"><span class="linenos"> 83</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished building graph.&quot;</span><span class="p">)</span>
</span><span id="SINr-84"><a href="#SINr-84"><span class="linenos"> 84</span></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">out_of_LgCC</span><span class="p">,</span> <span class="n">word_to_idx</span><span class="p">)</span>
</span><span id="SINr-85"><a href="#SINr-85"><span class="linenos"> 85</span></a>
</span><span id="SINr-86"><a href="#SINr-86"><span class="linenos"> 86</span></a>    <span class="nd">@classmethod</span>
</span><span id="SINr-87"><a href="#SINr-87"><span class="linenos"> 87</span></a>    <span class="k">def</span> <span class="nf">load_from_graph</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">graph</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span><span id="SINr-88"><a href="#SINr-88"><span class="linenos"> 88</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINr-89"><a href="#SINr-89"><span class="linenos"> 89</span></a><span class="sd">        Build a sinr object from a networkit graph object</span>
</span><span id="SINr-90"><a href="#SINr-90"><span class="linenos"> 90</span></a>
</span><span id="SINr-91"><a href="#SINr-91"><span class="linenos"> 91</span></a><span class="sd">        Parameters</span>
</span><span id="SINr-92"><a href="#SINr-92"><span class="linenos"> 92</span></a><span class="sd">        ----------</span>
</span><span id="SINr-93"><a href="#SINr-93"><span class="linenos"> 93</span></a><span class="sd">        graph : networkit</span>
</span><span id="SINr-94"><a href="#SINr-94"><span class="linenos"> 94</span></a><span class="sd">            Networkit graph object.</span>
</span><span id="SINr-95"><a href="#SINr-95"><span class="linenos"> 95</span></a><span class="sd">        norm : strategy_norm, optional</span>
</span><span id="SINr-96"><a href="#SINr-96"><span class="linenos"> 96</span></a><span class="sd">            If the graph weights be normalized (for example using PMI). The default is None.</span>
</span><span id="SINr-97"><a href="#SINr-97"><span class="linenos"> 97</span></a><span class="sd">        n_jobs : int, optional</span>
</span><span id="SINr-98"><a href="#SINr-98"><span class="linenos"> 98</span></a><span class="sd">            Number of jobs that should be used The default is 1.</span>
</span><span id="SINr-99"><a href="#SINr-99"><span class="linenos"> 99</span></a>
</span><span id="SINr-100"><a href="#SINr-100"><span class="linenos">100</span></a><span class="sd">        Returns</span>
</span><span id="SINr-101"><a href="#SINr-101"><span class="linenos">101</span></a><span class="sd">        -------</span>
</span><span id="SINr-102"><a href="#SINr-102"><span class="linenos">102</span></a><span class="sd">        TYPE</span>
</span><span id="SINr-103"><a href="#SINr-103"><span class="linenos">103</span></a><span class="sd">            A SINr object, this method acts as a factory.</span>
</span><span id="SINr-104"><a href="#SINr-104"><span class="linenos">104</span></a>
</span><span id="SINr-105"><a href="#SINr-105"><span class="linenos">105</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINr-106"><a href="#SINr-106"><span class="linenos">106</span></a>        <span class="n">word_to_idx</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
</span><span id="SINr-107"><a href="#SINr-107"><span class="linenos">107</span></a>        <span class="n">idx</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="SINr-108"><a href="#SINr-108"><span class="linenos">108</span></a>        <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">iterNodes</span><span class="p">():</span>
</span><span id="SINr-109"><a href="#SINr-109"><span class="linenos">109</span></a>            <span class="n">word_to_idx</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">=</span> <span class="n">idx</span>
</span><span id="SINr-110"><a href="#SINr-110"><span class="linenos">110</span></a>            <span class="n">idx</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="SINr-111"><a href="#SINr-111"><span class="linenos">111</span></a>        <span class="n">graph</span> <span class="o">=</span> <span class="n">strategy_norm</span><span class="o">.</span><span class="n">apply_norm</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">norm</span><span class="p">)</span>
</span><span id="SINr-112"><a href="#SINr-112"><span class="linenos">112</span></a>        <span class="n">out_of_LgCC</span> <span class="o">=</span> <span class="n">get_lgcc</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
</span><span id="SINr-113"><a href="#SINr-113"><span class="linenos">113</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished building graph.&quot;</span><span class="p">)</span>
</span><span id="SINr-114"><a href="#SINr-114"><span class="linenos">114</span></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">out_of_LgCC</span><span class="p">,</span> <span class="n">word_to_idx</span><span class="p">)</span>
</span><span id="SINr-115"><a href="#SINr-115"><span class="linenos">115</span></a>
</span><span id="SINr-116"><a href="#SINr-116"><span class="linenos">116</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">algo</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="SINr-117"><a href="#SINr-117"><span class="linenos">117</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINr-118"><a href="#SINr-118"><span class="linenos">118</span></a><span class="sd">        Runs the training of the embedding, i.e. community detection + vectors extraction</span>
</span><span id="SINr-119"><a href="#SINr-119"><span class="linenos">119</span></a>
</span><span id="SINr-120"><a href="#SINr-120"><span class="linenos">120</span></a><span class="sd">        Parameters</span>
</span><span id="SINr-121"><a href="#SINr-121"><span class="linenos">121</span></a><span class="sd">        ----------</span>
</span><span id="SINr-122"><a href="#SINr-122"><span class="linenos">122</span></a><span class="sd">        algo : networkit.algo.community, optional</span>
</span><span id="SINr-123"><a href="#SINr-123"><span class="linenos">123</span></a><span class="sd">            Community detection algorithm. The default, None allorws to run a Louvain algorithm</span>
</span><span id="SINr-124"><a href="#SINr-124"><span class="linenos">124</span></a>
</span><span id="SINr-125"><a href="#SINr-125"><span class="linenos">125</span></a><span class="sd">        Returns</span>
</span><span id="SINr-126"><a href="#SINr-126"><span class="linenos">126</span></a><span class="sd">        -------</span>
</span><span id="SINr-127"><a href="#SINr-127"><span class="linenos">127</span></a><span class="sd">        None.</span>
</span><span id="SINr-128"><a href="#SINr-128"><span class="linenos">128</span></a>
</span><span id="SINr-129"><a href="#SINr-129"><span class="linenos">129</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINr-130"><a href="#SINr-130"><span class="linenos">130</span></a>        <span class="k">if</span> <span class="n">algo</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SINr-131"><a href="#SINr-131"><span class="linenos">131</span></a>            <span class="n">algo</span> <span class="o">=</span> <span class="n">community</span><span class="o">.</span><span class="n">PLM</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cooc_graph</span><span class="p">,</span> <span class="n">refine</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">turbo</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="SINr-132"><a href="#SINr-132"><span class="linenos">132</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">communities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">detect_communities</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cooc_graph</span><span class="p">,</span> <span class="n">algo</span><span class="o">=</span><span class="n">algo</span><span class="p">)</span>
</span><span id="SINr-133"><a href="#SINr-133"><span class="linenos">133</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">extract_embeddings</span><span class="p">(</span><span class="n">G</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cooc_graph</span><span class="p">,</span> <span class="n">communities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">communities</span><span class="p">)</span>
</span><span id="SINr-134"><a href="#SINr-134"><span class="linenos">134</span></a>
</span><span id="SINr-135"><a href="#SINr-135"><span class="linenos">135</span></a>    <span class="k">def</span> <span class="nf">detect_communities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">algo</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">inspect</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="SINr-136"><a href="#SINr-136"><span class="linenos">136</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINr-137"><a href="#SINr-137"><span class="linenos">137</span></a><span class="sd">        Runs community detection on the graph</span>
</span><span id="SINr-138"><a href="#SINr-138"><span class="linenos">138</span></a>
</span><span id="SINr-139"><a href="#SINr-139"><span class="linenos">139</span></a><span class="sd">        Parameters</span>
</span><span id="SINr-140"><a href="#SINr-140"><span class="linenos">140</span></a><span class="sd">        ----------</span>
</span><span id="SINr-141"><a href="#SINr-141"><span class="linenos">141</span></a><span class="sd">        gamma : int, optional</span>
</span><span id="SINr-142"><a href="#SINr-142"><span class="linenos">142</span></a><span class="sd">            For Louvain algorithm which is the default algorithm (ignore this parameter if param algo is used), allows to control the size of the communities. The greater it is, the smaller the communities. The default is 100.</span>
</span><span id="SINr-143"><a href="#SINr-143"><span class="linenos">143</span></a><span class="sd">        algo : networkit.algo.community, optional</span>
</span><span id="SINr-144"><a href="#SINr-144"><span class="linenos">144</span></a><span class="sd">            Community detection algorithm. The default, None allorws to run a Louvain algorithm</span>
</span><span id="SINr-145"><a href="#SINr-145"><span class="linenos">145</span></a><span class="sd">        inspect : boolean, optional</span>
</span><span id="SINr-146"><a href="#SINr-146"><span class="linenos">146</span></a><span class="sd">            Whether or not one wants to get insight about the communities extracted. The default is True.</span>
</span><span id="SINr-147"><a href="#SINr-147"><span class="linenos">147</span></a>
</span><span id="SINr-148"><a href="#SINr-148"><span class="linenos">148</span></a><span class="sd">        Returns</span>
</span><span id="SINr-149"><a href="#SINr-149"><span class="linenos">149</span></a><span class="sd">        -------</span>
</span><span id="SINr-150"><a href="#SINr-150"><span class="linenos">150</span></a><span class="sd">        communities : networkit partition</span>
</span><span id="SINr-151"><a href="#SINr-151"><span class="linenos">151</span></a><span class="sd">            Community structure</span>
</span><span id="SINr-152"><a href="#SINr-152"><span class="linenos">152</span></a>
</span><span id="SINr-153"><a href="#SINr-153"><span class="linenos">153</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINr-154"><a href="#SINr-154"><span class="linenos">154</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Detecting communities.&quot;</span><span class="p">)</span>
</span><span id="SINr-155"><a href="#SINr-155"><span class="linenos">155</span></a>        <span class="k">if</span> <span class="n">algo</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SINr-156"><a href="#SINr-156"><span class="linenos">156</span></a>            <span class="n">algo</span> <span class="o">=</span> <span class="n">community</span><span class="o">.</span><span class="n">PLM</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cooc_graph</span><span class="p">,</span> <span class="n">refine</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="n">gamma</span><span class="p">,</span> <span class="n">turbo</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="SINr-157"><a href="#SINr-157"><span class="linenos">157</span></a>        <span class="n">communities</span> <span class="o">=</span> <span class="n">community</span><span class="o">.</span><span class="n">detectCommunities</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cooc_graph</span><span class="p">,</span> <span class="n">algo</span><span class="o">=</span><span class="n">algo</span><span class="p">,</span> <span class="n">inspect</span><span class="o">=</span><span class="n">inspect</span><span class="p">)</span>
</span><span id="SINr-158"><a href="#SINr-158"><span class="linenos">158</span></a>        <span class="n">communities</span><span class="o">.</span><span class="n">compact</span><span class="p">(</span><span class="n">useTurbo</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Consecutive communities from 0 to number of communities - 1</span>
</span><span id="SINr-159"><a href="#SINr-159"><span class="linenos">159</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">communities</span> <span class="o">=</span> <span class="n">communities</span>
</span><span id="SINr-160"><a href="#SINr-160"><span class="linenos">160</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished detecting communities.&quot;</span><span class="p">)</span>
</span><span id="SINr-161"><a href="#SINr-161"><span class="linenos">161</span></a>        <span class="k">return</span> <span class="n">communities</span>
</span><span id="SINr-162"><a href="#SINr-162"><span class="linenos">162</span></a>
</span><span id="SINr-163"><a href="#SINr-163"><span class="linenos">163</span></a>    <span class="k">def</span> <span class="nf">extract_embeddings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">communities</span><span class="p">):</span>
</span><span id="SINr-164"><a href="#SINr-164"><span class="linenos">164</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINr-165"><a href="#SINr-165"><span class="linenos">165</span></a><span class="sd">        </span>
</span><span id="SINr-166"><a href="#SINr-166"><span class="linenos">166</span></a>
</span><span id="SINr-167"><a href="#SINr-167"><span class="linenos">167</span></a><span class="sd">        Parameters</span>
</span><span id="SINr-168"><a href="#SINr-168"><span class="linenos">168</span></a><span class="sd">        ----------</span>
</span><span id="SINr-169"><a href="#SINr-169"><span class="linenos">169</span></a><span class="sd">        communities : networkit partition</span>
</span><span id="SINr-170"><a href="#SINr-170"><span class="linenos">170</span></a><span class="sd">            Community structures</span>
</span><span id="SINr-171"><a href="#SINr-171"><span class="linenos">171</span></a>
</span><span id="SINr-172"><a href="#SINr-172"><span class="linenos">172</span></a><span class="sd">        Returns</span>
</span><span id="SINr-173"><a href="#SINr-173"><span class="linenos">173</span></a><span class="sd">        -------</span>
</span><span id="SINr-174"><a href="#SINr-174"><span class="linenos">174</span></a><span class="sd">        Extracts the vectors and store them in the SINr object</span>
</span><span id="SINr-175"><a href="#SINr-175"><span class="linenos">175</span></a>
</span><span id="SINr-176"><a href="#SINr-176"><span class="linenos">176</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINr-177"><a href="#SINr-177"><span class="linenos">177</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Extracting embeddings.&quot;</span><span class="p">)</span>
</span><span id="SINr-178"><a href="#SINr-178"><span class="linenos">178</span></a>
</span><span id="SINr-179"><a href="#SINr-179"><span class="linenos">179</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Applying NFM.&quot;</span><span class="p">)</span>
</span><span id="SINr-180"><a href="#SINr-180"><span class="linenos">180</span></a>        <span class="n">np</span><span class="p">,</span> <span class="n">nr</span><span class="p">,</span> <span class="n">nfm</span> <span class="o">=</span> <span class="n">get_nfm_embeddings</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cooc_graph</span><span class="p">,</span> <span class="n">communities</span><span class="o">.</span><span class="n">getVector</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span><span class="p">)</span>
</span><span id="SINr-181"><a href="#SINr-181"><span class="linenos">181</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">np</span> <span class="o">=</span> <span class="n">np</span>
</span><span id="SINr-182"><a href="#SINr-182"><span class="linenos">182</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nr</span> <span class="o">=</span> <span class="n">nr</span>
</span><span id="SINr-183"><a href="#SINr-183"><span class="linenos">183</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nfm</span> <span class="o">=</span> <span class="n">nfm</span>
</span><span id="SINr-184"><a href="#SINr-184"><span class="linenos">184</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;NFM successfully applied.&quot;</span><span class="p">)</span>
</span><span id="SINr-185"><a href="#SINr-185"><span class="linenos">185</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished extracting embeddings.&quot;</span><span class="p">)</span>
</span><span id="SINr-186"><a href="#SINr-186"><span class="linenos">186</span></a>
</span><span id="SINr-187"><a href="#SINr-187"><span class="linenos">187</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">graph</span><span class="p">,</span> <span class="n">lgcc</span><span class="p">,</span> <span class="n">wrd_to_idx</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span><span id="SINr-188"><a href="#SINr-188"><span class="linenos">188</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINr-189"><a href="#SINr-189"><span class="linenos">189</span></a><span class="sd">        Should not be used ! Some factory methods below starting with &quot;load_&quot; should be used instead.</span>
</span><span id="SINr-190"><a href="#SINr-190"><span class="linenos">190</span></a>
</span><span id="SINr-191"><a href="#SINr-191"><span class="linenos">191</span></a><span class="sd">        Parameters</span>
</span><span id="SINr-192"><a href="#SINr-192"><span class="linenos">192</span></a><span class="sd">        ----------</span>
</span><span id="SINr-193"><a href="#SINr-193"><span class="linenos">193</span></a><span class="sd">        graph : networkit graph</span>
</span><span id="SINr-194"><a href="#SINr-194"><span class="linenos">194</span></a><span class="sd">        lgcc : networkit graph</span>
</span><span id="SINr-195"><a href="#SINr-195"><span class="linenos">195</span></a><span class="sd">            the largest connected component of graph</span>
</span><span id="SINr-196"><a href="#SINr-196"><span class="linenos">196</span></a><span class="sd">        wrd_to_idx : dict</span>
</span><span id="SINr-197"><a href="#SINr-197"><span class="linenos">197</span></a><span class="sd">            A matching between a vocabulary and ids. Useful for text. Otherwise, the vocabulary and the ids are the same.</span>
</span><span id="SINr-198"><a href="#SINr-198"><span class="linenos">198</span></a><span class="sd">        n_jobs : int, optional</span>
</span><span id="SINr-199"><a href="#SINr-199"><span class="linenos">199</span></a><span class="sd">            Number of jobs that should be runned. The default is 1.</span>
</span><span id="SINr-200"><a href="#SINr-200"><span class="linenos">200</span></a>
</span><span id="SINr-201"><a href="#SINr-201"><span class="linenos">201</span></a><span class="sd">        Returns</span>
</span><span id="SINr-202"><a href="#SINr-202"><span class="linenos">202</span></a><span class="sd">        -------</span>
</span><span id="SINr-203"><a href="#SINr-203"><span class="linenos">203</span></a><span class="sd">        None.</span>
</span><span id="SINr-204"><a href="#SINr-204"><span class="linenos">204</span></a>
</span><span id="SINr-205"><a href="#SINr-205"><span class="linenos">205</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINr-206"><a href="#SINr-206"><span class="linenos">206</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nfm</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SINr-207"><a href="#SINr-207"><span class="linenos">207</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nr</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SINr-208"><a href="#SINr-208"><span class="linenos">208</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">np</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SINr-209"><a href="#SINr-209"><span class="linenos">209</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">communities</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SINr-210"><a href="#SINr-210"><span class="linenos">210</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span> <span class="o">=</span> <span class="n">n_jobs</span>
</span><span id="SINr-211"><a href="#SINr-211"><span class="linenos">211</span></a>        <span class="n">setNumberOfThreads</span><span class="p">(</span><span class="n">n_jobs</span><span class="p">)</span>
</span><span id="SINr-212"><a href="#SINr-212"><span class="linenos">212</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">wrd_to_idx</span> <span class="o">=</span> <span class="n">wrd_to_idx</span>
</span><span id="SINr-213"><a href="#SINr-213"><span class="linenos">213</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">idx_to_wrd</span> <span class="o">=</span> <span class="n">_flip_keys_values</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wrd_to_idx</span><span class="p">)</span>
</span><span id="SINr-214"><a href="#SINr-214"><span class="linenos">214</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cooc_graph</span> <span class="o">=</span> <span class="n">graph</span>
</span><span id="SINr-215"><a href="#SINr-215"><span class="linenos">215</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">out_of_LgCC</span> <span class="o">=</span> <span class="n">lgcc</span>
</span><span id="SINr-216"><a href="#SINr-216"><span class="linenos">216</span></a>
</span><span id="SINr-217"><a href="#SINr-217"><span class="linenos">217</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">wd_before</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wd_after</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
</span><span id="SINr-218"><a href="#SINr-218"><span class="linenos">218</span></a>
</span><span id="SINr-219"><a href="#SINr-219"><span class="linenos">219</span></a>    <span class="k">def</span> <span class="nf">get_out_of_LgCC_coms</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">communities</span><span class="p">):</span>
</span><span id="SINr-220"><a href="#SINr-220"><span class="linenos">220</span></a>        <span class="n">set_out_of_LgCC</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_of_LgCC</span><span class="p">)</span>
</span><span id="SINr-221"><a href="#SINr-221"><span class="linenos">221</span></a>        <span class="n">out_of_LgCC_coms</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="SINr-222"><a href="#SINr-222"><span class="linenos">222</span></a>        <span class="k">for</span> <span class="n">com</span> <span class="ow">in</span> <span class="n">communities</span><span class="o">.</span><span class="n">getSubsetIds</span><span class="p">():</span>
</span><span id="SINr-223"><a href="#SINr-223"><span class="linenos">223</span></a>            <span class="k">if</span> <span class="nb">set</span><span class="p">(</span><span class="n">communities</span><span class="o">.</span><span class="n">getMembers</span><span class="p">())</span> <span class="o">&amp;</span> <span class="n">set_out_of_LgCC</span> <span class="o">!=</span> <span class="p">{}:</span>
</span><span id="SINr-224"><a href="#SINr-224"><span class="linenos">224</span></a>                <span class="n">out_of_LgCC_coms</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">com</span><span class="p">)</span>
</span><span id="SINr-225"><a href="#SINr-225"><span class="linenos">225</span></a>        <span class="k">return</span> <span class="n">out_of_LgCC_coms</span>
</span><span id="SINr-226"><a href="#SINr-226"><span class="linenos">226</span></a>
</span><span id="SINr-227"><a href="#SINr-227"><span class="linenos">227</span></a>    <span class="k">def</span> <span class="nf">get_cooc_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SINr-228"><a href="#SINr-228"><span class="linenos">228</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">cooc_graph</span>
</span><span id="SINr-229"><a href="#SINr-229"><span class="linenos">229</span></a>
</span><span id="SINr-230"><a href="#SINr-230"><span class="linenos">230</span></a>    <span class="k">def</span> <span class="nf">get_nr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SINr-231"><a href="#SINr-231"><span class="linenos">231</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nr</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SINr-232"><a href="#SINr-232"><span class="linenos">232</span></a>            <span class="k">raise</span> <span class="n">NoEmbeddingExtractedException</span>
</span><span id="SINr-233"><a href="#SINr-233"><span class="linenos">233</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SINr-234"><a href="#SINr-234"><span class="linenos">234</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">nr</span>
</span><span id="SINr-235"><a href="#SINr-235"><span class="linenos">235</span></a>
</span><span id="SINr-236"><a href="#SINr-236"><span class="linenos">236</span></a>    <span class="k">def</span> <span class="nf">get_np</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SINr-237"><a href="#SINr-237"><span class="linenos">237</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">np</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SINr-238"><a href="#SINr-238"><span class="linenos">238</span></a>            <span class="k">raise</span> <span class="n">NoEmbeddingExtractedException</span>
</span><span id="SINr-239"><a href="#SINr-239"><span class="linenos">239</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SINr-240"><a href="#SINr-240"><span class="linenos">240</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">np</span>
</span><span id="SINr-241"><a href="#SINr-241"><span class="linenos">241</span></a>
</span><span id="SINr-242"><a href="#SINr-242"><span class="linenos">242</span></a>    <span class="k">def</span> <span class="nf">get_nfm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SINr-243"><a href="#SINr-243"><span class="linenos">243</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nfm</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SINr-244"><a href="#SINr-244"><span class="linenos">244</span></a>            <span class="k">raise</span> <span class="n">NoEmbeddingExtractedException</span>
</span><span id="SINr-245"><a href="#SINr-245"><span class="linenos">245</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SINr-246"><a href="#SINr-246"><span class="linenos">246</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">nfm</span>
</span><span id="SINr-247"><a href="#SINr-247"><span class="linenos">247</span></a>
</span><span id="SINr-248"><a href="#SINr-248"><span class="linenos">248</span></a>    <span class="k">def</span> <span class="nf">get_vocabulary</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SINr-249"><a href="#SINr-249"><span class="linenos">249</span></a>        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">idx_to_wrd</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
</span><span id="SINr-250"><a href="#SINr-250"><span class="linenos">250</span></a>
</span><span id="SINr-251"><a href="#SINr-251"><span class="linenos">251</span></a>    <span class="k">def</span> <span class="nf">get_wrd_to_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SINr-252"><a href="#SINr-252"><span class="linenos">252</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">wrd_to_idx</span>
</span><span id="SINr-253"><a href="#SINr-253"><span class="linenos">253</span></a>
</span><span id="SINr-254"><a href="#SINr-254"><span class="linenos">254</span></a>    <span class="k">def</span> <span class="nf">get_communities</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SINr-255"><a href="#SINr-255"><span class="linenos">255</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">communities</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SINr-256"><a href="#SINr-256"><span class="linenos">256</span></a>            <span class="k">raise</span> <span class="n">NoCommunityDetectedException</span>
</span><span id="SINr-257"><a href="#SINr-257"><span class="linenos">257</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SINr-258"><a href="#SINr-258"><span class="linenos">258</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">communities</span>
</span></pre></div>


            <div class="docstring"><p>Object that can be used to extract word or graph embeddings using the SINr approach.
This object cannot then be used to inspect the resulting vectors. Instead, using the ModelBuilder class, a SINrVectors object should be created that will allow to use the resulting vectors.</p>

<p>...</p>

<h2 id="attributes">Attributes</h2>

<p>Attributes should not be read</p>
</div>


                            <div id="SINr.__init__" class="classattr">
                                        <input id="SINr.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">SINr</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">graph</span>, </span><span class="param"><span class="n">lgcc</span>, </span><span class="param"><span class="n">wrd_to_idx</span>, </span><span class="param"><span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span></span>)</span>

                <label class="view-source-button" for="SINr.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINr.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINr.__init__-187"><a href="#SINr.__init__-187"><span class="linenos">187</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">graph</span><span class="p">,</span> <span class="n">lgcc</span><span class="p">,</span> <span class="n">wrd_to_idx</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span><span id="SINr.__init__-188"><a href="#SINr.__init__-188"><span class="linenos">188</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINr.__init__-189"><a href="#SINr.__init__-189"><span class="linenos">189</span></a><span class="sd">        Should not be used ! Some factory methods below starting with &quot;load_&quot; should be used instead.</span>
</span><span id="SINr.__init__-190"><a href="#SINr.__init__-190"><span class="linenos">190</span></a>
</span><span id="SINr.__init__-191"><a href="#SINr.__init__-191"><span class="linenos">191</span></a><span class="sd">        Parameters</span>
</span><span id="SINr.__init__-192"><a href="#SINr.__init__-192"><span class="linenos">192</span></a><span class="sd">        ----------</span>
</span><span id="SINr.__init__-193"><a href="#SINr.__init__-193"><span class="linenos">193</span></a><span class="sd">        graph : networkit graph</span>
</span><span id="SINr.__init__-194"><a href="#SINr.__init__-194"><span class="linenos">194</span></a><span class="sd">        lgcc : networkit graph</span>
</span><span id="SINr.__init__-195"><a href="#SINr.__init__-195"><span class="linenos">195</span></a><span class="sd">            the largest connected component of graph</span>
</span><span id="SINr.__init__-196"><a href="#SINr.__init__-196"><span class="linenos">196</span></a><span class="sd">        wrd_to_idx : dict</span>
</span><span id="SINr.__init__-197"><a href="#SINr.__init__-197"><span class="linenos">197</span></a><span class="sd">            A matching between a vocabulary and ids. Useful for text. Otherwise, the vocabulary and the ids are the same.</span>
</span><span id="SINr.__init__-198"><a href="#SINr.__init__-198"><span class="linenos">198</span></a><span class="sd">        n_jobs : int, optional</span>
</span><span id="SINr.__init__-199"><a href="#SINr.__init__-199"><span class="linenos">199</span></a><span class="sd">            Number of jobs that should be runned. The default is 1.</span>
</span><span id="SINr.__init__-200"><a href="#SINr.__init__-200"><span class="linenos">200</span></a>
</span><span id="SINr.__init__-201"><a href="#SINr.__init__-201"><span class="linenos">201</span></a><span class="sd">        Returns</span>
</span><span id="SINr.__init__-202"><a href="#SINr.__init__-202"><span class="linenos">202</span></a><span class="sd">        -------</span>
</span><span id="SINr.__init__-203"><a href="#SINr.__init__-203"><span class="linenos">203</span></a><span class="sd">        None.</span>
</span><span id="SINr.__init__-204"><a href="#SINr.__init__-204"><span class="linenos">204</span></a>
</span><span id="SINr.__init__-205"><a href="#SINr.__init__-205"><span class="linenos">205</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINr.__init__-206"><a href="#SINr.__init__-206"><span class="linenos">206</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nfm</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SINr.__init__-207"><a href="#SINr.__init__-207"><span class="linenos">207</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nr</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SINr.__init__-208"><a href="#SINr.__init__-208"><span class="linenos">208</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">np</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SINr.__init__-209"><a href="#SINr.__init__-209"><span class="linenos">209</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">communities</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SINr.__init__-210"><a href="#SINr.__init__-210"><span class="linenos">210</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span> <span class="o">=</span> <span class="n">n_jobs</span>
</span><span id="SINr.__init__-211"><a href="#SINr.__init__-211"><span class="linenos">211</span></a>        <span class="n">setNumberOfThreads</span><span class="p">(</span><span class="n">n_jobs</span><span class="p">)</span>
</span><span id="SINr.__init__-212"><a href="#SINr.__init__-212"><span class="linenos">212</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">wrd_to_idx</span> <span class="o">=</span> <span class="n">wrd_to_idx</span>
</span><span id="SINr.__init__-213"><a href="#SINr.__init__-213"><span class="linenos">213</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">idx_to_wrd</span> <span class="o">=</span> <span class="n">_flip_keys_values</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wrd_to_idx</span><span class="p">)</span>
</span><span id="SINr.__init__-214"><a href="#SINr.__init__-214"><span class="linenos">214</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cooc_graph</span> <span class="o">=</span> <span class="n">graph</span>
</span><span id="SINr.__init__-215"><a href="#SINr.__init__-215"><span class="linenos">215</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">out_of_LgCC</span> <span class="o">=</span> <span class="n">lgcc</span>
</span><span id="SINr.__init__-216"><a href="#SINr.__init__-216"><span class="linenos">216</span></a>
</span><span id="SINr.__init__-217"><a href="#SINr.__init__-217"><span class="linenos">217</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">wd_before</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">wd_after</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
</span></pre></div>


            <div class="docstring"><p>Should not be used ! Some factory methods below starting with "load_" should be used instead.</p>

<h2 id="parameters">Parameters</h2>

<p>graph : networkit graph
lgcc : networkit graph
    the largest connected component of graph
wrd_to_idx : dict
    A matching between a vocabulary and ids. Useful for text. Otherwise, the vocabulary and the ids are the same.
n_jobs : int, optional
    Number of jobs that should be runned. The default is 1.</p>

<h2 id="returns">Returns</h2>

<p>None.</p>
</div>


                            </div>
                            <div id="SINr.load_from_cooc_pkl" class="classattr">
                                        <input id="SINr.load_from_cooc_pkl-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">load_from_cooc_pkl</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span>, </span><span class="param"><span class="n">cooc_matrix_path</span>, </span><span class="param"><span class="n">norm</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINr.load_from_cooc_pkl-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINr.load_from_cooc_pkl"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINr.load_from_cooc_pkl-28"><a href="#SINr.load_from_cooc_pkl-28"><span class="linenos">28</span></a>    <span class="nd">@classmethod</span>
</span><span id="SINr.load_from_cooc_pkl-29"><a href="#SINr.load_from_cooc_pkl-29"><span class="linenos">29</span></a>    <span class="k">def</span> <span class="nf">load_from_cooc_pkl</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">cooc_matrix_path</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span><span id="SINr.load_from_cooc_pkl-30"><a href="#SINr.load_from_cooc_pkl-30"><span class="linenos">30</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINr.load_from_cooc_pkl-31"><a href="#SINr.load_from_cooc_pkl-31"><span class="linenos">31</span></a><span class="sd">        Build a sinr object from a co-occurrence matrix stored as a pickle : useful to deal with textual data.</span>
</span><span id="SINr.load_from_cooc_pkl-32"><a href="#SINr.load_from_cooc_pkl-32"><span class="linenos">32</span></a><span class="sd">        Co-occurrence matrices should for instance be generated using sinr.text.cooccurrence</span>
</span><span id="SINr.load_from_cooc_pkl-33"><a href="#SINr.load_from_cooc_pkl-33"><span class="linenos">33</span></a>
</span><span id="SINr.load_from_cooc_pkl-34"><a href="#SINr.load_from_cooc_pkl-34"><span class="linenos">34</span></a><span class="sd">        Parameters</span>
</span><span id="SINr.load_from_cooc_pkl-35"><a href="#SINr.load_from_cooc_pkl-35"><span class="linenos">35</span></a><span class="sd">        ----------</span>
</span><span id="SINr.load_from_cooc_pkl-36"><a href="#SINr.load_from_cooc_pkl-36"><span class="linenos">36</span></a><span class="sd">        cooc_matrix_path : string</span>
</span><span id="SINr.load_from_cooc_pkl-37"><a href="#SINr.load_from_cooc_pkl-37"><span class="linenos">37</span></a><span class="sd">            Path to the cooccurrence matrix generated using sinr.text.cooccurrence : the file should be a pickle</span>
</span><span id="SINr.load_from_cooc_pkl-38"><a href="#SINr.load_from_cooc_pkl-38"><span class="linenos">38</span></a><span class="sd">        norm : strategy_norm, optional</span>
</span><span id="SINr.load_from_cooc_pkl-39"><a href="#SINr.load_from_cooc_pkl-39"><span class="linenos">39</span></a><span class="sd">            If the graph weights be normalized (for example using PMI). The default is None.</span>
</span><span id="SINr.load_from_cooc_pkl-40"><a href="#SINr.load_from_cooc_pkl-40"><span class="linenos">40</span></a><span class="sd">        n_jobs : int, optional</span>
</span><span id="SINr.load_from_cooc_pkl-41"><a href="#SINr.load_from_cooc_pkl-41"><span class="linenos">41</span></a><span class="sd">            Number of jobs that should be used The default is 1.</span>
</span><span id="SINr.load_from_cooc_pkl-42"><a href="#SINr.load_from_cooc_pkl-42"><span class="linenos">42</span></a>
</span><span id="SINr.load_from_cooc_pkl-43"><a href="#SINr.load_from_cooc_pkl-43"><span class="linenos">43</span></a><span class="sd">        Returns</span>
</span><span id="SINr.load_from_cooc_pkl-44"><a href="#SINr.load_from_cooc_pkl-44"><span class="linenos">44</span></a><span class="sd">        -------</span>
</span><span id="SINr.load_from_cooc_pkl-45"><a href="#SINr.load_from_cooc_pkl-45"><span class="linenos">45</span></a><span class="sd">        TYPE</span>
</span><span id="SINr.load_from_cooc_pkl-46"><a href="#SINr.load_from_cooc_pkl-46"><span class="linenos">46</span></a><span class="sd">            A SINr object, this method acts as a factory.</span>
</span><span id="SINr.load_from_cooc_pkl-47"><a href="#SINr.load_from_cooc_pkl-47"><span class="linenos">47</span></a>
</span><span id="SINr.load_from_cooc_pkl-48"><a href="#SINr.load_from_cooc_pkl-48"><span class="linenos">48</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINr.load_from_cooc_pkl-49"><a href="#SINr.load_from_cooc_pkl-49"><span class="linenos">49</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Building Graph.&quot;</span><span class="p">)</span>
</span><span id="SINr.load_from_cooc_pkl-50"><a href="#SINr.load_from_cooc_pkl-50"><span class="linenos">50</span></a>
</span><span id="SINr.load_from_cooc_pkl-51"><a href="#SINr.load_from_cooc_pkl-51"><span class="linenos">51</span></a>        <span class="n">word_to_idx</span><span class="p">,</span> <span class="n">matrix</span> <span class="o">=</span> <span class="n">strategy_loader</span><span class="o">.</span><span class="n">load_pkl_text</span><span class="p">(</span><span class="n">cooc_matrix_path</span><span class="p">)</span>
</span><span id="SINr.load_from_cooc_pkl-52"><a href="#SINr.load_from_cooc_pkl-52"><span class="linenos">52</span></a>        <span class="n">graph</span> <span class="o">=</span> <span class="n">get_graph_from_matrix</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
</span><span id="SINr.load_from_cooc_pkl-53"><a href="#SINr.load_from_cooc_pkl-53"><span class="linenos">53</span></a>        <span class="n">graph</span> <span class="o">=</span> <span class="n">strategy_norm</span><span class="o">.</span><span class="n">apply_norm</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">norm</span><span class="p">)</span>
</span><span id="SINr.load_from_cooc_pkl-54"><a href="#SINr.load_from_cooc_pkl-54"><span class="linenos">54</span></a>        <span class="n">out_of_LgCC</span> <span class="o">=</span> <span class="n">get_lgcc</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
</span><span id="SINr.load_from_cooc_pkl-55"><a href="#SINr.load_from_cooc_pkl-55"><span class="linenos">55</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished building graph.&quot;</span><span class="p">)</span>
</span><span id="SINr.load_from_cooc_pkl-56"><a href="#SINr.load_from_cooc_pkl-56"><span class="linenos">56</span></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">out_of_LgCC</span><span class="p">,</span> <span class="n">word_to_idx</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Build a sinr object from a co-occurrence matrix stored as a pickle : useful to deal with textual data.
Co-occurrence matrices should for instance be generated using sinr.text.cooccurrence</p>

<h2 id="parameters">Parameters</h2>

<p>cooc_matrix_path : string
    Path to the cooccurrence matrix generated using sinr.text.cooccurrence : the file should be a pickle
norm : strategy_norm, optional
    If the graph weights be normalized (for example using PMI). The default is None.
n_jobs : int, optional
    Number of jobs that should be used The default is 1.</p>

<h2 id="returns">Returns</h2>

<p>TYPE
    A SINr object, this method acts as a factory.</p>
</div>


                            </div>
                            <div id="SINr.load_from_adjacency_matrix" class="classattr">
                                        <input id="SINr.load_from_adjacency_matrix-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">load_from_adjacency_matrix</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span>, </span><span class="param"><span class="n">matrix_object</span>, </span><span class="param"><span class="n">norm</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINr.load_from_adjacency_matrix-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINr.load_from_adjacency_matrix"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINr.load_from_adjacency_matrix-58"><a href="#SINr.load_from_adjacency_matrix-58"><span class="linenos">58</span></a>    <span class="nd">@classmethod</span>
</span><span id="SINr.load_from_adjacency_matrix-59"><a href="#SINr.load_from_adjacency_matrix-59"><span class="linenos">59</span></a>    <span class="k">def</span> <span class="nf">load_from_adjacency_matrix</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">matrix_object</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span><span id="SINr.load_from_adjacency_matrix-60"><a href="#SINr.load_from_adjacency_matrix-60"><span class="linenos">60</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINr.load_from_adjacency_matrix-61"><a href="#SINr.load_from_adjacency_matrix-61"><span class="linenos">61</span></a><span class="sd">        Build a sinr object from an adjacency matrix as a sparse one (csr)</span>
</span><span id="SINr.load_from_adjacency_matrix-62"><a href="#SINr.load_from_adjacency_matrix-62"><span class="linenos">62</span></a>
</span><span id="SINr.load_from_adjacency_matrix-63"><a href="#SINr.load_from_adjacency_matrix-63"><span class="linenos">63</span></a><span class="sd">        Parameters</span>
</span><span id="SINr.load_from_adjacency_matrix-64"><a href="#SINr.load_from_adjacency_matrix-64"><span class="linenos">64</span></a><span class="sd">        ----------</span>
</span><span id="SINr.load_from_adjacency_matrix-65"><a href="#SINr.load_from_adjacency_matrix-65"><span class="linenos">65</span></a><span class="sd">        matrix_object : csr_matrix</span>
</span><span id="SINr.load_from_adjacency_matrix-66"><a href="#SINr.load_from_adjacency_matrix-66"><span class="linenos">66</span></a><span class="sd">            Matrix describing the graph.</span>
</span><span id="SINr.load_from_adjacency_matrix-67"><a href="#SINr.load_from_adjacency_matrix-67"><span class="linenos">67</span></a><span class="sd">        norm : strategy_norm, optional</span>
</span><span id="SINr.load_from_adjacency_matrix-68"><a href="#SINr.load_from_adjacency_matrix-68"><span class="linenos">68</span></a><span class="sd">            If the graph weights be normalized (for example using PMI). The default is None.</span>
</span><span id="SINr.load_from_adjacency_matrix-69"><a href="#SINr.load_from_adjacency_matrix-69"><span class="linenos">69</span></a><span class="sd">        n_jobs : int, optional</span>
</span><span id="SINr.load_from_adjacency_matrix-70"><a href="#SINr.load_from_adjacency_matrix-70"><span class="linenos">70</span></a><span class="sd">            Number of jobs that should be used The default is 1.</span>
</span><span id="SINr.load_from_adjacency_matrix-71"><a href="#SINr.load_from_adjacency_matrix-71"><span class="linenos">71</span></a>
</span><span id="SINr.load_from_adjacency_matrix-72"><a href="#SINr.load_from_adjacency_matrix-72"><span class="linenos">72</span></a><span class="sd">        Returns</span>
</span><span id="SINr.load_from_adjacency_matrix-73"><a href="#SINr.load_from_adjacency_matrix-73"><span class="linenos">73</span></a><span class="sd">        -------</span>
</span><span id="SINr.load_from_adjacency_matrix-74"><a href="#SINr.load_from_adjacency_matrix-74"><span class="linenos">74</span></a><span class="sd">        TYPE</span>
</span><span id="SINr.load_from_adjacency_matrix-75"><a href="#SINr.load_from_adjacency_matrix-75"><span class="linenos">75</span></a><span class="sd">            A SINr object, this method acts as a factory.</span>
</span><span id="SINr.load_from_adjacency_matrix-76"><a href="#SINr.load_from_adjacency_matrix-76"><span class="linenos">76</span></a>
</span><span id="SINr.load_from_adjacency_matrix-77"><a href="#SINr.load_from_adjacency_matrix-77"><span class="linenos">77</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINr.load_from_adjacency_matrix-78"><a href="#SINr.load_from_adjacency_matrix-78"><span class="linenos">78</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Building Graph.&quot;</span><span class="p">)</span>
</span><span id="SINr.load_from_adjacency_matrix-79"><a href="#SINr.load_from_adjacency_matrix-79"><span class="linenos">79</span></a>        <span class="n">word_to_idx</span><span class="p">,</span> <span class="n">matrix</span> <span class="o">=</span> <span class="n">strategy_loader</span><span class="o">.</span><span class="n">load_adj_mat</span><span class="p">(</span><span class="n">matrix_object</span><span class="p">)</span>
</span><span id="SINr.load_from_adjacency_matrix-80"><a href="#SINr.load_from_adjacency_matrix-80"><span class="linenos">80</span></a>        <span class="n">graph</span> <span class="o">=</span> <span class="n">get_graph_from_matrix</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
</span><span id="SINr.load_from_adjacency_matrix-81"><a href="#SINr.load_from_adjacency_matrix-81"><span class="linenos">81</span></a>        <span class="n">graph</span> <span class="o">=</span> <span class="n">strategy_norm</span><span class="o">.</span><span class="n">apply_norm</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">norm</span><span class="p">)</span>
</span><span id="SINr.load_from_adjacency_matrix-82"><a href="#SINr.load_from_adjacency_matrix-82"><span class="linenos">82</span></a>        <span class="n">out_of_LgCC</span> <span class="o">=</span> <span class="n">get_lgcc</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
</span><span id="SINr.load_from_adjacency_matrix-83"><a href="#SINr.load_from_adjacency_matrix-83"><span class="linenos">83</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished building graph.&quot;</span><span class="p">)</span>
</span><span id="SINr.load_from_adjacency_matrix-84"><a href="#SINr.load_from_adjacency_matrix-84"><span class="linenos">84</span></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">out_of_LgCC</span><span class="p">,</span> <span class="n">word_to_idx</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Build a sinr object from an adjacency matrix as a sparse one (csr)</p>

<h2 id="parameters">Parameters</h2>

<p>matrix_object : csr_matrix
    Matrix describing the graph.
norm : strategy_norm, optional
    If the graph weights be normalized (for example using PMI). The default is None.
n_jobs : int, optional
    Number of jobs that should be used The default is 1.</p>

<h2 id="returns">Returns</h2>

<p>TYPE
    A SINr object, this method acts as a factory.</p>
</div>


                            </div>
                            <div id="SINr.load_from_graph" class="classattr">
                                        <input id="SINr.load_from_graph-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">load_from_graph</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span>, </span><span class="param"><span class="n">graph</span>, </span><span class="param"><span class="n">norm</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINr.load_from_graph-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINr.load_from_graph"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINr.load_from_graph-86"><a href="#SINr.load_from_graph-86"><span class="linenos"> 86</span></a>    <span class="nd">@classmethod</span>
</span><span id="SINr.load_from_graph-87"><a href="#SINr.load_from_graph-87"><span class="linenos"> 87</span></a>    <span class="k">def</span> <span class="nf">load_from_graph</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">graph</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span><span id="SINr.load_from_graph-88"><a href="#SINr.load_from_graph-88"><span class="linenos"> 88</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINr.load_from_graph-89"><a href="#SINr.load_from_graph-89"><span class="linenos"> 89</span></a><span class="sd">        Build a sinr object from a networkit graph object</span>
</span><span id="SINr.load_from_graph-90"><a href="#SINr.load_from_graph-90"><span class="linenos"> 90</span></a>
</span><span id="SINr.load_from_graph-91"><a href="#SINr.load_from_graph-91"><span class="linenos"> 91</span></a><span class="sd">        Parameters</span>
</span><span id="SINr.load_from_graph-92"><a href="#SINr.load_from_graph-92"><span class="linenos"> 92</span></a><span class="sd">        ----------</span>
</span><span id="SINr.load_from_graph-93"><a href="#SINr.load_from_graph-93"><span class="linenos"> 93</span></a><span class="sd">        graph : networkit</span>
</span><span id="SINr.load_from_graph-94"><a href="#SINr.load_from_graph-94"><span class="linenos"> 94</span></a><span class="sd">            Networkit graph object.</span>
</span><span id="SINr.load_from_graph-95"><a href="#SINr.load_from_graph-95"><span class="linenos"> 95</span></a><span class="sd">        norm : strategy_norm, optional</span>
</span><span id="SINr.load_from_graph-96"><a href="#SINr.load_from_graph-96"><span class="linenos"> 96</span></a><span class="sd">            If the graph weights be normalized (for example using PMI). The default is None.</span>
</span><span id="SINr.load_from_graph-97"><a href="#SINr.load_from_graph-97"><span class="linenos"> 97</span></a><span class="sd">        n_jobs : int, optional</span>
</span><span id="SINr.load_from_graph-98"><a href="#SINr.load_from_graph-98"><span class="linenos"> 98</span></a><span class="sd">            Number of jobs that should be used The default is 1.</span>
</span><span id="SINr.load_from_graph-99"><a href="#SINr.load_from_graph-99"><span class="linenos"> 99</span></a>
</span><span id="SINr.load_from_graph-100"><a href="#SINr.load_from_graph-100"><span class="linenos">100</span></a><span class="sd">        Returns</span>
</span><span id="SINr.load_from_graph-101"><a href="#SINr.load_from_graph-101"><span class="linenos">101</span></a><span class="sd">        -------</span>
</span><span id="SINr.load_from_graph-102"><a href="#SINr.load_from_graph-102"><span class="linenos">102</span></a><span class="sd">        TYPE</span>
</span><span id="SINr.load_from_graph-103"><a href="#SINr.load_from_graph-103"><span class="linenos">103</span></a><span class="sd">            A SINr object, this method acts as a factory.</span>
</span><span id="SINr.load_from_graph-104"><a href="#SINr.load_from_graph-104"><span class="linenos">104</span></a>
</span><span id="SINr.load_from_graph-105"><a href="#SINr.load_from_graph-105"><span class="linenos">105</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINr.load_from_graph-106"><a href="#SINr.load_from_graph-106"><span class="linenos">106</span></a>        <span class="n">word_to_idx</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
</span><span id="SINr.load_from_graph-107"><a href="#SINr.load_from_graph-107"><span class="linenos">107</span></a>        <span class="n">idx</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="SINr.load_from_graph-108"><a href="#SINr.load_from_graph-108"><span class="linenos">108</span></a>        <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">graph</span><span class="o">.</span><span class="n">iterNodes</span><span class="p">():</span>
</span><span id="SINr.load_from_graph-109"><a href="#SINr.load_from_graph-109"><span class="linenos">109</span></a>            <span class="n">word_to_idx</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">=</span> <span class="n">idx</span>
</span><span id="SINr.load_from_graph-110"><a href="#SINr.load_from_graph-110"><span class="linenos">110</span></a>            <span class="n">idx</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="SINr.load_from_graph-111"><a href="#SINr.load_from_graph-111"><span class="linenos">111</span></a>        <span class="n">graph</span> <span class="o">=</span> <span class="n">strategy_norm</span><span class="o">.</span><span class="n">apply_norm</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">norm</span><span class="p">)</span>
</span><span id="SINr.load_from_graph-112"><a href="#SINr.load_from_graph-112"><span class="linenos">112</span></a>        <span class="n">out_of_LgCC</span> <span class="o">=</span> <span class="n">get_lgcc</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
</span><span id="SINr.load_from_graph-113"><a href="#SINr.load_from_graph-113"><span class="linenos">113</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished building graph.&quot;</span><span class="p">)</span>
</span><span id="SINr.load_from_graph-114"><a href="#SINr.load_from_graph-114"><span class="linenos">114</span></a>        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">out_of_LgCC</span><span class="p">,</span> <span class="n">word_to_idx</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Build a sinr object from a networkit graph object</p>

<h2 id="parameters">Parameters</h2>

<p>graph : networkit
    Networkit graph object.
norm : strategy_norm, optional
    If the graph weights be normalized (for example using PMI). The default is None.
n_jobs : int, optional
    Number of jobs that should be used The default is 1.</p>

<h2 id="returns">Returns</h2>

<p>TYPE
    A SINr object, this method acts as a factory.</p>
</div>


                            </div>
                            <div id="SINr.run" class="classattr">
                                        <input id="SINr.run-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">run</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">algo</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINr.run-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINr.run"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINr.run-116"><a href="#SINr.run-116"><span class="linenos">116</span></a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">algo</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="SINr.run-117"><a href="#SINr.run-117"><span class="linenos">117</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINr.run-118"><a href="#SINr.run-118"><span class="linenos">118</span></a><span class="sd">        Runs the training of the embedding, i.e. community detection + vectors extraction</span>
</span><span id="SINr.run-119"><a href="#SINr.run-119"><span class="linenos">119</span></a>
</span><span id="SINr.run-120"><a href="#SINr.run-120"><span class="linenos">120</span></a><span class="sd">        Parameters</span>
</span><span id="SINr.run-121"><a href="#SINr.run-121"><span class="linenos">121</span></a><span class="sd">        ----------</span>
</span><span id="SINr.run-122"><a href="#SINr.run-122"><span class="linenos">122</span></a><span class="sd">        algo : networkit.algo.community, optional</span>
</span><span id="SINr.run-123"><a href="#SINr.run-123"><span class="linenos">123</span></a><span class="sd">            Community detection algorithm. The default, None allorws to run a Louvain algorithm</span>
</span><span id="SINr.run-124"><a href="#SINr.run-124"><span class="linenos">124</span></a>
</span><span id="SINr.run-125"><a href="#SINr.run-125"><span class="linenos">125</span></a><span class="sd">        Returns</span>
</span><span id="SINr.run-126"><a href="#SINr.run-126"><span class="linenos">126</span></a><span class="sd">        -------</span>
</span><span id="SINr.run-127"><a href="#SINr.run-127"><span class="linenos">127</span></a><span class="sd">        None.</span>
</span><span id="SINr.run-128"><a href="#SINr.run-128"><span class="linenos">128</span></a>
</span><span id="SINr.run-129"><a href="#SINr.run-129"><span class="linenos">129</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINr.run-130"><a href="#SINr.run-130"><span class="linenos">130</span></a>        <span class="k">if</span> <span class="n">algo</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SINr.run-131"><a href="#SINr.run-131"><span class="linenos">131</span></a>            <span class="n">algo</span> <span class="o">=</span> <span class="n">community</span><span class="o">.</span><span class="n">PLM</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cooc_graph</span><span class="p">,</span> <span class="n">refine</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">turbo</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="SINr.run-132"><a href="#SINr.run-132"><span class="linenos">132</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">communities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">detect_communities</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cooc_graph</span><span class="p">,</span> <span class="n">algo</span><span class="o">=</span><span class="n">algo</span><span class="p">)</span>
</span><span id="SINr.run-133"><a href="#SINr.run-133"><span class="linenos">133</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">extract_embeddings</span><span class="p">(</span><span class="n">G</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cooc_graph</span><span class="p">,</span> <span class="n">communities</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">communities</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Runs the training of the embedding, i.e. community detection + vectors extraction</p>

<h2 id="parameters">Parameters</h2>

<p>algo : networkit.algo.community, optional
    Community detection algorithm. The default, None allorws to run a Louvain algorithm</p>

<h2 id="returns">Returns</h2>

<p>None.</p>
</div>


                            </div>
                            <div id="SINr.detect_communities" class="classattr">
                                        <input id="SINr.detect_communities-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">detect_communities</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">gamma</span><span class="o">=</span><span class="mi">100</span>, </span><span class="param"><span class="n">algo</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">inspect</span><span class="o">=</span><span class="kc">True</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINr.detect_communities-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINr.detect_communities"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINr.detect_communities-135"><a href="#SINr.detect_communities-135"><span class="linenos">135</span></a>    <span class="k">def</span> <span class="nf">detect_communities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">algo</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">inspect</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="SINr.detect_communities-136"><a href="#SINr.detect_communities-136"><span class="linenos">136</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINr.detect_communities-137"><a href="#SINr.detect_communities-137"><span class="linenos">137</span></a><span class="sd">        Runs community detection on the graph</span>
</span><span id="SINr.detect_communities-138"><a href="#SINr.detect_communities-138"><span class="linenos">138</span></a>
</span><span id="SINr.detect_communities-139"><a href="#SINr.detect_communities-139"><span class="linenos">139</span></a><span class="sd">        Parameters</span>
</span><span id="SINr.detect_communities-140"><a href="#SINr.detect_communities-140"><span class="linenos">140</span></a><span class="sd">        ----------</span>
</span><span id="SINr.detect_communities-141"><a href="#SINr.detect_communities-141"><span class="linenos">141</span></a><span class="sd">        gamma : int, optional</span>
</span><span id="SINr.detect_communities-142"><a href="#SINr.detect_communities-142"><span class="linenos">142</span></a><span class="sd">            For Louvain algorithm which is the default algorithm (ignore this parameter if param algo is used), allows to control the size of the communities. The greater it is, the smaller the communities. The default is 100.</span>
</span><span id="SINr.detect_communities-143"><a href="#SINr.detect_communities-143"><span class="linenos">143</span></a><span class="sd">        algo : networkit.algo.community, optional</span>
</span><span id="SINr.detect_communities-144"><a href="#SINr.detect_communities-144"><span class="linenos">144</span></a><span class="sd">            Community detection algorithm. The default, None allorws to run a Louvain algorithm</span>
</span><span id="SINr.detect_communities-145"><a href="#SINr.detect_communities-145"><span class="linenos">145</span></a><span class="sd">        inspect : boolean, optional</span>
</span><span id="SINr.detect_communities-146"><a href="#SINr.detect_communities-146"><span class="linenos">146</span></a><span class="sd">            Whether or not one wants to get insight about the communities extracted. The default is True.</span>
</span><span id="SINr.detect_communities-147"><a href="#SINr.detect_communities-147"><span class="linenos">147</span></a>
</span><span id="SINr.detect_communities-148"><a href="#SINr.detect_communities-148"><span class="linenos">148</span></a><span class="sd">        Returns</span>
</span><span id="SINr.detect_communities-149"><a href="#SINr.detect_communities-149"><span class="linenos">149</span></a><span class="sd">        -------</span>
</span><span id="SINr.detect_communities-150"><a href="#SINr.detect_communities-150"><span class="linenos">150</span></a><span class="sd">        communities : networkit partition</span>
</span><span id="SINr.detect_communities-151"><a href="#SINr.detect_communities-151"><span class="linenos">151</span></a><span class="sd">            Community structure</span>
</span><span id="SINr.detect_communities-152"><a href="#SINr.detect_communities-152"><span class="linenos">152</span></a>
</span><span id="SINr.detect_communities-153"><a href="#SINr.detect_communities-153"><span class="linenos">153</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINr.detect_communities-154"><a href="#SINr.detect_communities-154"><span class="linenos">154</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Detecting communities.&quot;</span><span class="p">)</span>
</span><span id="SINr.detect_communities-155"><a href="#SINr.detect_communities-155"><span class="linenos">155</span></a>        <span class="k">if</span> <span class="n">algo</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SINr.detect_communities-156"><a href="#SINr.detect_communities-156"><span class="linenos">156</span></a>            <span class="n">algo</span> <span class="o">=</span> <span class="n">community</span><span class="o">.</span><span class="n">PLM</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cooc_graph</span><span class="p">,</span> <span class="n">refine</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="n">gamma</span><span class="p">,</span> <span class="n">turbo</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="SINr.detect_communities-157"><a href="#SINr.detect_communities-157"><span class="linenos">157</span></a>        <span class="n">communities</span> <span class="o">=</span> <span class="n">community</span><span class="o">.</span><span class="n">detectCommunities</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cooc_graph</span><span class="p">,</span> <span class="n">algo</span><span class="o">=</span><span class="n">algo</span><span class="p">,</span> <span class="n">inspect</span><span class="o">=</span><span class="n">inspect</span><span class="p">)</span>
</span><span id="SINr.detect_communities-158"><a href="#SINr.detect_communities-158"><span class="linenos">158</span></a>        <span class="n">communities</span><span class="o">.</span><span class="n">compact</span><span class="p">(</span><span class="n">useTurbo</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Consecutive communities from 0 to number of communities - 1</span>
</span><span id="SINr.detect_communities-159"><a href="#SINr.detect_communities-159"><span class="linenos">159</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">communities</span> <span class="o">=</span> <span class="n">communities</span>
</span><span id="SINr.detect_communities-160"><a href="#SINr.detect_communities-160"><span class="linenos">160</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished detecting communities.&quot;</span><span class="p">)</span>
</span><span id="SINr.detect_communities-161"><a href="#SINr.detect_communities-161"><span class="linenos">161</span></a>        <span class="k">return</span> <span class="n">communities</span>
</span></pre></div>


            <div class="docstring"><p>Runs community detection on the graph</p>

<h2 id="parameters">Parameters</h2>

<p>gamma : int, optional
    For Louvain algorithm which is the default algorithm (ignore this parameter if param algo is used), allows to control the size of the communities. The greater it is, the smaller the communities. The default is 100.
algo : networkit.algo.community, optional
    Community detection algorithm. The default, None allorws to run a Louvain algorithm
inspect : boolean, optional
    Whether or not one wants to get insight about the communities extracted. The default is True.</p>

<h2 id="returns">Returns</h2>

<p>communities : networkit partition
    Community structure</p>
</div>


                            </div>
                            <div id="SINr.extract_embeddings" class="classattr">
                                        <input id="SINr.extract_embeddings-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">extract_embeddings</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">communities</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINr.extract_embeddings-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINr.extract_embeddings"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINr.extract_embeddings-163"><a href="#SINr.extract_embeddings-163"><span class="linenos">163</span></a>    <span class="k">def</span> <span class="nf">extract_embeddings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">communities</span><span class="p">):</span>
</span><span id="SINr.extract_embeddings-164"><a href="#SINr.extract_embeddings-164"><span class="linenos">164</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINr.extract_embeddings-165"><a href="#SINr.extract_embeddings-165"><span class="linenos">165</span></a><span class="sd">        </span>
</span><span id="SINr.extract_embeddings-166"><a href="#SINr.extract_embeddings-166"><span class="linenos">166</span></a>
</span><span id="SINr.extract_embeddings-167"><a href="#SINr.extract_embeddings-167"><span class="linenos">167</span></a><span class="sd">        Parameters</span>
</span><span id="SINr.extract_embeddings-168"><a href="#SINr.extract_embeddings-168"><span class="linenos">168</span></a><span class="sd">        ----------</span>
</span><span id="SINr.extract_embeddings-169"><a href="#SINr.extract_embeddings-169"><span class="linenos">169</span></a><span class="sd">        communities : networkit partition</span>
</span><span id="SINr.extract_embeddings-170"><a href="#SINr.extract_embeddings-170"><span class="linenos">170</span></a><span class="sd">            Community structures</span>
</span><span id="SINr.extract_embeddings-171"><a href="#SINr.extract_embeddings-171"><span class="linenos">171</span></a>
</span><span id="SINr.extract_embeddings-172"><a href="#SINr.extract_embeddings-172"><span class="linenos">172</span></a><span class="sd">        Returns</span>
</span><span id="SINr.extract_embeddings-173"><a href="#SINr.extract_embeddings-173"><span class="linenos">173</span></a><span class="sd">        -------</span>
</span><span id="SINr.extract_embeddings-174"><a href="#SINr.extract_embeddings-174"><span class="linenos">174</span></a><span class="sd">        Extracts the vectors and store them in the SINr object</span>
</span><span id="SINr.extract_embeddings-175"><a href="#SINr.extract_embeddings-175"><span class="linenos">175</span></a>
</span><span id="SINr.extract_embeddings-176"><a href="#SINr.extract_embeddings-176"><span class="linenos">176</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINr.extract_embeddings-177"><a href="#SINr.extract_embeddings-177"><span class="linenos">177</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Extracting embeddings.&quot;</span><span class="p">)</span>
</span><span id="SINr.extract_embeddings-178"><a href="#SINr.extract_embeddings-178"><span class="linenos">178</span></a>
</span><span id="SINr.extract_embeddings-179"><a href="#SINr.extract_embeddings-179"><span class="linenos">179</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Applying NFM.&quot;</span><span class="p">)</span>
</span><span id="SINr.extract_embeddings-180"><a href="#SINr.extract_embeddings-180"><span class="linenos">180</span></a>        <span class="n">np</span><span class="p">,</span> <span class="n">nr</span><span class="p">,</span> <span class="n">nfm</span> <span class="o">=</span> <span class="n">get_nfm_embeddings</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cooc_graph</span><span class="p">,</span> <span class="n">communities</span><span class="o">.</span><span class="n">getVector</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span><span class="p">)</span>
</span><span id="SINr.extract_embeddings-181"><a href="#SINr.extract_embeddings-181"><span class="linenos">181</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">np</span> <span class="o">=</span> <span class="n">np</span>
</span><span id="SINr.extract_embeddings-182"><a href="#SINr.extract_embeddings-182"><span class="linenos">182</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nr</span> <span class="o">=</span> <span class="n">nr</span>
</span><span id="SINr.extract_embeddings-183"><a href="#SINr.extract_embeddings-183"><span class="linenos">183</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nfm</span> <span class="o">=</span> <span class="n">nfm</span>
</span><span id="SINr.extract_embeddings-184"><a href="#SINr.extract_embeddings-184"><span class="linenos">184</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;NFM successfully applied.&quot;</span><span class="p">)</span>
</span><span id="SINr.extract_embeddings-185"><a href="#SINr.extract_embeddings-185"><span class="linenos">185</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Finished extracting embeddings.&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><h2 id="parameters">Parameters</h2>

<p>communities : networkit partition
    Community structures</p>

<h2 id="returns">Returns</h2>

<p>Extracts the vectors and store them in the SINr object</p>
</div>


                            </div>
                            <div id="SINr.get_out_of_LgCC_coms" class="classattr">
                                        <input id="SINr.get_out_of_LgCC_coms-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_out_of_LgCC_coms</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">communities</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINr.get_out_of_LgCC_coms-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINr.get_out_of_LgCC_coms"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINr.get_out_of_LgCC_coms-219"><a href="#SINr.get_out_of_LgCC_coms-219"><span class="linenos">219</span></a>    <span class="k">def</span> <span class="nf">get_out_of_LgCC_coms</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">communities</span><span class="p">):</span>
</span><span id="SINr.get_out_of_LgCC_coms-220"><a href="#SINr.get_out_of_LgCC_coms-220"><span class="linenos">220</span></a>        <span class="n">set_out_of_LgCC</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">out_of_LgCC</span><span class="p">)</span>
</span><span id="SINr.get_out_of_LgCC_coms-221"><a href="#SINr.get_out_of_LgCC_coms-221"><span class="linenos">221</span></a>        <span class="n">out_of_LgCC_coms</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="SINr.get_out_of_LgCC_coms-222"><a href="#SINr.get_out_of_LgCC_coms-222"><span class="linenos">222</span></a>        <span class="k">for</span> <span class="n">com</span> <span class="ow">in</span> <span class="n">communities</span><span class="o">.</span><span class="n">getSubsetIds</span><span class="p">():</span>
</span><span id="SINr.get_out_of_LgCC_coms-223"><a href="#SINr.get_out_of_LgCC_coms-223"><span class="linenos">223</span></a>            <span class="k">if</span> <span class="nb">set</span><span class="p">(</span><span class="n">communities</span><span class="o">.</span><span class="n">getMembers</span><span class="p">())</span> <span class="o">&amp;</span> <span class="n">set_out_of_LgCC</span> <span class="o">!=</span> <span class="p">{}:</span>
</span><span id="SINr.get_out_of_LgCC_coms-224"><a href="#SINr.get_out_of_LgCC_coms-224"><span class="linenos">224</span></a>                <span class="n">out_of_LgCC_coms</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">com</span><span class="p">)</span>
</span><span id="SINr.get_out_of_LgCC_coms-225"><a href="#SINr.get_out_of_LgCC_coms-225"><span class="linenos">225</span></a>        <span class="k">return</span> <span class="n">out_of_LgCC_coms</span>
</span></pre></div>


    

                            </div>
                            <div id="SINr.get_cooc_graph" class="classattr">
                                        <input id="SINr.get_cooc_graph-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_cooc_graph</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINr.get_cooc_graph-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINr.get_cooc_graph"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINr.get_cooc_graph-227"><a href="#SINr.get_cooc_graph-227"><span class="linenos">227</span></a>    <span class="k">def</span> <span class="nf">get_cooc_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SINr.get_cooc_graph-228"><a href="#SINr.get_cooc_graph-228"><span class="linenos">228</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">cooc_graph</span>
</span></pre></div>


    

                            </div>
                            <div id="SINr.get_nr" class="classattr">
                                        <input id="SINr.get_nr-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_nr</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINr.get_nr-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINr.get_nr"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINr.get_nr-230"><a href="#SINr.get_nr-230"><span class="linenos">230</span></a>    <span class="k">def</span> <span class="nf">get_nr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SINr.get_nr-231"><a href="#SINr.get_nr-231"><span class="linenos">231</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nr</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SINr.get_nr-232"><a href="#SINr.get_nr-232"><span class="linenos">232</span></a>            <span class="k">raise</span> <span class="n">NoEmbeddingExtractedException</span>
</span><span id="SINr.get_nr-233"><a href="#SINr.get_nr-233"><span class="linenos">233</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SINr.get_nr-234"><a href="#SINr.get_nr-234"><span class="linenos">234</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">nr</span>
</span></pre></div>


    

                            </div>
                            <div id="SINr.get_np" class="classattr">
                                        <input id="SINr.get_np-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_np</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINr.get_np-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINr.get_np"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINr.get_np-236"><a href="#SINr.get_np-236"><span class="linenos">236</span></a>    <span class="k">def</span> <span class="nf">get_np</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SINr.get_np-237"><a href="#SINr.get_np-237"><span class="linenos">237</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">np</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SINr.get_np-238"><a href="#SINr.get_np-238"><span class="linenos">238</span></a>            <span class="k">raise</span> <span class="n">NoEmbeddingExtractedException</span>
</span><span id="SINr.get_np-239"><a href="#SINr.get_np-239"><span class="linenos">239</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SINr.get_np-240"><a href="#SINr.get_np-240"><span class="linenos">240</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">np</span>
</span></pre></div>


    

                            </div>
                            <div id="SINr.get_nfm" class="classattr">
                                        <input id="SINr.get_nfm-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_nfm</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINr.get_nfm-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINr.get_nfm"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINr.get_nfm-242"><a href="#SINr.get_nfm-242"><span class="linenos">242</span></a>    <span class="k">def</span> <span class="nf">get_nfm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SINr.get_nfm-243"><a href="#SINr.get_nfm-243"><span class="linenos">243</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nfm</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SINr.get_nfm-244"><a href="#SINr.get_nfm-244"><span class="linenos">244</span></a>            <span class="k">raise</span> <span class="n">NoEmbeddingExtractedException</span>
</span><span id="SINr.get_nfm-245"><a href="#SINr.get_nfm-245"><span class="linenos">245</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SINr.get_nfm-246"><a href="#SINr.get_nfm-246"><span class="linenos">246</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">nfm</span>
</span></pre></div>


    

                            </div>
                            <div id="SINr.get_vocabulary" class="classattr">
                                        <input id="SINr.get_vocabulary-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_vocabulary</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINr.get_vocabulary-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINr.get_vocabulary"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINr.get_vocabulary-248"><a href="#SINr.get_vocabulary-248"><span class="linenos">248</span></a>    <span class="k">def</span> <span class="nf">get_vocabulary</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SINr.get_vocabulary-249"><a href="#SINr.get_vocabulary-249"><span class="linenos">249</span></a>        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">idx_to_wrd</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
</span></pre></div>


    

                            </div>
                            <div id="SINr.get_wrd_to_id" class="classattr">
                                        <input id="SINr.get_wrd_to_id-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_wrd_to_id</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINr.get_wrd_to_id-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINr.get_wrd_to_id"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINr.get_wrd_to_id-251"><a href="#SINr.get_wrd_to_id-251"><span class="linenos">251</span></a>    <span class="k">def</span> <span class="nf">get_wrd_to_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SINr.get_wrd_to_id-252"><a href="#SINr.get_wrd_to_id-252"><span class="linenos">252</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">wrd_to_idx</span>
</span></pre></div>


    

                            </div>
                            <div id="SINr.get_communities" class="classattr">
                                        <input id="SINr.get_communities-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_communities</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINr.get_communities-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINr.get_communities"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINr.get_communities-254"><a href="#SINr.get_communities-254"><span class="linenos">254</span></a>    <span class="k">def</span> <span class="nf">get_communities</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SINr.get_communities-255"><a href="#SINr.get_communities-255"><span class="linenos">255</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">communities</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SINr.get_communities-256"><a href="#SINr.get_communities-256"><span class="linenos">256</span></a>            <span class="k">raise</span> <span class="n">NoCommunityDetectedException</span>
</span><span id="SINr.get_communities-257"><a href="#SINr.get_communities-257"><span class="linenos">257</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SINr.get_communities-258"><a href="#SINr.get_communities-258"><span class="linenos">258</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">communities</span>
</span></pre></div>


    

                            </div>
                </section>
                <section id="get_lgcc">
                            <input id="get_lgcc-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_lgcc</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">graph</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="get_lgcc-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#get_lgcc"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="get_lgcc-263"><a href="#get_lgcc-263"><span class="linenos">263</span></a><span class="k">def</span> <span class="nf">get_lgcc</span><span class="p">(</span><span class="n">graph</span><span class="p">):</span>
</span><span id="get_lgcc-264"><a href="#get_lgcc-264"><span class="linenos">264</span></a>    <span class="sd">&quot;&quot;&quot;</span>
</span><span id="get_lgcc-265"><a href="#get_lgcc-265"><span class="linenos">265</span></a>
</span><span id="get_lgcc-266"><a href="#get_lgcc-266"><span class="linenos">266</span></a><span class="sd">    Parameters</span>
</span><span id="get_lgcc-267"><a href="#get_lgcc-267"><span class="linenos">267</span></a><span class="sd">    ----------</span>
</span><span id="get_lgcc-268"><a href="#get_lgcc-268"><span class="linenos">268</span></a><span class="sd">    graph : networkit graph</span>
</span><span id="get_lgcc-269"><a href="#get_lgcc-269"><span class="linenos">269</span></a>
</span><span id="get_lgcc-270"><a href="#get_lgcc-270"><span class="linenos">270</span></a>
</span><span id="get_lgcc-271"><a href="#get_lgcc-271"><span class="linenos">271</span></a><span class="sd">    Returns</span>
</span><span id="get_lgcc-272"><a href="#get_lgcc-272"><span class="linenos">272</span></a><span class="sd">    -------</span>
</span><span id="get_lgcc-273"><a href="#get_lgcc-273"><span class="linenos">273</span></a><span class="sd">    out_of_LgCC : networkit graph</span>
</span><span id="get_lgcc-274"><a href="#get_lgcc-274"><span class="linenos">274</span></a><span class="sd">        the largest connected component of the graph provided as a parameter</span>
</span><span id="get_lgcc-275"><a href="#get_lgcc-275"><span class="linenos">275</span></a>
</span><span id="get_lgcc-276"><a href="#get_lgcc-276"><span class="linenos">276</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="get_lgcc-277"><a href="#get_lgcc-277"><span class="linenos">277</span></a>    <span class="n">out_of_LgCC</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">graph</span><span class="o">.</span><span class="n">iterNodes</span><span class="p">())</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">components</span><span class="o">.</span><span class="n">ConnectedComponents</span><span class="o">.</span><span class="n">extractLargestConnectedComponent</span><span class="p">(</span>
</span><span id="get_lgcc-278"><a href="#get_lgcc-278"><span class="linenos">278</span></a>        <span class="n">graph</span><span class="p">)</span><span class="o">.</span><span class="n">iterNodes</span><span class="p">())</span>  <span class="c1"># Extract out of largest connected component vocabulary</span>
</span><span id="get_lgcc-279"><a href="#get_lgcc-279"><span class="linenos">279</span></a>    <span class="k">return</span> <span class="n">out_of_LgCC</span>
</span></pre></div>


            <div class="docstring"><h2 id="parameters">Parameters</h2>

<p>graph : networkit graph</p>

<h2 id="returns">Returns</h2>

<p>out_of_LgCC : networkit graph
    the largest connected component of the graph provided as a parameter</p>
</div>


                </section>
                <section id="get_graph_from_matrix">
                            <input id="get_graph_from_matrix-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_graph_from_matrix</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">matrix</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="get_graph_from_matrix-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#get_graph_from_matrix"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="get_graph_from_matrix-282"><a href="#get_graph_from_matrix-282"><span class="linenos">282</span></a><span class="k">def</span> <span class="nf">get_graph_from_matrix</span><span class="p">(</span><span class="n">matrix</span><span class="p">):</span>
</span><span id="get_graph_from_matrix-283"><a href="#get_graph_from_matrix-283"><span class="linenos">283</span></a>    <span class="sd">&quot;&quot;&quot;</span>
</span><span id="get_graph_from_matrix-284"><a href="#get_graph_from_matrix-284"><span class="linenos">284</span></a>
</span><span id="get_graph_from_matrix-285"><a href="#get_graph_from_matrix-285"><span class="linenos">285</span></a><span class="sd">    Parameters</span>
</span><span id="get_graph_from_matrix-286"><a href="#get_graph_from_matrix-286"><span class="linenos">286</span></a><span class="sd">    ----------</span>
</span><span id="get_graph_from_matrix-287"><a href="#get_graph_from_matrix-287"><span class="linenos">287</span></a><span class="sd">    matrix : coo_matrix</span>
</span><span id="get_graph_from_matrix-288"><a href="#get_graph_from_matrix-288"><span class="linenos">288</span></a><span class="sd">        A sparse matrix describing a graph</span>
</span><span id="get_graph_from_matrix-289"><a href="#get_graph_from_matrix-289"><span class="linenos">289</span></a>
</span><span id="get_graph_from_matrix-290"><a href="#get_graph_from_matrix-290"><span class="linenos">290</span></a><span class="sd">    Returns</span>
</span><span id="get_graph_from_matrix-291"><a href="#get_graph_from_matrix-291"><span class="linenos">291</span></a><span class="sd">    -------</span>
</span><span id="get_graph_from_matrix-292"><a href="#get_graph_from_matrix-292"><span class="linenos">292</span></a><span class="sd">    graph : networkit graph</span>
</span><span id="get_graph_from_matrix-293"><a href="#get_graph_from_matrix-293"><span class="linenos">293</span></a><span class="sd">        the graph corresponding to the coo matrix</span>
</span><span id="get_graph_from_matrix-294"><a href="#get_graph_from_matrix-294"><span class="linenos">294</span></a>
</span><span id="get_graph_from_matrix-295"><a href="#get_graph_from_matrix-295"><span class="linenos">295</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="get_graph_from_matrix-296"><a href="#get_graph_from_matrix-296"><span class="linenos">296</span></a>    <span class="n">graph</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">(</span><span class="n">weighted</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="get_graph_from_matrix-297"><a href="#get_graph_from_matrix-297"><span class="linenos">297</span></a>    <span class="n">rows</span><span class="p">,</span> <span class="n">cols</span> <span class="o">=</span> <span class="n">matrix</span><span class="o">.</span><span class="n">row</span><span class="p">,</span> <span class="n">matrix</span><span class="o">.</span><span class="n">col</span>
</span><span id="get_graph_from_matrix-298"><a href="#get_graph_from_matrix-298"><span class="linenos">298</span></a>    <span class="n">weights</span> <span class="o">=</span> <span class="n">matrix</span><span class="o">.</span><span class="n">data</span>
</span><span id="get_graph_from_matrix-299"><a href="#get_graph_from_matrix-299"><span class="linenos">299</span></a>    <span class="k">for</span> <span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">weight</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">rows</span><span class="p">,</span> <span class="n">cols</span><span class="p">,</span> <span class="n">weights</span><span class="p">):</span>
</span><span id="get_graph_from_matrix-300"><a href="#get_graph_from_matrix-300"><span class="linenos">300</span></a>        <span class="n">graph</span><span class="o">.</span><span class="n">addEdge</span><span class="p">(</span><span class="n">u</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">v</span><span class="o">=</span><span class="n">col</span><span class="p">,</span> <span class="n">w</span><span class="o">=</span><span class="n">weight</span><span class="p">,</span> <span class="n">addMissing</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="get_graph_from_matrix-301"><a href="#get_graph_from_matrix-301"><span class="linenos">301</span></a>    <span class="k">return</span> <span class="n">graph</span>
</span></pre></div>


            <div class="docstring"><h2 id="parameters">Parameters</h2>

<p>matrix : coo_matrix
    A sparse matrix describing a graph</p>

<h2 id="returns">Returns</h2>

<p>graph : networkit graph
    the graph corresponding to the coo matrix</p>
</div>


                </section>
                <section id="NoCommunityDetectedException">
                            <input id="NoCommunityDetectedException-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">NoCommunityDetectedException</span><wbr>(<span class="base">builtins.Exception</span>):

                <label class="view-source-button" for="NoCommunityDetectedException-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#NoCommunityDetectedException"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="NoCommunityDetectedException-304"><a href="#NoCommunityDetectedException-304"><span class="linenos">304</span></a><span class="k">class</span> <span class="nc">NoCommunityDetectedException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
</span><span id="NoCommunityDetectedException-305"><a href="#NoCommunityDetectedException-305"><span class="linenos">305</span></a>    <span class="s2">&quot;Raised when the communities were not detected&quot;</span>
</span><span id="NoCommunityDetectedException-306"><a href="#NoCommunityDetectedException-306"><span class="linenos">306</span></a>    <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>Raised when the communities were not detected</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>builtins.Exception</dt>
                                <dd id="NoCommunityDetectedException.__init__" class="function">Exception</dd>

            </div>
            <div><dt>builtins.BaseException</dt>
                                <dd id="NoCommunityDetectedException.with_traceback" class="function">with_traceback</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="NoEmbeddingExtractedException">
                            <input id="NoEmbeddingExtractedException-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">NoEmbeddingExtractedException</span><wbr>(<span class="base">builtins.Exception</span>):

                <label class="view-source-button" for="NoEmbeddingExtractedException-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#NoEmbeddingExtractedException"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="NoEmbeddingExtractedException-309"><a href="#NoEmbeddingExtractedException-309"><span class="linenos">309</span></a><span class="k">class</span> <span class="nc">NoEmbeddingExtractedException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
</span><span id="NoEmbeddingExtractedException-310"><a href="#NoEmbeddingExtractedException-310"><span class="linenos">310</span></a>    <span class="s2">&quot;Raised when the embeddings were not extracted&quot;</span>
</span><span id="NoEmbeddingExtractedException-311"><a href="#NoEmbeddingExtractedException-311"><span class="linenos">311</span></a>    <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>Raised when the embeddings were not extracted</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>builtins.Exception</dt>
                                <dd id="NoEmbeddingExtractedException.__init__" class="function">Exception</dd>

            </div>
            <div><dt>builtins.BaseException</dt>
                                <dd id="NoEmbeddingExtractedException.with_traceback" class="function">with_traceback</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ModelBuilder">
                            <input id="ModelBuilder-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ModelBuilder</span>:

                <label class="view-source-button" for="ModelBuilder-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ModelBuilder"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ModelBuilder-314"><a href="#ModelBuilder-314"><span class="linenos">314</span></a><span class="k">class</span> <span class="nc">ModelBuilder</span><span class="p">:</span>
</span><span id="ModelBuilder-315"><a href="#ModelBuilder-315"><span class="linenos">315</span></a>    <span class="sd">&quot;&quot;&quot;</span>
</span><span id="ModelBuilder-316"><a href="#ModelBuilder-316"><span class="linenos">316</span></a><span class="sd">    Object that should be used after the training of word or graph embeddings using the SINr object.</span>
</span><span id="ModelBuilder-317"><a href="#ModelBuilder-317"><span class="linenos">317</span></a><span class="sd">    The ModelBuilder will make use of the SINr object to build a SINrVectors object that will allow to use the resulting vectors efficiently.</span>
</span><span id="ModelBuilder-318"><a href="#ModelBuilder-318"><span class="linenos">318</span></a><span class="sd">    ...</span>
</span><span id="ModelBuilder-319"><a href="#ModelBuilder-319"><span class="linenos">319</span></a>
</span><span id="ModelBuilder-320"><a href="#ModelBuilder-320"><span class="linenos">320</span></a><span class="sd">    Attributes</span>
</span><span id="ModelBuilder-321"><a href="#ModelBuilder-321"><span class="linenos">321</span></a><span class="sd">    ----------</span>
</span><span id="ModelBuilder-322"><a href="#ModelBuilder-322"><span class="linenos">322</span></a><span class="sd">    Attributes should not be read</span>
</span><span id="ModelBuilder-323"><a href="#ModelBuilder-323"><span class="linenos">323</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="ModelBuilder-324"><a href="#ModelBuilder-324"><span class="linenos">324</span></a>
</span><span id="ModelBuilder-325"><a href="#ModelBuilder-325"><span class="linenos">325</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sinr</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_neighbors</span><span class="o">=</span><span class="mi">31</span><span class="p">):</span>
</span><span id="ModelBuilder-326"><a href="#ModelBuilder-326"><span class="linenos">326</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="ModelBuilder-327"><a href="#ModelBuilder-327"><span class="linenos">327</span></a><span class="sd">        Creating a ModelBuilder object to build a SINrVectors one</span>
</span><span id="ModelBuilder-328"><a href="#ModelBuilder-328"><span class="linenos">328</span></a>
</span><span id="ModelBuilder-329"><a href="#ModelBuilder-329"><span class="linenos">329</span></a><span class="sd">        Parameters</span>
</span><span id="ModelBuilder-330"><a href="#ModelBuilder-330"><span class="linenos">330</span></a><span class="sd">        ----------</span>
</span><span id="ModelBuilder-331"><a href="#ModelBuilder-331"><span class="linenos">331</span></a><span class="sd">        sinr : SINr</span>
</span><span id="ModelBuilder-332"><a href="#ModelBuilder-332"><span class="linenos">332</span></a><span class="sd">            A SINr object with extracted vectors</span>
</span><span id="ModelBuilder-333"><a href="#ModelBuilder-333"><span class="linenos">333</span></a><span class="sd">        name : string</span>
</span><span id="ModelBuilder-334"><a href="#ModelBuilder-334"><span class="linenos">334</span></a><span class="sd">            Name of the model</span>
</span><span id="ModelBuilder-335"><a href="#ModelBuilder-335"><span class="linenos">335</span></a><span class="sd">        n_jobs : TYPE, optional</span>
</span><span id="ModelBuilder-336"><a href="#ModelBuilder-336"><span class="linenos">336</span></a><span class="sd">            DESCRIPTION. The default is 1.</span>
</span><span id="ModelBuilder-337"><a href="#ModelBuilder-337"><span class="linenos">337</span></a><span class="sd">        n_neighbors : int, optional</span>
</span><span id="ModelBuilder-338"><a href="#ModelBuilder-338"><span class="linenos">338</span></a><span class="sd">            Number of neighbors to use for similarity. The default is 31.</span>
</span><span id="ModelBuilder-339"><a href="#ModelBuilder-339"><span class="linenos">339</span></a>
</span><span id="ModelBuilder-340"><a href="#ModelBuilder-340"><span class="linenos">340</span></a><span class="sd">        Returns</span>
</span><span id="ModelBuilder-341"><a href="#ModelBuilder-341"><span class="linenos">341</span></a><span class="sd">        -------</span>
</span><span id="ModelBuilder-342"><a href="#ModelBuilder-342"><span class="linenos">342</span></a><span class="sd">        None.</span>
</span><span id="ModelBuilder-343"><a href="#ModelBuilder-343"><span class="linenos">343</span></a>
</span><span id="ModelBuilder-344"><a href="#ModelBuilder-344"><span class="linenos">344</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ModelBuilder-345"><a href="#ModelBuilder-345"><span class="linenos">345</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">sinr</span> <span class="o">=</span> <span class="n">sinr</span>
</span><span id="ModelBuilder-346"><a href="#ModelBuilder-346"><span class="linenos">346</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">SINrVectors</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">n_jobs</span><span class="p">,</span> <span class="n">n_neighbors</span><span class="p">)</span>
</span><span id="ModelBuilder-347"><a href="#ModelBuilder-347"><span class="linenos">347</span></a>
</span><span id="ModelBuilder-348"><a href="#ModelBuilder-348"><span class="linenos">348</span></a>    <span class="k">def</span> <span class="nf">with_embeddings_nr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ModelBuilder-349"><a href="#ModelBuilder-349"><span class="linenos">349</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="ModelBuilder-350"><a href="#ModelBuilder-350"><span class="linenos">350</span></a><span class="sd">        Adding Node Recall vectors to the SINrVectors object</span>
</span><span id="ModelBuilder-351"><a href="#ModelBuilder-351"><span class="linenos">351</span></a>
</span><span id="ModelBuilder-352"><a href="#ModelBuilder-352"><span class="linenos">352</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ModelBuilder-353"><a href="#ModelBuilder-353"><span class="linenos">353</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">set_vectors</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sinr</span><span class="o">.</span><span class="n">get_nr</span><span class="p">())</span>
</span><span id="ModelBuilder-354"><a href="#ModelBuilder-354"><span class="linenos">354</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="ModelBuilder-355"><a href="#ModelBuilder-355"><span class="linenos">355</span></a>
</span><span id="ModelBuilder-356"><a href="#ModelBuilder-356"><span class="linenos">356</span></a>    <span class="k">def</span> <span class="nf">with_embeddings_nfm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ModelBuilder-357"><a href="#ModelBuilder-357"><span class="linenos">357</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="ModelBuilder-358"><a href="#ModelBuilder-358"><span class="linenos">358</span></a><span class="sd">        Adding NFM (Node Recall + Node Predominance) vectors to the SINrVectors object</span>
</span><span id="ModelBuilder-359"><a href="#ModelBuilder-359"><span class="linenos">359</span></a>
</span><span id="ModelBuilder-360"><a href="#ModelBuilder-360"><span class="linenos">360</span></a><span class="sd">        Returns</span>
</span><span id="ModelBuilder-361"><a href="#ModelBuilder-361"><span class="linenos">361</span></a><span class="sd">        -------</span>
</span><span id="ModelBuilder-362"><a href="#ModelBuilder-362"><span class="linenos">362</span></a><span class="sd">        TYPE</span>
</span><span id="ModelBuilder-363"><a href="#ModelBuilder-363"><span class="linenos">363</span></a><span class="sd">            DESCRIPTION.</span>
</span><span id="ModelBuilder-364"><a href="#ModelBuilder-364"><span class="linenos">364</span></a>
</span><span id="ModelBuilder-365"><a href="#ModelBuilder-365"><span class="linenos">365</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ModelBuilder-366"><a href="#ModelBuilder-366"><span class="linenos">366</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">set_vectors</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sinr</span><span class="o">.</span><span class="n">get_nfm</span><span class="p">())</span>
</span><span id="ModelBuilder-367"><a href="#ModelBuilder-367"><span class="linenos">367</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="ModelBuilder-368"><a href="#ModelBuilder-368"><span class="linenos">368</span></a>
</span><span id="ModelBuilder-369"><a href="#ModelBuilder-369"><span class="linenos">369</span></a>    <span class="k">def</span> <span class="nf">with_np</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ModelBuilder-370"><a href="#ModelBuilder-370"><span class="linenos">370</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="ModelBuilder-371"><a href="#ModelBuilder-371"><span class="linenos">371</span></a><span class="sd">        Storing Node predominance values in order to label dimensions for instance</span>
</span><span id="ModelBuilder-372"><a href="#ModelBuilder-372"><span class="linenos">372</span></a>
</span><span id="ModelBuilder-373"><a href="#ModelBuilder-373"><span class="linenos">373</span></a><span class="sd">        Returns</span>
</span><span id="ModelBuilder-374"><a href="#ModelBuilder-374"><span class="linenos">374</span></a><span class="sd">        -------</span>
</span><span id="ModelBuilder-375"><a href="#ModelBuilder-375"><span class="linenos">375</span></a><span class="sd">        TYPE</span>
</span><span id="ModelBuilder-376"><a href="#ModelBuilder-376"><span class="linenos">376</span></a><span class="sd">            DESCRIPTION.</span>
</span><span id="ModelBuilder-377"><a href="#ModelBuilder-377"><span class="linenos">377</span></a>
</span><span id="ModelBuilder-378"><a href="#ModelBuilder-378"><span class="linenos">378</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ModelBuilder-379"><a href="#ModelBuilder-379"><span class="linenos">379</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">set_np</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sinr</span><span class="o">.</span><span class="n">get_np</span><span class="p">())</span>
</span><span id="ModelBuilder-380"><a href="#ModelBuilder-380"><span class="linenos">380</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="ModelBuilder-381"><a href="#ModelBuilder-381"><span class="linenos">381</span></a>
</span><span id="ModelBuilder-382"><a href="#ModelBuilder-382"><span class="linenos">382</span></a>    <span class="k">def</span> <span class="nf">with_vocabulary</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ModelBuilder-383"><a href="#ModelBuilder-383"><span class="linenos">383</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="ModelBuilder-384"><a href="#ModelBuilder-384"><span class="linenos">384</span></a><span class="sd">        To deal with word vectors or graph when nodes have labels</span>
</span><span id="ModelBuilder-385"><a href="#ModelBuilder-385"><span class="linenos">385</span></a>
</span><span id="ModelBuilder-386"><a href="#ModelBuilder-386"><span class="linenos">386</span></a><span class="sd">        Returns</span>
</span><span id="ModelBuilder-387"><a href="#ModelBuilder-387"><span class="linenos">387</span></a><span class="sd">        -------</span>
</span><span id="ModelBuilder-388"><a href="#ModelBuilder-388"><span class="linenos">388</span></a><span class="sd">        TYPE</span>
</span><span id="ModelBuilder-389"><a href="#ModelBuilder-389"><span class="linenos">389</span></a><span class="sd">            DESCRIPTION.</span>
</span><span id="ModelBuilder-390"><a href="#ModelBuilder-390"><span class="linenos">390</span></a>
</span><span id="ModelBuilder-391"><a href="#ModelBuilder-391"><span class="linenos">391</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ModelBuilder-392"><a href="#ModelBuilder-392"><span class="linenos">392</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">set_vocabulary</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sinr</span><span class="o">.</span><span class="n">get_vocabulary</span><span class="p">())</span>
</span><span id="ModelBuilder-393"><a href="#ModelBuilder-393"><span class="linenos">393</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="ModelBuilder-394"><a href="#ModelBuilder-394"><span class="linenos">394</span></a>
</span><span id="ModelBuilder-395"><a href="#ModelBuilder-395"><span class="linenos">395</span></a>    <span class="k">def</span> <span class="nf">with_communities</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ModelBuilder-396"><a href="#ModelBuilder-396"><span class="linenos">396</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="ModelBuilder-397"><a href="#ModelBuilder-397"><span class="linenos">397</span></a><span class="sd">        To keep the interpretability of the model using the communities</span>
</span><span id="ModelBuilder-398"><a href="#ModelBuilder-398"><span class="linenos">398</span></a>
</span><span id="ModelBuilder-399"><a href="#ModelBuilder-399"><span class="linenos">399</span></a><span class="sd">        Returns</span>
</span><span id="ModelBuilder-400"><a href="#ModelBuilder-400"><span class="linenos">400</span></a><span class="sd">        -------</span>
</span><span id="ModelBuilder-401"><a href="#ModelBuilder-401"><span class="linenos">401</span></a><span class="sd">        TYPE</span>
</span><span id="ModelBuilder-402"><a href="#ModelBuilder-402"><span class="linenos">402</span></a><span class="sd">            DESCRIPTION.</span>
</span><span id="ModelBuilder-403"><a href="#ModelBuilder-403"><span class="linenos">403</span></a>
</span><span id="ModelBuilder-404"><a href="#ModelBuilder-404"><span class="linenos">404</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ModelBuilder-405"><a href="#ModelBuilder-405"><span class="linenos">405</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">set_communities</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sinr</span><span class="o">.</span><span class="n">get_communities</span><span class="p">())</span>
</span><span id="ModelBuilder-406"><a href="#ModelBuilder-406"><span class="linenos">406</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="ModelBuilder-407"><a href="#ModelBuilder-407"><span class="linenos">407</span></a>
</span><span id="ModelBuilder-408"><a href="#ModelBuilder-408"><span class="linenos">408</span></a>    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ModelBuilder-409"><a href="#ModelBuilder-409"><span class="linenos">409</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="ModelBuilder-410"><a href="#ModelBuilder-410"><span class="linenos">410</span></a><span class="sd">        To get the SINrVectors object</span>
</span><span id="ModelBuilder-411"><a href="#ModelBuilder-411"><span class="linenos">411</span></a>
</span><span id="ModelBuilder-412"><a href="#ModelBuilder-412"><span class="linenos">412</span></a><span class="sd">        Returns</span>
</span><span id="ModelBuilder-413"><a href="#ModelBuilder-413"><span class="linenos">413</span></a><span class="sd">        -------</span>
</span><span id="ModelBuilder-414"><a href="#ModelBuilder-414"><span class="linenos">414</span></a><span class="sd">        TYPE</span>
</span><span id="ModelBuilder-415"><a href="#ModelBuilder-415"><span class="linenos">415</span></a><span class="sd">            DESCRIPTION.</span>
</span><span id="ModelBuilder-416"><a href="#ModelBuilder-416"><span class="linenos">416</span></a>
</span><span id="ModelBuilder-417"><a href="#ModelBuilder-417"><span class="linenos">417</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ModelBuilder-418"><a href="#ModelBuilder-418"><span class="linenos">418</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span>
</span></pre></div>


            <div class="docstring"><p>Object that should be used after the training of word or graph embeddings using the SINr object.
The ModelBuilder will make use of the SINr object to build a SINrVectors object that will allow to use the resulting vectors efficiently.
...</p>

<h2 id="attributes">Attributes</h2>

<p>Attributes should not be read</p>
</div>


                            <div id="ModelBuilder.__init__" class="classattr">
                                        <input id="ModelBuilder.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ModelBuilder</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">sinr</span>, </span><span class="param"><span class="n">name</span>, </span><span class="param"><span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span>, </span><span class="param"><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">31</span></span>)</span>

                <label class="view-source-button" for="ModelBuilder.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ModelBuilder.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ModelBuilder.__init__-325"><a href="#ModelBuilder.__init__-325"><span class="linenos">325</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sinr</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_neighbors</span><span class="o">=</span><span class="mi">31</span><span class="p">):</span>
</span><span id="ModelBuilder.__init__-326"><a href="#ModelBuilder.__init__-326"><span class="linenos">326</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="ModelBuilder.__init__-327"><a href="#ModelBuilder.__init__-327"><span class="linenos">327</span></a><span class="sd">        Creating a ModelBuilder object to build a SINrVectors one</span>
</span><span id="ModelBuilder.__init__-328"><a href="#ModelBuilder.__init__-328"><span class="linenos">328</span></a>
</span><span id="ModelBuilder.__init__-329"><a href="#ModelBuilder.__init__-329"><span class="linenos">329</span></a><span class="sd">        Parameters</span>
</span><span id="ModelBuilder.__init__-330"><a href="#ModelBuilder.__init__-330"><span class="linenos">330</span></a><span class="sd">        ----------</span>
</span><span id="ModelBuilder.__init__-331"><a href="#ModelBuilder.__init__-331"><span class="linenos">331</span></a><span class="sd">        sinr : SINr</span>
</span><span id="ModelBuilder.__init__-332"><a href="#ModelBuilder.__init__-332"><span class="linenos">332</span></a><span class="sd">            A SINr object with extracted vectors</span>
</span><span id="ModelBuilder.__init__-333"><a href="#ModelBuilder.__init__-333"><span class="linenos">333</span></a><span class="sd">        name : string</span>
</span><span id="ModelBuilder.__init__-334"><a href="#ModelBuilder.__init__-334"><span class="linenos">334</span></a><span class="sd">            Name of the model</span>
</span><span id="ModelBuilder.__init__-335"><a href="#ModelBuilder.__init__-335"><span class="linenos">335</span></a><span class="sd">        n_jobs : TYPE, optional</span>
</span><span id="ModelBuilder.__init__-336"><a href="#ModelBuilder.__init__-336"><span class="linenos">336</span></a><span class="sd">            DESCRIPTION. The default is 1.</span>
</span><span id="ModelBuilder.__init__-337"><a href="#ModelBuilder.__init__-337"><span class="linenos">337</span></a><span class="sd">        n_neighbors : int, optional</span>
</span><span id="ModelBuilder.__init__-338"><a href="#ModelBuilder.__init__-338"><span class="linenos">338</span></a><span class="sd">            Number of neighbors to use for similarity. The default is 31.</span>
</span><span id="ModelBuilder.__init__-339"><a href="#ModelBuilder.__init__-339"><span class="linenos">339</span></a>
</span><span id="ModelBuilder.__init__-340"><a href="#ModelBuilder.__init__-340"><span class="linenos">340</span></a><span class="sd">        Returns</span>
</span><span id="ModelBuilder.__init__-341"><a href="#ModelBuilder.__init__-341"><span class="linenos">341</span></a><span class="sd">        -------</span>
</span><span id="ModelBuilder.__init__-342"><a href="#ModelBuilder.__init__-342"><span class="linenos">342</span></a><span class="sd">        None.</span>
</span><span id="ModelBuilder.__init__-343"><a href="#ModelBuilder.__init__-343"><span class="linenos">343</span></a>
</span><span id="ModelBuilder.__init__-344"><a href="#ModelBuilder.__init__-344"><span class="linenos">344</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ModelBuilder.__init__-345"><a href="#ModelBuilder.__init__-345"><span class="linenos">345</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">sinr</span> <span class="o">=</span> <span class="n">sinr</span>
</span><span id="ModelBuilder.__init__-346"><a href="#ModelBuilder.__init__-346"><span class="linenos">346</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">SINrVectors</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">n_jobs</span><span class="p">,</span> <span class="n">n_neighbors</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Creating a ModelBuilder object to build a SINrVectors one</p>

<h2 id="parameters">Parameters</h2>

<p>sinr : SINr
    A SINr object with extracted vectors
name : string
    Name of the model
n_jobs : TYPE, optional
    DESCRIPTION. The default is 1.
n_neighbors : int, optional
    Number of neighbors to use for similarity. The default is 31.</p>

<h2 id="returns">Returns</h2>

<p>None.</p>
</div>


                            </div>
                            <div id="ModelBuilder.with_embeddings_nr" class="classattr">
                                        <input id="ModelBuilder.with_embeddings_nr-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">with_embeddings_nr</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ModelBuilder.with_embeddings_nr-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ModelBuilder.with_embeddings_nr"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ModelBuilder.with_embeddings_nr-348"><a href="#ModelBuilder.with_embeddings_nr-348"><span class="linenos">348</span></a>    <span class="k">def</span> <span class="nf">with_embeddings_nr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ModelBuilder.with_embeddings_nr-349"><a href="#ModelBuilder.with_embeddings_nr-349"><span class="linenos">349</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="ModelBuilder.with_embeddings_nr-350"><a href="#ModelBuilder.with_embeddings_nr-350"><span class="linenos">350</span></a><span class="sd">        Adding Node Recall vectors to the SINrVectors object</span>
</span><span id="ModelBuilder.with_embeddings_nr-351"><a href="#ModelBuilder.with_embeddings_nr-351"><span class="linenos">351</span></a>
</span><span id="ModelBuilder.with_embeddings_nr-352"><a href="#ModelBuilder.with_embeddings_nr-352"><span class="linenos">352</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ModelBuilder.with_embeddings_nr-353"><a href="#ModelBuilder.with_embeddings_nr-353"><span class="linenos">353</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">set_vectors</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sinr</span><span class="o">.</span><span class="n">get_nr</span><span class="p">())</span>
</span><span id="ModelBuilder.with_embeddings_nr-354"><a href="#ModelBuilder.with_embeddings_nr-354"><span class="linenos">354</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span></pre></div>


            <div class="docstring"><p>Adding Node Recall vectors to the SINrVectors object</p>
</div>


                            </div>
                            <div id="ModelBuilder.with_embeddings_nfm" class="classattr">
                                        <input id="ModelBuilder.with_embeddings_nfm-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">with_embeddings_nfm</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ModelBuilder.with_embeddings_nfm-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ModelBuilder.with_embeddings_nfm"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ModelBuilder.with_embeddings_nfm-356"><a href="#ModelBuilder.with_embeddings_nfm-356"><span class="linenos">356</span></a>    <span class="k">def</span> <span class="nf">with_embeddings_nfm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ModelBuilder.with_embeddings_nfm-357"><a href="#ModelBuilder.with_embeddings_nfm-357"><span class="linenos">357</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="ModelBuilder.with_embeddings_nfm-358"><a href="#ModelBuilder.with_embeddings_nfm-358"><span class="linenos">358</span></a><span class="sd">        Adding NFM (Node Recall + Node Predominance) vectors to the SINrVectors object</span>
</span><span id="ModelBuilder.with_embeddings_nfm-359"><a href="#ModelBuilder.with_embeddings_nfm-359"><span class="linenos">359</span></a>
</span><span id="ModelBuilder.with_embeddings_nfm-360"><a href="#ModelBuilder.with_embeddings_nfm-360"><span class="linenos">360</span></a><span class="sd">        Returns</span>
</span><span id="ModelBuilder.with_embeddings_nfm-361"><a href="#ModelBuilder.with_embeddings_nfm-361"><span class="linenos">361</span></a><span class="sd">        -------</span>
</span><span id="ModelBuilder.with_embeddings_nfm-362"><a href="#ModelBuilder.with_embeddings_nfm-362"><span class="linenos">362</span></a><span class="sd">        TYPE</span>
</span><span id="ModelBuilder.with_embeddings_nfm-363"><a href="#ModelBuilder.with_embeddings_nfm-363"><span class="linenos">363</span></a><span class="sd">            DESCRIPTION.</span>
</span><span id="ModelBuilder.with_embeddings_nfm-364"><a href="#ModelBuilder.with_embeddings_nfm-364"><span class="linenos">364</span></a>
</span><span id="ModelBuilder.with_embeddings_nfm-365"><a href="#ModelBuilder.with_embeddings_nfm-365"><span class="linenos">365</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ModelBuilder.with_embeddings_nfm-366"><a href="#ModelBuilder.with_embeddings_nfm-366"><span class="linenos">366</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">set_vectors</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sinr</span><span class="o">.</span><span class="n">get_nfm</span><span class="p">())</span>
</span><span id="ModelBuilder.with_embeddings_nfm-367"><a href="#ModelBuilder.with_embeddings_nfm-367"><span class="linenos">367</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span></pre></div>


            <div class="docstring"><p>Adding NFM (Node Recall + Node Predominance) vectors to the SINrVectors object</p>

<h2 id="returns">Returns</h2>

<p>TYPE
    DESCRIPTION.</p>
</div>


                            </div>
                            <div id="ModelBuilder.with_np" class="classattr">
                                        <input id="ModelBuilder.with_np-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">with_np</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ModelBuilder.with_np-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ModelBuilder.with_np"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ModelBuilder.with_np-369"><a href="#ModelBuilder.with_np-369"><span class="linenos">369</span></a>    <span class="k">def</span> <span class="nf">with_np</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ModelBuilder.with_np-370"><a href="#ModelBuilder.with_np-370"><span class="linenos">370</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="ModelBuilder.with_np-371"><a href="#ModelBuilder.with_np-371"><span class="linenos">371</span></a><span class="sd">        Storing Node predominance values in order to label dimensions for instance</span>
</span><span id="ModelBuilder.with_np-372"><a href="#ModelBuilder.with_np-372"><span class="linenos">372</span></a>
</span><span id="ModelBuilder.with_np-373"><a href="#ModelBuilder.with_np-373"><span class="linenos">373</span></a><span class="sd">        Returns</span>
</span><span id="ModelBuilder.with_np-374"><a href="#ModelBuilder.with_np-374"><span class="linenos">374</span></a><span class="sd">        -------</span>
</span><span id="ModelBuilder.with_np-375"><a href="#ModelBuilder.with_np-375"><span class="linenos">375</span></a><span class="sd">        TYPE</span>
</span><span id="ModelBuilder.with_np-376"><a href="#ModelBuilder.with_np-376"><span class="linenos">376</span></a><span class="sd">            DESCRIPTION.</span>
</span><span id="ModelBuilder.with_np-377"><a href="#ModelBuilder.with_np-377"><span class="linenos">377</span></a>
</span><span id="ModelBuilder.with_np-378"><a href="#ModelBuilder.with_np-378"><span class="linenos">378</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ModelBuilder.with_np-379"><a href="#ModelBuilder.with_np-379"><span class="linenos">379</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">set_np</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sinr</span><span class="o">.</span><span class="n">get_np</span><span class="p">())</span>
</span><span id="ModelBuilder.with_np-380"><a href="#ModelBuilder.with_np-380"><span class="linenos">380</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span></pre></div>


            <div class="docstring"><p>Storing Node predominance values in order to label dimensions for instance</p>

<h2 id="returns">Returns</h2>

<p>TYPE
    DESCRIPTION.</p>
</div>


                            </div>
                            <div id="ModelBuilder.with_vocabulary" class="classattr">
                                        <input id="ModelBuilder.with_vocabulary-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">with_vocabulary</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ModelBuilder.with_vocabulary-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ModelBuilder.with_vocabulary"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ModelBuilder.with_vocabulary-382"><a href="#ModelBuilder.with_vocabulary-382"><span class="linenos">382</span></a>    <span class="k">def</span> <span class="nf">with_vocabulary</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ModelBuilder.with_vocabulary-383"><a href="#ModelBuilder.with_vocabulary-383"><span class="linenos">383</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="ModelBuilder.with_vocabulary-384"><a href="#ModelBuilder.with_vocabulary-384"><span class="linenos">384</span></a><span class="sd">        To deal with word vectors or graph when nodes have labels</span>
</span><span id="ModelBuilder.with_vocabulary-385"><a href="#ModelBuilder.with_vocabulary-385"><span class="linenos">385</span></a>
</span><span id="ModelBuilder.with_vocabulary-386"><a href="#ModelBuilder.with_vocabulary-386"><span class="linenos">386</span></a><span class="sd">        Returns</span>
</span><span id="ModelBuilder.with_vocabulary-387"><a href="#ModelBuilder.with_vocabulary-387"><span class="linenos">387</span></a><span class="sd">        -------</span>
</span><span id="ModelBuilder.with_vocabulary-388"><a href="#ModelBuilder.with_vocabulary-388"><span class="linenos">388</span></a><span class="sd">        TYPE</span>
</span><span id="ModelBuilder.with_vocabulary-389"><a href="#ModelBuilder.with_vocabulary-389"><span class="linenos">389</span></a><span class="sd">            DESCRIPTION.</span>
</span><span id="ModelBuilder.with_vocabulary-390"><a href="#ModelBuilder.with_vocabulary-390"><span class="linenos">390</span></a>
</span><span id="ModelBuilder.with_vocabulary-391"><a href="#ModelBuilder.with_vocabulary-391"><span class="linenos">391</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ModelBuilder.with_vocabulary-392"><a href="#ModelBuilder.with_vocabulary-392"><span class="linenos">392</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">set_vocabulary</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sinr</span><span class="o">.</span><span class="n">get_vocabulary</span><span class="p">())</span>
</span><span id="ModelBuilder.with_vocabulary-393"><a href="#ModelBuilder.with_vocabulary-393"><span class="linenos">393</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span></pre></div>


            <div class="docstring"><p>To deal with word vectors or graph when nodes have labels</p>

<h2 id="returns">Returns</h2>

<p>TYPE
    DESCRIPTION.</p>
</div>


                            </div>
                            <div id="ModelBuilder.with_communities" class="classattr">
                                        <input id="ModelBuilder.with_communities-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">with_communities</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ModelBuilder.with_communities-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ModelBuilder.with_communities"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ModelBuilder.with_communities-395"><a href="#ModelBuilder.with_communities-395"><span class="linenos">395</span></a>    <span class="k">def</span> <span class="nf">with_communities</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ModelBuilder.with_communities-396"><a href="#ModelBuilder.with_communities-396"><span class="linenos">396</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="ModelBuilder.with_communities-397"><a href="#ModelBuilder.with_communities-397"><span class="linenos">397</span></a><span class="sd">        To keep the interpretability of the model using the communities</span>
</span><span id="ModelBuilder.with_communities-398"><a href="#ModelBuilder.with_communities-398"><span class="linenos">398</span></a>
</span><span id="ModelBuilder.with_communities-399"><a href="#ModelBuilder.with_communities-399"><span class="linenos">399</span></a><span class="sd">        Returns</span>
</span><span id="ModelBuilder.with_communities-400"><a href="#ModelBuilder.with_communities-400"><span class="linenos">400</span></a><span class="sd">        -------</span>
</span><span id="ModelBuilder.with_communities-401"><a href="#ModelBuilder.with_communities-401"><span class="linenos">401</span></a><span class="sd">        TYPE</span>
</span><span id="ModelBuilder.with_communities-402"><a href="#ModelBuilder.with_communities-402"><span class="linenos">402</span></a><span class="sd">            DESCRIPTION.</span>
</span><span id="ModelBuilder.with_communities-403"><a href="#ModelBuilder.with_communities-403"><span class="linenos">403</span></a>
</span><span id="ModelBuilder.with_communities-404"><a href="#ModelBuilder.with_communities-404"><span class="linenos">404</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ModelBuilder.with_communities-405"><a href="#ModelBuilder.with_communities-405"><span class="linenos">405</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">set_communities</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sinr</span><span class="o">.</span><span class="n">get_communities</span><span class="p">())</span>
</span><span id="ModelBuilder.with_communities-406"><a href="#ModelBuilder.with_communities-406"><span class="linenos">406</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span></pre></div>


            <div class="docstring"><p>To keep the interpretability of the model using the communities</p>

<h2 id="returns">Returns</h2>

<p>TYPE
    DESCRIPTION.</p>
</div>


                            </div>
                            <div id="ModelBuilder.build" class="classattr">
                                        <input id="ModelBuilder.build-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">build</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ModelBuilder.build-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ModelBuilder.build"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ModelBuilder.build-408"><a href="#ModelBuilder.build-408"><span class="linenos">408</span></a>    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ModelBuilder.build-409"><a href="#ModelBuilder.build-409"><span class="linenos">409</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="ModelBuilder.build-410"><a href="#ModelBuilder.build-410"><span class="linenos">410</span></a><span class="sd">        To get the SINrVectors object</span>
</span><span id="ModelBuilder.build-411"><a href="#ModelBuilder.build-411"><span class="linenos">411</span></a>
</span><span id="ModelBuilder.build-412"><a href="#ModelBuilder.build-412"><span class="linenos">412</span></a><span class="sd">        Returns</span>
</span><span id="ModelBuilder.build-413"><a href="#ModelBuilder.build-413"><span class="linenos">413</span></a><span class="sd">        -------</span>
</span><span id="ModelBuilder.build-414"><a href="#ModelBuilder.build-414"><span class="linenos">414</span></a><span class="sd">        TYPE</span>
</span><span id="ModelBuilder.build-415"><a href="#ModelBuilder.build-415"><span class="linenos">415</span></a><span class="sd">            DESCRIPTION.</span>
</span><span id="ModelBuilder.build-416"><a href="#ModelBuilder.build-416"><span class="linenos">416</span></a>
</span><span id="ModelBuilder.build-417"><a href="#ModelBuilder.build-417"><span class="linenos">417</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ModelBuilder.build-418"><a href="#ModelBuilder.build-418"><span class="linenos">418</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span>
</span></pre></div>


            <div class="docstring"><p>To get the SINrVectors object</p>

<h2 id="returns">Returns</h2>

<p>TYPE
    DESCRIPTION.</p>
</div>


                            </div>
                </section>
                <section id="NoInterpretabilityException">
                            <input id="NoInterpretabilityException-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">NoInterpretabilityException</span><wbr>(<span class="base">builtins.Exception</span>):

                <label class="view-source-button" for="NoInterpretabilityException-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#NoInterpretabilityException"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="NoInterpretabilityException-421"><a href="#NoInterpretabilityException-421"><span class="linenos">421</span></a><span class="k">class</span> <span class="nc">NoInterpretabilityException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
</span><span id="NoInterpretabilityException-422"><a href="#NoInterpretabilityException-422"><span class="linenos">422</span></a>    <span class="s2">&quot;Raised when the communities were not included in the model that was built. It is thus not interpretable anymore.&quot;</span>
</span><span id="NoInterpretabilityException-423"><a href="#NoInterpretabilityException-423"><span class="linenos">423</span></a>    <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>Raised when the communities were not included in the model that was built. It is thus not interpretable anymore.</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>builtins.Exception</dt>
                                <dd id="NoInterpretabilityException.__init__" class="function">Exception</dd>

            </div>
            <div><dt>builtins.BaseException</dt>
                                <dd id="NoInterpretabilityException.with_traceback" class="function">with_traceback</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="NoVocabularyException">
                            <input id="NoVocabularyException-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">NoVocabularyException</span><wbr>(<span class="base">builtins.Exception</span>):

                <label class="view-source-button" for="NoVocabularyException-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#NoVocabularyException"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="NoVocabularyException-426"><a href="#NoVocabularyException-426"><span class="linenos">426</span></a><span class="k">class</span> <span class="nc">NoVocabularyException</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
</span><span id="NoVocabularyException-427"><a href="#NoVocabularyException-427"><span class="linenos">427</span></a>    <span class="s2">&quot;Raised when no vocabulary was included in the model that was built. One cant play with words.&quot;</span>
</span><span id="NoVocabularyException-428"><a href="#NoVocabularyException-428"><span class="linenos">428</span></a>    <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>Raised when no vocabulary was included in the model that was built. One cant play with words.</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>builtins.Exception</dt>
                                <dd id="NoVocabularyException.__init__" class="function">Exception</dd>

            </div>
            <div><dt>builtins.BaseException</dt>
                                <dd id="NoVocabularyException.with_traceback" class="function">with_traceback</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="SINrVectors">
                            <input id="SINrVectors-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">SINrVectors</span>:

                <label class="view-source-button" for="SINrVectors-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINrVectors"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINrVectors-431"><a href="#SINrVectors-431"><span class="linenos">431</span></a><span class="k">class</span> <span class="nc">SINrVectors</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="SINrVectors-432"><a href="#SINrVectors-432"><span class="linenos">432</span></a>    <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors-433"><a href="#SINrVectors-433"><span class="linenos">433</span></a><span class="sd">    After having trained word or graph embeddings using SINr object, use the ModelBuilder object to build SINrVectors.</span>
</span><span id="SINrVectors-434"><a href="#SINrVectors-434"><span class="linenos">434</span></a><span class="sd">    SINrVectors is the object to manipulate the model, explore the embedding space and its interpretability</span>
</span><span id="SINrVectors-435"><a href="#SINrVectors-435"><span class="linenos">435</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="SINrVectors-436"><a href="#SINrVectors-436"><span class="linenos">436</span></a>
</span><span id="SINrVectors-437"><a href="#SINrVectors-437"><span class="linenos">437</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">n_jobs</span><span class="p">,</span> <span class="n">n_neighbors</span><span class="p">):</span>
</span><span id="SINrVectors-438"><a href="#SINrVectors-438"><span class="linenos">438</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors-439"><a href="#SINrVectors-439"><span class="linenos">439</span></a><span class="sd">        Initializing SINr vectors objets</span>
</span><span id="SINrVectors-440"><a href="#SINrVectors-440"><span class="linenos">440</span></a><span class="sd">        @param name: name of the model, useful to save it</span>
</span><span id="SINrVectors-441"><a href="#SINrVectors-441"><span class="linenos">441</span></a><span class="sd">        @param n_jobs: number of jobs to use (k-nearest neighbors to obtain most similar words or nodes)</span>
</span><span id="SINrVectors-442"><a href="#SINrVectors-442"><span class="linenos">442</span></a><span class="sd">        @param n_neighbors: number of neighbors to consider when querying the most similar words or nodes</span>
</span><span id="SINrVectors-443"><a href="#SINrVectors-443"><span class="linenos">443</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors-444"><a href="#SINrVectors-444"><span class="linenos">444</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">np</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SINrVectors-445"><a href="#SINrVectors-445"><span class="linenos">445</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">neighbors</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SINrVectors-446"><a href="#SINrVectors-446"><span class="linenos">446</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">communities</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SINrVectors-447"><a href="#SINrVectors-447"><span class="linenos">447</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">vocab</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SINrVectors-448"><a href="#SINrVectors-448"><span class="linenos">448</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">vectors</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SINrVectors-449"><a href="#SINrVectors-449"><span class="linenos">449</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="SINrVectors-450"><a href="#SINrVectors-450"><span class="linenos">450</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span> <span class="o">=</span> <span class="n">n_jobs</span>
</span><span id="SINrVectors-451"><a href="#SINrVectors-451"><span class="linenos">451</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">n_neighbors</span> <span class="o">=</span> <span class="n">n_neighbors</span>
</span><span id="SINrVectors-452"><a href="#SINrVectors-452"><span class="linenos">452</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">labels</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="SINrVectors-453"><a href="#SINrVectors-453"><span class="linenos">453</span></a>
</span><span id="SINrVectors-454"><a href="#SINrVectors-454"><span class="linenos">454</span></a>    <span class="k">def</span> <span class="nf">set_n_jobs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_jobs</span><span class="p">):</span>
</span><span id="SINrVectors-455"><a href="#SINrVectors-455"><span class="linenos">455</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors-456"><a href="#SINrVectors-456"><span class="linenos">456</span></a>
</span><span id="SINrVectors-457"><a href="#SINrVectors-457"><span class="linenos">457</span></a><span class="sd">        @param n_jobs: number of jobs</span>
</span><span id="SINrVectors-458"><a href="#SINrVectors-458"><span class="linenos">458</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors-459"><a href="#SINrVectors-459"><span class="linenos">459</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span> <span class="o">=</span> <span class="n">n_jobs</span>
</span><span id="SINrVectors-460"><a href="#SINrVectors-460"><span class="linenos">460</span></a>
</span><span id="SINrVectors-461"><a href="#SINrVectors-461"><span class="linenos">461</span></a>    <span class="k">def</span> <span class="nf">set_vocabulary</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">voc</span><span class="p">):</span>
</span><span id="SINrVectors-462"><a href="#SINrVectors-462"><span class="linenos">462</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors-463"><a href="#SINrVectors-463"><span class="linenos">463</span></a>
</span><span id="SINrVectors-464"><a href="#SINrVectors-464"><span class="linenos">464</span></a><span class="sd">        @param voc: set the vocabulary when dealing with words or nodes with labels. label parameter is set to True.</span>
</span><span id="SINrVectors-465"><a href="#SINrVectors-465"><span class="linenos">465</span></a><span class="sd">        By default, labels from the vocab will be used.</span>
</span><span id="SINrVectors-466"><a href="#SINrVectors-466"><span class="linenos">466</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors-467"><a href="#SINrVectors-467"><span class="linenos">467</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">vocab</span> <span class="o">=</span> <span class="n">voc</span>
</span><span id="SINrVectors-468"><a href="#SINrVectors-468"><span class="linenos">468</span></a>        <span class="c1"># self.wrd_to_id = wrd_to_id</span>
</span><span id="SINrVectors-469"><a href="#SINrVectors-469"><span class="linenos">469</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">labels</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="SINrVectors-470"><a href="#SINrVectors-470"><span class="linenos">470</span></a>
</span><span id="SINrVectors-471"><a href="#SINrVectors-471"><span class="linenos">471</span></a>    <span class="k">def</span> <span class="nf">set_vectors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">embeddings</span><span class="p">):</span>
</span><span id="SINrVectors-472"><a href="#SINrVectors-472"><span class="linenos">472</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors-473"><a href="#SINrVectors-473"><span class="linenos">473</span></a>
</span><span id="SINrVectors-474"><a href="#SINrVectors-474"><span class="linenos">474</span></a><span class="sd">        @param embeddings:  initialize the vectors and build the nearest neighbors data structure using sklearn</span>
</span><span id="SINrVectors-475"><a href="#SINrVectors-475"><span class="linenos">475</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors-476"><a href="#SINrVectors-476"><span class="linenos">476</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">vectors</span> <span class="o">=</span> <span class="n">embeddings</span>
</span><span id="SINrVectors-477"><a href="#SINrVectors-477"><span class="linenos">477</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">neighbors</span> <span class="o">=</span> <span class="n">NearestNeighbors</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_neighbors</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;cosine&#39;</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span>
</span><span id="SINrVectors-478"><a href="#SINrVectors-478"><span class="linenos">478</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">vectors</span><span class="p">)</span>
</span><span id="SINrVectors-479"><a href="#SINrVectors-479"><span class="linenos">479</span></a>
</span><span id="SINrVectors-480"><a href="#SINrVectors-480"><span class="linenos">480</span></a>    <span class="k">def</span> <span class="nf">set_np</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">np</span><span class="p">):</span>
</span><span id="SINrVectors-481"><a href="#SINrVectors-481"><span class="linenos">481</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">np</span> <span class="o">=</span> <span class="n">np</span>
</span><span id="SINrVectors-482"><a href="#SINrVectors-482"><span class="linenos">482</span></a>
</span><span id="SINrVectors-483"><a href="#SINrVectors-483"><span class="linenos">483</span></a>    <span class="k">def</span> <span class="nf">set_communities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">com</span><span class="p">):</span>
</span><span id="SINrVectors-484"><a href="#SINrVectors-484"><span class="linenos">484</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">communities</span> <span class="o">=</span> <span class="n">com</span>
</span><span id="SINrVectors-485"><a href="#SINrVectors-485"><span class="linenos">485</span></a>
</span><span id="SINrVectors-486"><a href="#SINrVectors-486"><span class="linenos">486</span></a>    <span class="k">def</span> <span class="nf">_get_index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
</span><span id="SINrVectors-487"><a href="#SINrVectors-487"><span class="linenos">487</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors-488"><a href="#SINrVectors-488"><span class="linenos">488</span></a><span class="sd">        Returns the index of the object if there is a list of labels. If not, return the obj.</span>
</span><span id="SINrVectors-489"><a href="#SINrVectors-489"><span class="linenos">489</span></a><span class="sd">        @param obj:</span>
</span><span id="SINrVectors-490"><a href="#SINrVectors-490"><span class="linenos">490</span></a><span class="sd">        @return:</span>
</span><span id="SINrVectors-491"><a href="#SINrVectors-491"><span class="linenos">491</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors-492"><a href="#SINrVectors-492"><span class="linenos">492</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vocab</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">labels</span> <span class="k">else</span> <span class="n">obj</span>
</span><span id="SINrVectors-493"><a href="#SINrVectors-493"><span class="linenos">493</span></a>        <span class="k">return</span> <span class="n">index</span>
</span><span id="SINrVectors-494"><a href="#SINrVectors-494"><span class="linenos">494</span></a>
</span><span id="SINrVectors-495"><a href="#SINrVectors-495"><span class="linenos">495</span></a>    <span class="k">def</span> <span class="nf">most_similar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
</span><span id="SINrVectors-496"><a href="#SINrVectors-496"><span class="linenos">496</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors-497"><a href="#SINrVectors-497"><span class="linenos">497</span></a><span class="sd">        Get the most similar objects of the one passed as a parameter using the cosine of their vectors</span>
</span><span id="SINrVectors-498"><a href="#SINrVectors-498"><span class="linenos">498</span></a>
</span><span id="SINrVectors-499"><a href="#SINrVectors-499"><span class="linenos">499</span></a><span class="sd">        Parameters</span>
</span><span id="SINrVectors-500"><a href="#SINrVectors-500"><span class="linenos">500</span></a><span class="sd">        ----------</span>
</span><span id="SINrVectors-501"><a href="#SINrVectors-501"><span class="linenos">501</span></a><span class="sd">        obj : integer or string</span>
</span><span id="SINrVectors-502"><a href="#SINrVectors-502"><span class="linenos">502</span></a><span class="sd">            DESCRIPTION.</span>
</span><span id="SINrVectors-503"><a href="#SINrVectors-503"><span class="linenos">503</span></a>
</span><span id="SINrVectors-504"><a href="#SINrVectors-504"><span class="linenos">504</span></a><span class="sd">        Returns</span>
</span><span id="SINrVectors-505"><a href="#SINrVectors-505"><span class="linenos">505</span></a><span class="sd">        -------</span>
</span><span id="SINrVectors-506"><a href="#SINrVectors-506"><span class="linenos">506</span></a><span class="sd">        dict</span>
</span><span id="SINrVectors-507"><a href="#SINrVectors-507"><span class="linenos">507</span></a><span class="sd">            DESCRIPTION.</span>
</span><span id="SINrVectors-508"><a href="#SINrVectors-508"><span class="linenos">508</span></a>
</span><span id="SINrVectors-509"><a href="#SINrVectors-509"><span class="linenos">509</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors-510"><a href="#SINrVectors-510"><span class="linenos">510</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_index</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</span><span id="SINrVectors-511"><a href="#SINrVectors-511"><span class="linenos">511</span></a>
</span><span id="SINrVectors-512"><a href="#SINrVectors-512"><span class="linenos">512</span></a>        <span class="n">distances</span><span class="p">,</span> <span class="n">neighbor_idx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">neighbors</span><span class="o">.</span><span class="n">kneighbors</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vectors</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="p">:],</span> <span class="n">return_distance</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="SINrVectors-513"><a href="#SINrVectors-513"><span class="linenos">513</span></a>        <span class="c1"># print(similarities, neighbor_idx)</span>
</span><span id="SINrVectors-514"><a href="#SINrVectors-514"><span class="linenos">514</span></a>        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;object &quot;</span><span class="p">:</span> <span class="n">obj</span><span class="p">,</span>
</span><span id="SINrVectors-515"><a href="#SINrVectors-515"><span class="linenos">515</span></a>                <span class="s2">&quot;neighbors &quot;</span><span class="p">:</span> <span class="p">[(</span><span class="bp">self</span><span class="o">.</span><span class="n">vocab</span><span class="p">[</span><span class="n">nbr</span><span class="p">]</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">labels</span> <span class="k">else</span> <span class="n">nbr</span><span class="p">,</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">dist</span><span class="p">)</span> <span class="k">for</span> <span class="n">dist</span><span class="p">,</span> <span class="n">nbr</span> <span class="ow">in</span>
</span><span id="SINrVectors-516"><a href="#SINrVectors-516"><span class="linenos">516</span></a>                               <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">distances</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span> <span class="n">neighbor_idx</span><span class="o">.</span><span class="n">flatten</span><span class="p">()))[</span><span class="mi">1</span><span class="p">::]]}</span>
</span><span id="SINrVectors-517"><a href="#SINrVectors-517"><span class="linenos">517</span></a>
</span><span id="SINrVectors-518"><a href="#SINrVectors-518"><span class="linenos">518</span></a>    <span class="k">def</span> <span class="nf">_get_vector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idx</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="SINrVectors-519"><a href="#SINrVectors-519"><span class="linenos">519</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors-520"><a href="#SINrVectors-520"><span class="linenos">520</span></a><span class="sd">        Returns a list from the csr matrix</span>
</span><span id="SINrVectors-521"><a href="#SINrVectors-521"><span class="linenos">521</span></a><span class="sd">        @param idx: id of the vector requested</span>
</span><span id="SINrVectors-522"><a href="#SINrVectors-522"><span class="linenos">522</span></a><span class="sd">        @param row: if the vector should be a row or a column of the csr matrix of embeddings</span>
</span><span id="SINrVectors-523"><a href="#SINrVectors-523"><span class="linenos">523</span></a><span class="sd">        @return: the vector</span>
</span><span id="SINrVectors-524"><a href="#SINrVectors-524"><span class="linenos">524</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors-525"><a href="#SINrVectors-525"><span class="linenos">525</span></a>        <span class="n">vector</span> <span class="o">=</span> <span class="n">asarray</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vectors</span><span class="o">.</span><span class="n">getrow</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span><span class="o">.</span><span class="n">todense</span><span class="p">())</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span> <span class="k">if</span> <span class="n">row</span> <span class="k">else</span> <span class="n">asarray</span><span class="p">(</span>
</span><span id="SINrVectors-526"><a href="#SINrVectors-526"><span class="linenos">526</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">vectors</span><span class="o">.</span><span class="n">getcol</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span><span class="o">.</span><span class="n">todense</span><span class="p">())</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
</span><span id="SINrVectors-527"><a href="#SINrVectors-527"><span class="linenos">527</span></a>        <span class="k">return</span> <span class="n">vector</span>
</span><span id="SINrVectors-528"><a href="#SINrVectors-528"><span class="linenos">528</span></a>
</span><span id="SINrVectors-529"><a href="#SINrVectors-529"><span class="linenos">529</span></a>    <span class="k">def</span> <span class="nf">_get_topk</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idx</span><span class="p">,</span> <span class="n">topk</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="SINrVectors-530"><a href="#SINrVectors-530"><span class="linenos">530</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors-531"><a href="#SINrVectors-531"><span class="linenos">531</span></a><span class="sd">        return indices of the topk values in the vector of id idx</span>
</span><span id="SINrVectors-532"><a href="#SINrVectors-532"><span class="linenos">532</span></a><span class="sd">        @param idx: idx of the vector in which the topk values are searched</span>
</span><span id="SINrVectors-533"><a href="#SINrVectors-533"><span class="linenos">533</span></a><span class="sd">        @param topk: number of values to get</span>
</span><span id="SINrVectors-534"><a href="#SINrVectors-534"><span class="linenos">534</span></a><span class="sd">        @param row: if the vector is a row or a column</span>
</span><span id="SINrVectors-535"><a href="#SINrVectors-535"><span class="linenos">535</span></a><span class="sd">        @return: the indices of the topk values in the vector</span>
</span><span id="SINrVectors-536"><a href="#SINrVectors-536"><span class="linenos">536</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors-537"><a href="#SINrVectors-537"><span class="linenos">537</span></a>        <span class="n">vector</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_vector</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span>
</span><span id="SINrVectors-538"><a href="#SINrVectors-538"><span class="linenos">538</span></a>        <span class="n">topk</span> <span class="o">=</span> <span class="o">-</span><span class="n">topk</span>
</span><span id="SINrVectors-539"><a href="#SINrVectors-539"><span class="linenos">539</span></a>        <span class="n">ind</span> <span class="o">=</span> <span class="n">argpartition</span><span class="p">(</span><span class="n">vector</span><span class="p">,</span> <span class="n">topk</span><span class="p">)[</span><span class="n">topk</span><span class="p">:]</span>
</span><span id="SINrVectors-540"><a href="#SINrVectors-540"><span class="linenos">540</span></a>        <span class="n">ind</span> <span class="o">=</span> <span class="n">ind</span><span class="p">[</span><span class="n">argsort</span><span class="p">(</span><span class="n">vector</span><span class="p">[</span><span class="n">ind</span><span class="p">])[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
</span><span id="SINrVectors-541"><a href="#SINrVectors-541"><span class="linenos">541</span></a>        <span class="k">return</span> <span class="n">ind</span>
</span><span id="SINrVectors-542"><a href="#SINrVectors-542"><span class="linenos">542</span></a>
</span><span id="SINrVectors-543"><a href="#SINrVectors-543"><span class="linenos">543</span></a>    <span class="c1"># Using communities to describe dimensions</span>
</span><span id="SINrVectors-544"><a href="#SINrVectors-544"><span class="linenos">544</span></a>    <span class="k">def</span> <span class="nf">get_dimension_descriptors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
</span><span id="SINrVectors-545"><a href="#SINrVectors-545"><span class="linenos">545</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors-546"><a href="#SINrVectors-546"><span class="linenos">546</span></a><span class="sd">        returns the objects that constitute the dimension of obj, i.e. the members of the community of obj</span>
</span><span id="SINrVectors-547"><a href="#SINrVectors-547"><span class="linenos">547</span></a><span class="sd">        @param obj: id, word</span>
</span><span id="SINrVectors-548"><a href="#SINrVectors-548"><span class="linenos">548</span></a><span class="sd">        @return: a set of object, the community of obj</span>
</span><span id="SINrVectors-549"><a href="#SINrVectors-549"><span class="linenos">549</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors-550"><a href="#SINrVectors-550"><span class="linenos">550</span></a>
</span><span id="SINrVectors-551"><a href="#SINrVectors-551"><span class="linenos">551</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_index</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</span><span id="SINrVectors-552"><a href="#SINrVectors-552"><span class="linenos">552</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_dimension_descriptors_idx</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">communities</span><span class="o">.</span><span class="n">subsetOf</span><span class="p">(</span><span class="n">index</span><span class="p">))</span>
</span><span id="SINrVectors-553"><a href="#SINrVectors-553"><span class="linenos">553</span></a>
</span><span id="SINrVectors-554"><a href="#SINrVectors-554"><span class="linenos">554</span></a>    <span class="k">def</span> <span class="nf">get_dimension_descriptors_idx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idx</span><span class="p">):</span>
</span><span id="SINrVectors-555"><a href="#SINrVectors-555"><span class="linenos">555</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors-556"><a href="#SINrVectors-556"><span class="linenos">556</span></a><span class="sd">        returns the objects that constitute the dimension of idx, i.e. the members of the community of idx</span>
</span><span id="SINrVectors-557"><a href="#SINrVectors-557"><span class="linenos">557</span></a><span class="sd">        @param idx: int of a node</span>
</span><span id="SINrVectors-558"><a href="#SINrVectors-558"><span class="linenos">558</span></a><span class="sd">        @return: the nodes of the community of idx</span>
</span><span id="SINrVectors-559"><a href="#SINrVectors-559"><span class="linenos">559</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors-560"><a href="#SINrVectors-560"><span class="linenos">560</span></a>        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">vocab</span><span class="p">[</span><span class="n">member</span><span class="p">]</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">labels</span> <span class="k">else</span> <span class="n">member</span> <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">communities</span><span class="o">.</span><span class="n">getMembers</span><span class="p">(</span><span class="n">idx</span><span class="p">)]</span>
</span><span id="SINrVectors-561"><a href="#SINrVectors-561"><span class="linenos">561</span></a>
</span><span id="SINrVectors-562"><a href="#SINrVectors-562"><span class="linenos">562</span></a>    <span class="k">def</span> <span class="nf">get_obj_descriptors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">topk</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
</span><span id="SINrVectors-563"><a href="#SINrVectors-563"><span class="linenos">563</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors-564"><a href="#SINrVectors-564"><span class="linenos">564</span></a><span class="sd">        @param obj: an id or a word/label</span>
</span><span id="SINrVectors-565"><a href="#SINrVectors-565"><span class="linenos">565</span></a><span class="sd">        @param topk: int, topk dimensions to consider to describe obj</span>
</span><span id="SINrVectors-566"><a href="#SINrVectors-566"><span class="linenos">566</span></a><span class="sd">        @return: the dimensions (and the objects that constitute these dimensions) that matter to describe obj</span>
</span><span id="SINrVectors-567"><a href="#SINrVectors-567"><span class="linenos">567</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors-568"><a href="#SINrVectors-568"><span class="linenos">568</span></a>
</span><span id="SINrVectors-569"><a href="#SINrVectors-569"><span class="linenos">569</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_index</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</span><span id="SINrVectors-570"><a href="#SINrVectors-570"><span class="linenos">570</span></a>        <span class="n">highest_dims</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_topk</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">topk</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="SINrVectors-571"><a href="#SINrVectors-571"><span class="linenos">571</span></a>        <span class="n">vector</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_vector</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="SINrVectors-572"><a href="#SINrVectors-572"><span class="linenos">572</span></a>        <span class="n">highest_dims</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;dimension&quot;</span><span class="p">:</span> <span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">vector</span><span class="p">[</span><span class="n">idx</span><span class="p">],</span> <span class="s2">&quot;descriptors&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_dimension_descriptors_idx</span><span class="p">(</span><span class="n">idx</span><span class="p">)}</span>
</span><span id="SINrVectors-573"><a href="#SINrVectors-573"><span class="linenos">573</span></a>                        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">highest_dims</span><span class="p">]</span>
</span><span id="SINrVectors-574"><a href="#SINrVectors-574"><span class="linenos">574</span></a>        <span class="k">return</span> <span class="n">highest_dims</span>
</span><span id="SINrVectors-575"><a href="#SINrVectors-575"><span class="linenos">575</span></a>
</span><span id="SINrVectors-576"><a href="#SINrVectors-576"><span class="linenos">576</span></a>    <span class="c1"># Using top words to describe dimensions</span>
</span><span id="SINrVectors-577"><a href="#SINrVectors-577"><span class="linenos">577</span></a>    <span class="k">def</span> <span class="nf">get_dimension_stereotypes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">topk</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
</span><span id="SINrVectors-578"><a href="#SINrVectors-578"><span class="linenos">578</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors-579"><a href="#SINrVectors-579"><span class="linenos">579</span></a>
</span><span id="SINrVectors-580"><a href="#SINrVectors-580"><span class="linenos">580</span></a><span class="sd">        @param obj: id of a dimension, or label of a word (then turned into the id of its community)</span>
</span><span id="SINrVectors-581"><a href="#SINrVectors-581"><span class="linenos">581</span></a><span class="sd">        @param topk: topk value to consider on the dimension</span>
</span><span id="SINrVectors-582"><a href="#SINrVectors-582"><span class="linenos">582</span></a><span class="sd">        @return: the topk words that describe this dimension (highest values)</span>
</span><span id="SINrVectors-583"><a href="#SINrVectors-583"><span class="linenos">583</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors-584"><a href="#SINrVectors-584"><span class="linenos">584</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_index</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</span><span id="SINrVectors-585"><a href="#SINrVectors-585"><span class="linenos">585</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_dimension_stereotypes_idx</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">communities</span><span class="o">.</span><span class="n">subsetOf</span><span class="p">(</span><span class="n">index</span><span class="p">),</span> <span class="n">topk</span><span class="p">)</span>
</span><span id="SINrVectors-586"><a href="#SINrVectors-586"><span class="linenos">586</span></a>
</span><span id="SINrVectors-587"><a href="#SINrVectors-587"><span class="linenos">587</span></a>    <span class="k">def</span> <span class="nf">get_dimension_stereotypes_idx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idx</span><span class="p">,</span> <span class="n">topk</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
</span><span id="SINrVectors-588"><a href="#SINrVectors-588"><span class="linenos">588</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors-589"><a href="#SINrVectors-589"><span class="linenos">589</span></a>
</span><span id="SINrVectors-590"><a href="#SINrVectors-590"><span class="linenos">590</span></a><span class="sd">        @param idx: id of a dimension</span>
</span><span id="SINrVectors-591"><a href="#SINrVectors-591"><span class="linenos">591</span></a><span class="sd">        @param topk: topk value to consider on the dimension</span>
</span><span id="SINrVectors-592"><a href="#SINrVectors-592"><span class="linenos">592</span></a><span class="sd">        @return: the topk words that describe this dimension (highest values)</span>
</span><span id="SINrVectors-593"><a href="#SINrVectors-593"><span class="linenos">593</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors-594"><a href="#SINrVectors-594"><span class="linenos">594</span></a>        <span class="n">highest_idxes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_topk</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="n">topk</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="SINrVectors-595"><a href="#SINrVectors-595"><span class="linenos">595</span></a>        <span class="n">highest_idxes</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">vocab</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">labels</span> <span class="k">else</span> <span class="n">idx</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">highest_idxes</span><span class="p">]</span>
</span><span id="SINrVectors-596"><a href="#SINrVectors-596"><span class="linenos">596</span></a>        <span class="k">return</span> <span class="n">highest_idxes</span>
</span><span id="SINrVectors-597"><a href="#SINrVectors-597"><span class="linenos">597</span></a>
</span><span id="SINrVectors-598"><a href="#SINrVectors-598"><span class="linenos">598</span></a>    <span class="k">def</span> <span class="nf">get_obj_stereotypes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">topk_dim</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">topk_val</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
</span><span id="SINrVectors-599"><a href="#SINrVectors-599"><span class="linenos">599</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors-600"><a href="#SINrVectors-600"><span class="linenos">600</span></a>
</span><span id="SINrVectors-601"><a href="#SINrVectors-601"><span class="linenos">601</span></a><span class="sd">        @param obj: the word to consider</span>
</span><span id="SINrVectors-602"><a href="#SINrVectors-602"><span class="linenos">602</span></a><span class="sd">        @param topk_dim: topk dimension to consider</span>
</span><span id="SINrVectors-603"><a href="#SINrVectors-603"><span class="linenos">603</span></a><span class="sd">        @param topk_val: topk values to describe each dimension</span>
</span><span id="SINrVectors-604"><a href="#SINrVectors-604"><span class="linenos">604</span></a><span class="sd">        @return: the most useful dimensions to describe a word and for each dimension,</span>
</span><span id="SINrVectors-605"><a href="#SINrVectors-605"><span class="linenos">605</span></a><span class="sd">        the topk words that describe this dimension (highest values)</span>
</span><span id="SINrVectors-606"><a href="#SINrVectors-606"><span class="linenos">606</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors-607"><a href="#SINrVectors-607"><span class="linenos">607</span></a>        <span class="c1"># get index of the word considered</span>
</span><span id="SINrVectors-608"><a href="#SINrVectors-608"><span class="linenos">608</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_index</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</span><span id="SINrVectors-609"><a href="#SINrVectors-609"><span class="linenos">609</span></a>        <span class="c1"># get the topk dimensions for this word</span>
</span><span id="SINrVectors-610"><a href="#SINrVectors-610"><span class="linenos">610</span></a>        <span class="n">highest_dims</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_topk</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">topk_dim</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="SINrVectors-611"><a href="#SINrVectors-611"><span class="linenos">611</span></a>        <span class="n">vector</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_vector</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="SINrVectors-612"><a href="#SINrVectors-612"><span class="linenos">612</span></a>        <span class="n">highest_dims</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;dimension&quot;</span><span class="p">:</span> <span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">vector</span><span class="p">[</span><span class="n">idx</span><span class="p">],</span> <span class="s2">&quot;stereotypes&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_dimension_stereotypes_idx</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="n">topk_val</span><span class="p">)}</span>
</span><span id="SINrVectors-613"><a href="#SINrVectors-613"><span class="linenos">613</span></a>                        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">highest_dims</span><span class="p">]</span>
</span><span id="SINrVectors-614"><a href="#SINrVectors-614"><span class="linenos">614</span></a>        <span class="k">return</span> <span class="n">highest_dims</span>
</span><span id="SINrVectors-615"><a href="#SINrVectors-615"><span class="linenos">615</span></a>
</span><span id="SINrVectors-616"><a href="#SINrVectors-616"><span class="linenos">616</span></a>    <span class="k">def</span> <span class="nf">get_obj_stereotypes_and_descriptors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">topk_dim</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">topk_val</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
</span><span id="SINrVectors-617"><a href="#SINrVectors-617"><span class="linenos">617</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors-618"><a href="#SINrVectors-618"><span class="linenos">618</span></a><span class="sd">        @return: both stereotypes and descriptors</span>
</span><span id="SINrVectors-619"><a href="#SINrVectors-619"><span class="linenos">619</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors-620"><a href="#SINrVectors-620"><span class="linenos">620</span></a>        <span class="n">sters</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_obj_stereotypes</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">topk_dim</span><span class="p">,</span> <span class="n">topk_val</span><span class="p">)</span>
</span><span id="SINrVectors-621"><a href="#SINrVectors-621"><span class="linenos">621</span></a>        <span class="n">descs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_obj_descriptors</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">topk</span><span class="o">=</span><span class="n">topk_dim</span><span class="p">)</span>
</span><span id="SINrVectors-622"><a href="#SINrVectors-622"><span class="linenos">622</span></a>        <span class="k">for</span> <span class="n">ster</span><span class="p">,</span> <span class="n">desc</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">sters</span><span class="p">,</span> <span class="n">descs</span><span class="p">):</span>
</span><span id="SINrVectors-623"><a href="#SINrVectors-623"><span class="linenos">623</span></a>            <span class="n">ster</span><span class="p">[</span><span class="s2">&quot;descriptors&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">desc</span><span class="p">[</span><span class="s2">&quot;descriptors&quot;</span><span class="p">]</span>
</span><span id="SINrVectors-624"><a href="#SINrVectors-624"><span class="linenos">624</span></a>        <span class="k">return</span> <span class="n">sters</span>
</span><span id="SINrVectors-625"><a href="#SINrVectors-625"><span class="linenos">625</span></a>
</span><span id="SINrVectors-626"><a href="#SINrVectors-626"><span class="linenos">626</span></a>    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SINrVectors-627"><a href="#SINrVectors-627"><span class="linenos">627</span></a>        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s2">&quot;.pk&quot;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span>
</span><span id="SINrVectors-628"><a href="#SINrVectors-628"><span class="linenos">628</span></a>        <span class="n">tmp_dict</span> <span class="o">=</span> <span class="n">pk</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</span><span id="SINrVectors-629"><a href="#SINrVectors-629"><span class="linenos">629</span></a>        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="SINrVectors-630"><a href="#SINrVectors-630"><span class="linenos">630</span></a>        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">tmp_dict</span><span class="p">)</span>
</span><span id="SINrVectors-631"><a href="#SINrVectors-631"><span class="linenos">631</span></a>
</span><span id="SINrVectors-632"><a href="#SINrVectors-632"><span class="linenos">632</span></a>    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SINrVectors-633"><a href="#SINrVectors-633"><span class="linenos">633</span></a>        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s2">&quot;.pk&quot;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span>
</span><span id="SINrVectors-634"><a href="#SINrVectors-634"><span class="linenos">634</span></a>        <span class="n">pk</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="SINrVectors-635"><a href="#SINrVectors-635"><span class="linenos">635</span></a>        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>After having trained word or graph embeddings using SINr object, use the ModelBuilder object to build SINrVectors.
SINrVectors is the object to manipulate the model, explore the embedding space and its interpretability</p>
</div>


                            <div id="SINrVectors.__init__" class="classattr">
                                        <input id="SINrVectors.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">SINrVectors</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">name</span>, </span><span class="param"><span class="n">n_jobs</span>, </span><span class="param"><span class="n">n_neighbors</span></span>)</span>

                <label class="view-source-button" for="SINrVectors.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINrVectors.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINrVectors.__init__-437"><a href="#SINrVectors.__init__-437"><span class="linenos">437</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">n_jobs</span><span class="p">,</span> <span class="n">n_neighbors</span><span class="p">):</span>
</span><span id="SINrVectors.__init__-438"><a href="#SINrVectors.__init__-438"><span class="linenos">438</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors.__init__-439"><a href="#SINrVectors.__init__-439"><span class="linenos">439</span></a><span class="sd">        Initializing SINr vectors objets</span>
</span><span id="SINrVectors.__init__-440"><a href="#SINrVectors.__init__-440"><span class="linenos">440</span></a><span class="sd">        @param name: name of the model, useful to save it</span>
</span><span id="SINrVectors.__init__-441"><a href="#SINrVectors.__init__-441"><span class="linenos">441</span></a><span class="sd">        @param n_jobs: number of jobs to use (k-nearest neighbors to obtain most similar words or nodes)</span>
</span><span id="SINrVectors.__init__-442"><a href="#SINrVectors.__init__-442"><span class="linenos">442</span></a><span class="sd">        @param n_neighbors: number of neighbors to consider when querying the most similar words or nodes</span>
</span><span id="SINrVectors.__init__-443"><a href="#SINrVectors.__init__-443"><span class="linenos">443</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors.__init__-444"><a href="#SINrVectors.__init__-444"><span class="linenos">444</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">np</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SINrVectors.__init__-445"><a href="#SINrVectors.__init__-445"><span class="linenos">445</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">neighbors</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SINrVectors.__init__-446"><a href="#SINrVectors.__init__-446"><span class="linenos">446</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">communities</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SINrVectors.__init__-447"><a href="#SINrVectors.__init__-447"><span class="linenos">447</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">vocab</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SINrVectors.__init__-448"><a href="#SINrVectors.__init__-448"><span class="linenos">448</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">vectors</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SINrVectors.__init__-449"><a href="#SINrVectors.__init__-449"><span class="linenos">449</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="SINrVectors.__init__-450"><a href="#SINrVectors.__init__-450"><span class="linenos">450</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span> <span class="o">=</span> <span class="n">n_jobs</span>
</span><span id="SINrVectors.__init__-451"><a href="#SINrVectors.__init__-451"><span class="linenos">451</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">n_neighbors</span> <span class="o">=</span> <span class="n">n_neighbors</span>
</span><span id="SINrVectors.__init__-452"><a href="#SINrVectors.__init__-452"><span class="linenos">452</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">labels</span> <span class="o">=</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>Initializing SINr vectors objets
@param name: name of the model, useful to save it
@param n_jobs: number of jobs to use (k-nearest neighbors to obtain most similar words or nodes)
@param n_neighbors: number of neighbors to consider when querying the most similar words or nodes</p>
</div>


                            </div>
                            <div id="SINrVectors.set_n_jobs" class="classattr">
                                        <input id="SINrVectors.set_n_jobs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_n_jobs</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">n_jobs</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINrVectors.set_n_jobs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINrVectors.set_n_jobs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINrVectors.set_n_jobs-454"><a href="#SINrVectors.set_n_jobs-454"><span class="linenos">454</span></a>    <span class="k">def</span> <span class="nf">set_n_jobs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_jobs</span><span class="p">):</span>
</span><span id="SINrVectors.set_n_jobs-455"><a href="#SINrVectors.set_n_jobs-455"><span class="linenos">455</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors.set_n_jobs-456"><a href="#SINrVectors.set_n_jobs-456"><span class="linenos">456</span></a>
</span><span id="SINrVectors.set_n_jobs-457"><a href="#SINrVectors.set_n_jobs-457"><span class="linenos">457</span></a><span class="sd">        @param n_jobs: number of jobs</span>
</span><span id="SINrVectors.set_n_jobs-458"><a href="#SINrVectors.set_n_jobs-458"><span class="linenos">458</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors.set_n_jobs-459"><a href="#SINrVectors.set_n_jobs-459"><span class="linenos">459</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span> <span class="o">=</span> <span class="n">n_jobs</span>
</span></pre></div>


            <div class="docstring"><p>@param n_jobs: number of jobs</p>
</div>


                            </div>
                            <div id="SINrVectors.set_vocabulary" class="classattr">
                                        <input id="SINrVectors.set_vocabulary-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_vocabulary</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">voc</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINrVectors.set_vocabulary-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINrVectors.set_vocabulary"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINrVectors.set_vocabulary-461"><a href="#SINrVectors.set_vocabulary-461"><span class="linenos">461</span></a>    <span class="k">def</span> <span class="nf">set_vocabulary</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">voc</span><span class="p">):</span>
</span><span id="SINrVectors.set_vocabulary-462"><a href="#SINrVectors.set_vocabulary-462"><span class="linenos">462</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors.set_vocabulary-463"><a href="#SINrVectors.set_vocabulary-463"><span class="linenos">463</span></a>
</span><span id="SINrVectors.set_vocabulary-464"><a href="#SINrVectors.set_vocabulary-464"><span class="linenos">464</span></a><span class="sd">        @param voc: set the vocabulary when dealing with words or nodes with labels. label parameter is set to True.</span>
</span><span id="SINrVectors.set_vocabulary-465"><a href="#SINrVectors.set_vocabulary-465"><span class="linenos">465</span></a><span class="sd">        By default, labels from the vocab will be used.</span>
</span><span id="SINrVectors.set_vocabulary-466"><a href="#SINrVectors.set_vocabulary-466"><span class="linenos">466</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors.set_vocabulary-467"><a href="#SINrVectors.set_vocabulary-467"><span class="linenos">467</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">vocab</span> <span class="o">=</span> <span class="n">voc</span>
</span><span id="SINrVectors.set_vocabulary-468"><a href="#SINrVectors.set_vocabulary-468"><span class="linenos">468</span></a>        <span class="c1"># self.wrd_to_id = wrd_to_id</span>
</span><span id="SINrVectors.set_vocabulary-469"><a href="#SINrVectors.set_vocabulary-469"><span class="linenos">469</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">labels</span> <span class="o">=</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>@param voc: set the vocabulary when dealing with words or nodes with labels. label parameter is set to True.
By default, labels from the vocab will be used.</p>
</div>


                            </div>
                            <div id="SINrVectors.set_vectors" class="classattr">
                                        <input id="SINrVectors.set_vectors-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_vectors</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">embeddings</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINrVectors.set_vectors-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINrVectors.set_vectors"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINrVectors.set_vectors-471"><a href="#SINrVectors.set_vectors-471"><span class="linenos">471</span></a>    <span class="k">def</span> <span class="nf">set_vectors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">embeddings</span><span class="p">):</span>
</span><span id="SINrVectors.set_vectors-472"><a href="#SINrVectors.set_vectors-472"><span class="linenos">472</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors.set_vectors-473"><a href="#SINrVectors.set_vectors-473"><span class="linenos">473</span></a>
</span><span id="SINrVectors.set_vectors-474"><a href="#SINrVectors.set_vectors-474"><span class="linenos">474</span></a><span class="sd">        @param embeddings:  initialize the vectors and build the nearest neighbors data structure using sklearn</span>
</span><span id="SINrVectors.set_vectors-475"><a href="#SINrVectors.set_vectors-475"><span class="linenos">475</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors.set_vectors-476"><a href="#SINrVectors.set_vectors-476"><span class="linenos">476</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">vectors</span> <span class="o">=</span> <span class="n">embeddings</span>
</span><span id="SINrVectors.set_vectors-477"><a href="#SINrVectors.set_vectors-477"><span class="linenos">477</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">neighbors</span> <span class="o">=</span> <span class="n">NearestNeighbors</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_neighbors</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;cosine&#39;</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span>
</span><span id="SINrVectors.set_vectors-478"><a href="#SINrVectors.set_vectors-478"><span class="linenos">478</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">vectors</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>@param embeddings:  initialize the vectors and build the nearest neighbors data structure using sklearn</p>
</div>


                            </div>
                            <div id="SINrVectors.set_np" class="classattr">
                                        <input id="SINrVectors.set_np-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_np</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">np</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINrVectors.set_np-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINrVectors.set_np"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINrVectors.set_np-480"><a href="#SINrVectors.set_np-480"><span class="linenos">480</span></a>    <span class="k">def</span> <span class="nf">set_np</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">np</span><span class="p">):</span>
</span><span id="SINrVectors.set_np-481"><a href="#SINrVectors.set_np-481"><span class="linenos">481</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">np</span> <span class="o">=</span> <span class="n">np</span>
</span></pre></div>


    

                            </div>
                            <div id="SINrVectors.set_communities" class="classattr">
                                        <input id="SINrVectors.set_communities-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_communities</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">com</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINrVectors.set_communities-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINrVectors.set_communities"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINrVectors.set_communities-483"><a href="#SINrVectors.set_communities-483"><span class="linenos">483</span></a>    <span class="k">def</span> <span class="nf">set_communities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">com</span><span class="p">):</span>
</span><span id="SINrVectors.set_communities-484"><a href="#SINrVectors.set_communities-484"><span class="linenos">484</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">communities</span> <span class="o">=</span> <span class="n">com</span>
</span></pre></div>


    

                            </div>
                            <div id="SINrVectors.most_similar" class="classattr">
                                        <input id="SINrVectors.most_similar-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">most_similar</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">obj</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINrVectors.most_similar-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINrVectors.most_similar"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINrVectors.most_similar-495"><a href="#SINrVectors.most_similar-495"><span class="linenos">495</span></a>    <span class="k">def</span> <span class="nf">most_similar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
</span><span id="SINrVectors.most_similar-496"><a href="#SINrVectors.most_similar-496"><span class="linenos">496</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors.most_similar-497"><a href="#SINrVectors.most_similar-497"><span class="linenos">497</span></a><span class="sd">        Get the most similar objects of the one passed as a parameter using the cosine of their vectors</span>
</span><span id="SINrVectors.most_similar-498"><a href="#SINrVectors.most_similar-498"><span class="linenos">498</span></a>
</span><span id="SINrVectors.most_similar-499"><a href="#SINrVectors.most_similar-499"><span class="linenos">499</span></a><span class="sd">        Parameters</span>
</span><span id="SINrVectors.most_similar-500"><a href="#SINrVectors.most_similar-500"><span class="linenos">500</span></a><span class="sd">        ----------</span>
</span><span id="SINrVectors.most_similar-501"><a href="#SINrVectors.most_similar-501"><span class="linenos">501</span></a><span class="sd">        obj : integer or string</span>
</span><span id="SINrVectors.most_similar-502"><a href="#SINrVectors.most_similar-502"><span class="linenos">502</span></a><span class="sd">            DESCRIPTION.</span>
</span><span id="SINrVectors.most_similar-503"><a href="#SINrVectors.most_similar-503"><span class="linenos">503</span></a>
</span><span id="SINrVectors.most_similar-504"><a href="#SINrVectors.most_similar-504"><span class="linenos">504</span></a><span class="sd">        Returns</span>
</span><span id="SINrVectors.most_similar-505"><a href="#SINrVectors.most_similar-505"><span class="linenos">505</span></a><span class="sd">        -------</span>
</span><span id="SINrVectors.most_similar-506"><a href="#SINrVectors.most_similar-506"><span class="linenos">506</span></a><span class="sd">        dict</span>
</span><span id="SINrVectors.most_similar-507"><a href="#SINrVectors.most_similar-507"><span class="linenos">507</span></a><span class="sd">            DESCRIPTION.</span>
</span><span id="SINrVectors.most_similar-508"><a href="#SINrVectors.most_similar-508"><span class="linenos">508</span></a>
</span><span id="SINrVectors.most_similar-509"><a href="#SINrVectors.most_similar-509"><span class="linenos">509</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors.most_similar-510"><a href="#SINrVectors.most_similar-510"><span class="linenos">510</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_index</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</span><span id="SINrVectors.most_similar-511"><a href="#SINrVectors.most_similar-511"><span class="linenos">511</span></a>
</span><span id="SINrVectors.most_similar-512"><a href="#SINrVectors.most_similar-512"><span class="linenos">512</span></a>        <span class="n">distances</span><span class="p">,</span> <span class="n">neighbor_idx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">neighbors</span><span class="o">.</span><span class="n">kneighbors</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vectors</span><span class="p">[</span><span class="n">index</span><span class="p">,</span> <span class="p">:],</span> <span class="n">return_distance</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="SINrVectors.most_similar-513"><a href="#SINrVectors.most_similar-513"><span class="linenos">513</span></a>        <span class="c1"># print(similarities, neighbor_idx)</span>
</span><span id="SINrVectors.most_similar-514"><a href="#SINrVectors.most_similar-514"><span class="linenos">514</span></a>        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;object &quot;</span><span class="p">:</span> <span class="n">obj</span><span class="p">,</span>
</span><span id="SINrVectors.most_similar-515"><a href="#SINrVectors.most_similar-515"><span class="linenos">515</span></a>                <span class="s2">&quot;neighbors &quot;</span><span class="p">:</span> <span class="p">[(</span><span class="bp">self</span><span class="o">.</span><span class="n">vocab</span><span class="p">[</span><span class="n">nbr</span><span class="p">]</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">labels</span> <span class="k">else</span> <span class="n">nbr</span><span class="p">,</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">dist</span><span class="p">)</span> <span class="k">for</span> <span class="n">dist</span><span class="p">,</span> <span class="n">nbr</span> <span class="ow">in</span>
</span><span id="SINrVectors.most_similar-516"><a href="#SINrVectors.most_similar-516"><span class="linenos">516</span></a>                               <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">distances</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span> <span class="n">neighbor_idx</span><span class="o">.</span><span class="n">flatten</span><span class="p">()))[</span><span class="mi">1</span><span class="p">::]]}</span>
</span></pre></div>


            <div class="docstring"><p>Get the most similar objects of the one passed as a parameter using the cosine of their vectors</p>

<h2 id="parameters">Parameters</h2>

<p>obj : integer or string
    DESCRIPTION.</p>

<h2 id="returns">Returns</h2>

<p>dict
    DESCRIPTION.</p>
</div>


                            </div>
                            <div id="SINrVectors.get_dimension_descriptors" class="classattr">
                                        <input id="SINrVectors.get_dimension_descriptors-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_dimension_descriptors</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">obj</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINrVectors.get_dimension_descriptors-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINrVectors.get_dimension_descriptors"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINrVectors.get_dimension_descriptors-544"><a href="#SINrVectors.get_dimension_descriptors-544"><span class="linenos">544</span></a>    <span class="k">def</span> <span class="nf">get_dimension_descriptors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
</span><span id="SINrVectors.get_dimension_descriptors-545"><a href="#SINrVectors.get_dimension_descriptors-545"><span class="linenos">545</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors.get_dimension_descriptors-546"><a href="#SINrVectors.get_dimension_descriptors-546"><span class="linenos">546</span></a><span class="sd">        returns the objects that constitute the dimension of obj, i.e. the members of the community of obj</span>
</span><span id="SINrVectors.get_dimension_descriptors-547"><a href="#SINrVectors.get_dimension_descriptors-547"><span class="linenos">547</span></a><span class="sd">        @param obj: id, word</span>
</span><span id="SINrVectors.get_dimension_descriptors-548"><a href="#SINrVectors.get_dimension_descriptors-548"><span class="linenos">548</span></a><span class="sd">        @return: a set of object, the community of obj</span>
</span><span id="SINrVectors.get_dimension_descriptors-549"><a href="#SINrVectors.get_dimension_descriptors-549"><span class="linenos">549</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors.get_dimension_descriptors-550"><a href="#SINrVectors.get_dimension_descriptors-550"><span class="linenos">550</span></a>
</span><span id="SINrVectors.get_dimension_descriptors-551"><a href="#SINrVectors.get_dimension_descriptors-551"><span class="linenos">551</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_index</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</span><span id="SINrVectors.get_dimension_descriptors-552"><a href="#SINrVectors.get_dimension_descriptors-552"><span class="linenos">552</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_dimension_descriptors_idx</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">communities</span><span class="o">.</span><span class="n">subsetOf</span><span class="p">(</span><span class="n">index</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>returns the objects that constitute the dimension of obj, i.e. the members of the community of obj
@param obj: id, word
@return: a set of object, the community of obj</p>
</div>


                            </div>
                            <div id="SINrVectors.get_dimension_descriptors_idx" class="classattr">
                                        <input id="SINrVectors.get_dimension_descriptors_idx-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_dimension_descriptors_idx</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">idx</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINrVectors.get_dimension_descriptors_idx-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINrVectors.get_dimension_descriptors_idx"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINrVectors.get_dimension_descriptors_idx-554"><a href="#SINrVectors.get_dimension_descriptors_idx-554"><span class="linenos">554</span></a>    <span class="k">def</span> <span class="nf">get_dimension_descriptors_idx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idx</span><span class="p">):</span>
</span><span id="SINrVectors.get_dimension_descriptors_idx-555"><a href="#SINrVectors.get_dimension_descriptors_idx-555"><span class="linenos">555</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors.get_dimension_descriptors_idx-556"><a href="#SINrVectors.get_dimension_descriptors_idx-556"><span class="linenos">556</span></a><span class="sd">        returns the objects that constitute the dimension of idx, i.e. the members of the community of idx</span>
</span><span id="SINrVectors.get_dimension_descriptors_idx-557"><a href="#SINrVectors.get_dimension_descriptors_idx-557"><span class="linenos">557</span></a><span class="sd">        @param idx: int of a node</span>
</span><span id="SINrVectors.get_dimension_descriptors_idx-558"><a href="#SINrVectors.get_dimension_descriptors_idx-558"><span class="linenos">558</span></a><span class="sd">        @return: the nodes of the community of idx</span>
</span><span id="SINrVectors.get_dimension_descriptors_idx-559"><a href="#SINrVectors.get_dimension_descriptors_idx-559"><span class="linenos">559</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors.get_dimension_descriptors_idx-560"><a href="#SINrVectors.get_dimension_descriptors_idx-560"><span class="linenos">560</span></a>        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">vocab</span><span class="p">[</span><span class="n">member</span><span class="p">]</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">labels</span> <span class="k">else</span> <span class="n">member</span> <span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">communities</span><span class="o">.</span><span class="n">getMembers</span><span class="p">(</span><span class="n">idx</span><span class="p">)]</span>
</span></pre></div>


            <div class="docstring"><p>returns the objects that constitute the dimension of idx, i.e. the members of the community of idx
@param idx: int of a node
@return: the nodes of the community of idx</p>
</div>


                            </div>
                            <div id="SINrVectors.get_obj_descriptors" class="classattr">
                                        <input id="SINrVectors.get_obj_descriptors-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_obj_descriptors</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">obj</span>, </span><span class="param"><span class="n">topk</span><span class="o">=</span><span class="mi">5</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINrVectors.get_obj_descriptors-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINrVectors.get_obj_descriptors"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINrVectors.get_obj_descriptors-562"><a href="#SINrVectors.get_obj_descriptors-562"><span class="linenos">562</span></a>    <span class="k">def</span> <span class="nf">get_obj_descriptors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">topk</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
</span><span id="SINrVectors.get_obj_descriptors-563"><a href="#SINrVectors.get_obj_descriptors-563"><span class="linenos">563</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors.get_obj_descriptors-564"><a href="#SINrVectors.get_obj_descriptors-564"><span class="linenos">564</span></a><span class="sd">        @param obj: an id or a word/label</span>
</span><span id="SINrVectors.get_obj_descriptors-565"><a href="#SINrVectors.get_obj_descriptors-565"><span class="linenos">565</span></a><span class="sd">        @param topk: int, topk dimensions to consider to describe obj</span>
</span><span id="SINrVectors.get_obj_descriptors-566"><a href="#SINrVectors.get_obj_descriptors-566"><span class="linenos">566</span></a><span class="sd">        @return: the dimensions (and the objects that constitute these dimensions) that matter to describe obj</span>
</span><span id="SINrVectors.get_obj_descriptors-567"><a href="#SINrVectors.get_obj_descriptors-567"><span class="linenos">567</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors.get_obj_descriptors-568"><a href="#SINrVectors.get_obj_descriptors-568"><span class="linenos">568</span></a>
</span><span id="SINrVectors.get_obj_descriptors-569"><a href="#SINrVectors.get_obj_descriptors-569"><span class="linenos">569</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_index</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</span><span id="SINrVectors.get_obj_descriptors-570"><a href="#SINrVectors.get_obj_descriptors-570"><span class="linenos">570</span></a>        <span class="n">highest_dims</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_topk</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">topk</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="SINrVectors.get_obj_descriptors-571"><a href="#SINrVectors.get_obj_descriptors-571"><span class="linenos">571</span></a>        <span class="n">vector</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_vector</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="SINrVectors.get_obj_descriptors-572"><a href="#SINrVectors.get_obj_descriptors-572"><span class="linenos">572</span></a>        <span class="n">highest_dims</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;dimension&quot;</span><span class="p">:</span> <span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">vector</span><span class="p">[</span><span class="n">idx</span><span class="p">],</span> <span class="s2">&quot;descriptors&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_dimension_descriptors_idx</span><span class="p">(</span><span class="n">idx</span><span class="p">)}</span>
</span><span id="SINrVectors.get_obj_descriptors-573"><a href="#SINrVectors.get_obj_descriptors-573"><span class="linenos">573</span></a>                        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">highest_dims</span><span class="p">]</span>
</span><span id="SINrVectors.get_obj_descriptors-574"><a href="#SINrVectors.get_obj_descriptors-574"><span class="linenos">574</span></a>        <span class="k">return</span> <span class="n">highest_dims</span>
</span></pre></div>


            <div class="docstring"><p>@param obj: an id or a word/label
@param topk: int, topk dimensions to consider to describe obj
@return: the dimensions (and the objects that constitute these dimensions) that matter to describe obj</p>
</div>


                            </div>
                            <div id="SINrVectors.get_dimension_stereotypes" class="classattr">
                                        <input id="SINrVectors.get_dimension_stereotypes-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_dimension_stereotypes</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">obj</span>, </span><span class="param"><span class="n">topk</span><span class="o">=</span><span class="mi">5</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINrVectors.get_dimension_stereotypes-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINrVectors.get_dimension_stereotypes"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINrVectors.get_dimension_stereotypes-577"><a href="#SINrVectors.get_dimension_stereotypes-577"><span class="linenos">577</span></a>    <span class="k">def</span> <span class="nf">get_dimension_stereotypes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">topk</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
</span><span id="SINrVectors.get_dimension_stereotypes-578"><a href="#SINrVectors.get_dimension_stereotypes-578"><span class="linenos">578</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors.get_dimension_stereotypes-579"><a href="#SINrVectors.get_dimension_stereotypes-579"><span class="linenos">579</span></a>
</span><span id="SINrVectors.get_dimension_stereotypes-580"><a href="#SINrVectors.get_dimension_stereotypes-580"><span class="linenos">580</span></a><span class="sd">        @param obj: id of a dimension, or label of a word (then turned into the id of its community)</span>
</span><span id="SINrVectors.get_dimension_stereotypes-581"><a href="#SINrVectors.get_dimension_stereotypes-581"><span class="linenos">581</span></a><span class="sd">        @param topk: topk value to consider on the dimension</span>
</span><span id="SINrVectors.get_dimension_stereotypes-582"><a href="#SINrVectors.get_dimension_stereotypes-582"><span class="linenos">582</span></a><span class="sd">        @return: the topk words that describe this dimension (highest values)</span>
</span><span id="SINrVectors.get_dimension_stereotypes-583"><a href="#SINrVectors.get_dimension_stereotypes-583"><span class="linenos">583</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors.get_dimension_stereotypes-584"><a href="#SINrVectors.get_dimension_stereotypes-584"><span class="linenos">584</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_index</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</span><span id="SINrVectors.get_dimension_stereotypes-585"><a href="#SINrVectors.get_dimension_stereotypes-585"><span class="linenos">585</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_dimension_stereotypes_idx</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">communities</span><span class="o">.</span><span class="n">subsetOf</span><span class="p">(</span><span class="n">index</span><span class="p">),</span> <span class="n">topk</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>@param obj: id of a dimension, or label of a word (then turned into the id of its community)
@param topk: topk value to consider on the dimension
@return: the topk words that describe this dimension (highest values)</p>
</div>


                            </div>
                            <div id="SINrVectors.get_dimension_stereotypes_idx" class="classattr">
                                        <input id="SINrVectors.get_dimension_stereotypes_idx-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_dimension_stereotypes_idx</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">idx</span>, </span><span class="param"><span class="n">topk</span><span class="o">=</span><span class="mi">5</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINrVectors.get_dimension_stereotypes_idx-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINrVectors.get_dimension_stereotypes_idx"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINrVectors.get_dimension_stereotypes_idx-587"><a href="#SINrVectors.get_dimension_stereotypes_idx-587"><span class="linenos">587</span></a>    <span class="k">def</span> <span class="nf">get_dimension_stereotypes_idx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idx</span><span class="p">,</span> <span class="n">topk</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
</span><span id="SINrVectors.get_dimension_stereotypes_idx-588"><a href="#SINrVectors.get_dimension_stereotypes_idx-588"><span class="linenos">588</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors.get_dimension_stereotypes_idx-589"><a href="#SINrVectors.get_dimension_stereotypes_idx-589"><span class="linenos">589</span></a>
</span><span id="SINrVectors.get_dimension_stereotypes_idx-590"><a href="#SINrVectors.get_dimension_stereotypes_idx-590"><span class="linenos">590</span></a><span class="sd">        @param idx: id of a dimension</span>
</span><span id="SINrVectors.get_dimension_stereotypes_idx-591"><a href="#SINrVectors.get_dimension_stereotypes_idx-591"><span class="linenos">591</span></a><span class="sd">        @param topk: topk value to consider on the dimension</span>
</span><span id="SINrVectors.get_dimension_stereotypes_idx-592"><a href="#SINrVectors.get_dimension_stereotypes_idx-592"><span class="linenos">592</span></a><span class="sd">        @return: the topk words that describe this dimension (highest values)</span>
</span><span id="SINrVectors.get_dimension_stereotypes_idx-593"><a href="#SINrVectors.get_dimension_stereotypes_idx-593"><span class="linenos">593</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors.get_dimension_stereotypes_idx-594"><a href="#SINrVectors.get_dimension_stereotypes_idx-594"><span class="linenos">594</span></a>        <span class="n">highest_idxes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_topk</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="n">topk</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="SINrVectors.get_dimension_stereotypes_idx-595"><a href="#SINrVectors.get_dimension_stereotypes_idx-595"><span class="linenos">595</span></a>        <span class="n">highest_idxes</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">vocab</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">labels</span> <span class="k">else</span> <span class="n">idx</span> <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">highest_idxes</span><span class="p">]</span>
</span><span id="SINrVectors.get_dimension_stereotypes_idx-596"><a href="#SINrVectors.get_dimension_stereotypes_idx-596"><span class="linenos">596</span></a>        <span class="k">return</span> <span class="n">highest_idxes</span>
</span></pre></div>


            <div class="docstring"><p>@param idx: id of a dimension
@param topk: topk value to consider on the dimension
@return: the topk words that describe this dimension (highest values)</p>
</div>


                            </div>
                            <div id="SINrVectors.get_obj_stereotypes" class="classattr">
                                        <input id="SINrVectors.get_obj_stereotypes-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_obj_stereotypes</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">obj</span>, </span><span class="param"><span class="n">topk_dim</span><span class="o">=</span><span class="mi">5</span>, </span><span class="param"><span class="n">topk_val</span><span class="o">=</span><span class="mi">3</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINrVectors.get_obj_stereotypes-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINrVectors.get_obj_stereotypes"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINrVectors.get_obj_stereotypes-598"><a href="#SINrVectors.get_obj_stereotypes-598"><span class="linenos">598</span></a>    <span class="k">def</span> <span class="nf">get_obj_stereotypes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">topk_dim</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">topk_val</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
</span><span id="SINrVectors.get_obj_stereotypes-599"><a href="#SINrVectors.get_obj_stereotypes-599"><span class="linenos">599</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors.get_obj_stereotypes-600"><a href="#SINrVectors.get_obj_stereotypes-600"><span class="linenos">600</span></a>
</span><span id="SINrVectors.get_obj_stereotypes-601"><a href="#SINrVectors.get_obj_stereotypes-601"><span class="linenos">601</span></a><span class="sd">        @param obj: the word to consider</span>
</span><span id="SINrVectors.get_obj_stereotypes-602"><a href="#SINrVectors.get_obj_stereotypes-602"><span class="linenos">602</span></a><span class="sd">        @param topk_dim: topk dimension to consider</span>
</span><span id="SINrVectors.get_obj_stereotypes-603"><a href="#SINrVectors.get_obj_stereotypes-603"><span class="linenos">603</span></a><span class="sd">        @param topk_val: topk values to describe each dimension</span>
</span><span id="SINrVectors.get_obj_stereotypes-604"><a href="#SINrVectors.get_obj_stereotypes-604"><span class="linenos">604</span></a><span class="sd">        @return: the most useful dimensions to describe a word and for each dimension,</span>
</span><span id="SINrVectors.get_obj_stereotypes-605"><a href="#SINrVectors.get_obj_stereotypes-605"><span class="linenos">605</span></a><span class="sd">        the topk words that describe this dimension (highest values)</span>
</span><span id="SINrVectors.get_obj_stereotypes-606"><a href="#SINrVectors.get_obj_stereotypes-606"><span class="linenos">606</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors.get_obj_stereotypes-607"><a href="#SINrVectors.get_obj_stereotypes-607"><span class="linenos">607</span></a>        <span class="c1"># get index of the word considered</span>
</span><span id="SINrVectors.get_obj_stereotypes-608"><a href="#SINrVectors.get_obj_stereotypes-608"><span class="linenos">608</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_index</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</span><span id="SINrVectors.get_obj_stereotypes-609"><a href="#SINrVectors.get_obj_stereotypes-609"><span class="linenos">609</span></a>        <span class="c1"># get the topk dimensions for this word</span>
</span><span id="SINrVectors.get_obj_stereotypes-610"><a href="#SINrVectors.get_obj_stereotypes-610"><span class="linenos">610</span></a>        <span class="n">highest_dims</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_topk</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">topk_dim</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="SINrVectors.get_obj_stereotypes-611"><a href="#SINrVectors.get_obj_stereotypes-611"><span class="linenos">611</span></a>        <span class="n">vector</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_vector</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="SINrVectors.get_obj_stereotypes-612"><a href="#SINrVectors.get_obj_stereotypes-612"><span class="linenos">612</span></a>        <span class="n">highest_dims</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;dimension&quot;</span><span class="p">:</span> <span class="n">idx</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">vector</span><span class="p">[</span><span class="n">idx</span><span class="p">],</span> <span class="s2">&quot;stereotypes&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_dimension_stereotypes_idx</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="n">topk_val</span><span class="p">)}</span>
</span><span id="SINrVectors.get_obj_stereotypes-613"><a href="#SINrVectors.get_obj_stereotypes-613"><span class="linenos">613</span></a>                        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">highest_dims</span><span class="p">]</span>
</span><span id="SINrVectors.get_obj_stereotypes-614"><a href="#SINrVectors.get_obj_stereotypes-614"><span class="linenos">614</span></a>        <span class="k">return</span> <span class="n">highest_dims</span>
</span></pre></div>


            <div class="docstring"><p>@param obj: the word to consider
@param topk_dim: topk dimension to consider
@param topk_val: topk values to describe each dimension
@return: the most useful dimensions to describe a word and for each dimension,
the topk words that describe this dimension (highest values)</p>
</div>


                            </div>
                            <div id="SINrVectors.get_obj_stereotypes_and_descriptors" class="classattr">
                                        <input id="SINrVectors.get_obj_stereotypes_and_descriptors-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_obj_stereotypes_and_descriptors</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">obj</span>, </span><span class="param"><span class="n">topk_dim</span><span class="o">=</span><span class="mi">5</span>, </span><span class="param"><span class="n">topk_val</span><span class="o">=</span><span class="mi">3</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINrVectors.get_obj_stereotypes_and_descriptors-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINrVectors.get_obj_stereotypes_and_descriptors"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINrVectors.get_obj_stereotypes_and_descriptors-616"><a href="#SINrVectors.get_obj_stereotypes_and_descriptors-616"><span class="linenos">616</span></a>    <span class="k">def</span> <span class="nf">get_obj_stereotypes_and_descriptors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">topk_dim</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">topk_val</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
</span><span id="SINrVectors.get_obj_stereotypes_and_descriptors-617"><a href="#SINrVectors.get_obj_stereotypes_and_descriptors-617"><span class="linenos">617</span></a>        <span class="sd">&quot;&quot;&quot;</span>
</span><span id="SINrVectors.get_obj_stereotypes_and_descriptors-618"><a href="#SINrVectors.get_obj_stereotypes_and_descriptors-618"><span class="linenos">618</span></a><span class="sd">        @return: both stereotypes and descriptors</span>
</span><span id="SINrVectors.get_obj_stereotypes_and_descriptors-619"><a href="#SINrVectors.get_obj_stereotypes_and_descriptors-619"><span class="linenos">619</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="SINrVectors.get_obj_stereotypes_and_descriptors-620"><a href="#SINrVectors.get_obj_stereotypes_and_descriptors-620"><span class="linenos">620</span></a>        <span class="n">sters</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_obj_stereotypes</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">topk_dim</span><span class="p">,</span> <span class="n">topk_val</span><span class="p">)</span>
</span><span id="SINrVectors.get_obj_stereotypes_and_descriptors-621"><a href="#SINrVectors.get_obj_stereotypes_and_descriptors-621"><span class="linenos">621</span></a>        <span class="n">descs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_obj_descriptors</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">topk</span><span class="o">=</span><span class="n">topk_dim</span><span class="p">)</span>
</span><span id="SINrVectors.get_obj_stereotypes_and_descriptors-622"><a href="#SINrVectors.get_obj_stereotypes_and_descriptors-622"><span class="linenos">622</span></a>        <span class="k">for</span> <span class="n">ster</span><span class="p">,</span> <span class="n">desc</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">sters</span><span class="p">,</span> <span class="n">descs</span><span class="p">):</span>
</span><span id="SINrVectors.get_obj_stereotypes_and_descriptors-623"><a href="#SINrVectors.get_obj_stereotypes_and_descriptors-623"><span class="linenos">623</span></a>            <span class="n">ster</span><span class="p">[</span><span class="s2">&quot;descriptors&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">desc</span><span class="p">[</span><span class="s2">&quot;descriptors&quot;</span><span class="p">]</span>
</span><span id="SINrVectors.get_obj_stereotypes_and_descriptors-624"><a href="#SINrVectors.get_obj_stereotypes_and_descriptors-624"><span class="linenos">624</span></a>        <span class="k">return</span> <span class="n">sters</span>
</span></pre></div>


            <div class="docstring"><p>@return: both stereotypes and descriptors</p>
</div>


                            </div>
                            <div id="SINrVectors.load" class="classattr">
                                        <input id="SINrVectors.load-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">load</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINrVectors.load-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINrVectors.load"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINrVectors.load-626"><a href="#SINrVectors.load-626"><span class="linenos">626</span></a>    <span class="k">def</span> <span class="nf">load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SINrVectors.load-627"><a href="#SINrVectors.load-627"><span class="linenos">627</span></a>        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s2">&quot;.pk&quot;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span>
</span><span id="SINrVectors.load-628"><a href="#SINrVectors.load-628"><span class="linenos">628</span></a>        <span class="n">tmp_dict</span> <span class="o">=</span> <span class="n">pk</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</span><span id="SINrVectors.load-629"><a href="#SINrVectors.load-629"><span class="linenos">629</span></a>        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="SINrVectors.load-630"><a href="#SINrVectors.load-630"><span class="linenos">630</span></a>        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">tmp_dict</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="SINrVectors.save" class="classattr">
                                        <input id="SINrVectors.save-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">save</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SINrVectors.save-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SINrVectors.save"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SINrVectors.save-632"><a href="#SINrVectors.save-632"><span class="linenos">632</span></a>    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SINrVectors.save-633"><a href="#SINrVectors.save-633"><span class="linenos">633</span></a>        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">+</span><span class="s2">&quot;.pk&quot;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span>
</span><span id="SINrVectors.save-634"><a href="#SINrVectors.save-634"><span class="linenos">634</span></a>        <span class="n">pk</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="SINrVectors.save-635"><a href="#SINrVectors.save-635"><span class="linenos">635</span></a>        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></pre></div>


    

                            </div>
                </section>
    </main>
</body>
</html>