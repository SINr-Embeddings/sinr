<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SINr Text &mdash; SINr  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Test SINr" href="sinr.tests.html" />
    <link rel="prev" title="SINr Core" href="sinr.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            SINr
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="presentation.html">Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">SINr Embeddings</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="sinr.html">SINr Core</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">SINr Text</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-sinr.text.cooccurrence">Co-occurrence</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.cooccurrence.Cooccurrence"><code class="docutils literal notranslate"><span class="pre">Cooccurrence</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-sinr.text.cooccurrence_cython">Co-occurrence Cython</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.cooccurrence_cython.construct_cooccurrence_matrix"><code class="docutils literal notranslate"><span class="pre">construct_cooccurrence_matrix()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-sinr.text.pmi">PMI Filtering</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.pmi.pmi"><code class="docutils literal notranslate"><span class="pre">pmi()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.pmi.pmi_filter"><code class="docutils literal notranslate"><span class="pre">pmi_filter()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-sinr.text.preprocess">Preprocess Text</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.preprocess.Corpus"><code class="docutils literal notranslate"><span class="pre">Corpus</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.preprocess.VRTMaker"><code class="docutils literal notranslate"><span class="pre">VRTMaker</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.preprocess.extract_text"><code class="docutils literal notranslate"><span class="pre">extract_text()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.preprocess.open_corpus"><code class="docutils literal notranslate"><span class="pre">open_corpus()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-sinr.text.evaluate">Evaluate</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.best_predicted_word"><code class="docutils literal notranslate"><span class="pre">best_predicted_word()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.best_predicted_word_k"><code class="docutils literal notranslate"><span class="pre">best_predicted_word_k()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.clf_fit"><code class="docutils literal notranslate"><span class="pre">clf_fit()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.clf_score"><code class="docutils literal notranslate"><span class="pre">clf_score()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.clf_xgb_interpretability"><code class="docutils literal notranslate"><span class="pre">clf_xgb_interpretability()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.compute_analogy_normalized"><code class="docutils literal notranslate"><span class="pre">compute_analogy_normalized()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.compute_analogy_sparse_normalized"><code class="docutils literal notranslate"><span class="pre">compute_analogy_sparse_normalized()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.compute_analogy_value_zero"><code class="docutils literal notranslate"><span class="pre">compute_analogy_value_zero()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.compute_direct_bias_sinr"><code class="docutils literal notranslate"><span class="pre">compute_direct_bias_sinr()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.compute_indirect_bias_sinr"><code class="docutils literal notranslate"><span class="pre">compute_indirect_bias_sinr()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.dist_ratio"><code class="docutils literal notranslate"><span class="pre">dist_ratio()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.dist_ratio_dim"><code class="docutils literal notranslate"><span class="pre">dist_ratio_dim()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.eval_analogy"><code class="docutils literal notranslate"><span class="pre">eval_analogy()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.eval_analogy_by_category_k"><code class="docutils literal notranslate"><span class="pre">eval_analogy_by_category_k()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.eval_analogy_k"><code class="docutils literal notranslate"><span class="pre">eval_analogy_k()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.eval_similarity"><code class="docutils literal notranslate"><span class="pre">eval_similarity()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.fetch_SimLex"><code class="docutils literal notranslate"><span class="pre">fetch_SimLex()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.fetch_analogy"><code class="docutils literal notranslate"><span class="pre">fetch_analogy()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.fetch_data_MEN"><code class="docutils literal notranslate"><span class="pre">fetch_data_MEN()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.fetch_data_SCWS"><code class="docutils literal notranslate"><span class="pre">fetch_data_SCWS()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.fetch_data_WS353"><code class="docutils literal notranslate"><span class="pre">fetch_data_WS353()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.find_txt_files"><code class="docutils literal notranslate"><span class="pre">find_txt_files()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.format_lines"><code class="docutils literal notranslate"><span class="pre">format_lines()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.identify_gender_direction_sinr"><code class="docutils literal notranslate"><span class="pre">identify_gender_direction_sinr()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.load_config"><code class="docutils literal notranslate"><span class="pre">load_config()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.normalize_vector"><code class="docutils literal notranslate"><span class="pre">normalize_vector()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.plot_category_error_rates"><code class="docutils literal notranslate"><span class="pre">plot_category_error_rates()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.plot_global_error_rates"><code class="docutils literal notranslate"><span class="pre">plot_global_error_rates()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.project_vector"><code class="docutils literal notranslate"><span class="pre">project_vector()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.reject_vector"><code class="docutils literal notranslate"><span class="pre">reject_vector()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.remove_invalid_lines"><code class="docutils literal notranslate"><span class="pre">remove_invalid_lines()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.scores_varnn"><code class="docutils literal notranslate"><span class="pre">scores_varnn()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.similarity_MEN_WS353_SCWS"><code class="docutils literal notranslate"><span class="pre">similarity_MEN_WS353_SCWS()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.varnn"><code class="docutils literal notranslate"><span class="pre">varnn()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.varnn_across_models"><code class="docutils literal notranslate"><span class="pre">varnn_across_models()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.varnn_from_models"><code class="docutils literal notranslate"><span class="pre">varnn_from_models()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sinr.text.evaluate.vectorizer"><code class="docutils literal notranslate"><span class="pre">vectorizer()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-sinr.text">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="sinr.tests.html">Test SINr</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="publications.html">Publications</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SINr</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">SINr Embeddings</a></li>
      <li class="breadcrumb-item active">SINr Text</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/sinr.text.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="sinr-text">
<h1>SINr Text<a class="headerlink" href="#sinr-text" title="Permalink to this heading"></a></h1>
<section id="module-sinr.text.cooccurrence">
<span id="co-occurrence"></span><h2>Co-occurrence<a class="headerlink" href="#module-sinr.text.cooccurrence" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="sinr.text.cooccurrence.Cooccurrence">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sinr.text.cooccurrence.</span></span><span class="sig-name descname"><span class="pre">Cooccurrence</span></span><a class="headerlink" href="#sinr.text.cooccurrence.Cooccurrence" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class for constructing a cooccurrence matrix
from a corpus.</p>
<p>A dictionnary mapping the vocabulary of the corpus in lexicographic order
will be constructed as well as the cooccurrence matrix.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sinr.text.cooccurrence.Cooccurrence.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">corpus</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.cooccurrence.Cooccurrence.fit" title="Permalink to this definition"></a></dt>
<dd><p>Perform a pass through the corpus to construct
the cooccurrence matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>corpus</strong> (<em>list</em><em>[</em><em>list</em><em>[</em><em>str</em><em>]</em><em>]</em>) – List of lists of strings (words) from the corpus.</p></li>
<li><p><strong>window</strong> (<em>int</em>) – The length of the (symmetric) context window used for cooccurrence, defaults to 2</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sinr.text.cooccurrence.Cooccurrence.load">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.cooccurrence.Cooccurrence.load" title="Permalink to this definition"></a></dt>
<dd><p>Load Cooccurrence object from pickle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – Path to the pickle file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An instance of the :class: Cooccurrence.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>SINr.cooccurrence.Cooccurrence</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sinr.text.cooccurrence.Cooccurrence.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.cooccurrence.Cooccurrence.save" title="Permalink to this definition"></a></dt>
<dd><p>Save cooccurrence object to a pickle file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – Output path to the filename of the pickle file.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-sinr.text.cooccurrence_cython">
<span id="co-occurrence-cython"></span><h2>Co-occurrence Cython<a class="headerlink" href="#module-sinr.text.cooccurrence_cython" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.cooccurrence_cython.construct_cooccurrence_matrix">
<span class="sig-prename descclassname"><span class="pre">sinr.text.cooccurrence_cython.</span></span><span class="sig-name descname"><span class="pre">construct_cooccurrence_matrix</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.cooccurrence_cython.construct_cooccurrence_matrix" title="Permalink to this definition"></a></dt>
<dd><p>Construct the word-id dictionary and cooccurrence matrix for
a given corpus, using a given window size.</p>
<p>The dictionary is constructed by lexicographix order.
The matrix accounts for the number of cooccurrences of words, no matter the
order in which they appear in the corpus. Consequently, the cooccurrence
matrix is upper triangular (undirected graph in SINr) .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>corpus</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – The sentences from the corpus.</p></li>
<li><p><strong>dictionary</strong> (<em>dictionary: dict</em><em>[</em><em>str:int</em><em>]</em>) – A dictionary mapping of words to their ids in the vocabulary (in lexicographic order)</p></li>
<li><p><strong>window_size</strong> (<em>int</em>) – The size of the symmetric moving window.</p></li>
<li><p><strong>window_size</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The cooccurrence matrix built from the corpus.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>scipy.sparse.coo</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-sinr.text.pmi">
<span id="pmi-filtering"></span><h2>PMI Filtering<a class="headerlink" href="#module-sinr.text.pmi" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.pmi.pmi">
<span class="sig-prename descclassname"><span class="pre">sinr.text.pmi.</span></span><span class="sig-name descname"><span class="pre">pmi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">py</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_pmi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.pmi.pmi" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>Scipy.sparse.csr_matrix</em>) – word, word) sparse matrix</p></li>
<li><p><strong>py</strong> (<em>numpy.ndarray</em>) – 1, word) shape, probability of context words. (Default value = None)</p></li>
<li><p><strong>min_pmi</strong> (<em>int</em>) – Minimum value of PMI. all the values that smaller than min_pmi
are reset to zero, defaults to 0</p></li>
<li><p><strong>alpha</strong> (<em>float</em>) – Smoothing factor. pmi(x,y; alpha) = p_xy /(p_x * (p_y + alpha)),
defaults to  0.0</p></li>
<li><p><strong>beta</strong> (<em>int</em>) – Smoothing factor. pmi(x,y) = log ( Pxy / (Px x Py^beta) ),
defaults to 1.0</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary containing the PPMI matrix, the probability of words</p>
</dd>
</dl>
<p>and the exponential PMI matrix ‘(pmi, px, py, exp_pmi)’ .
(word, word) pmi value sparse matrix  if beta &gt; 1 or beta &lt; 0:</p>
<blockquote>
<div><p>raise ValueError(“beta value {} is not in range ]0,1]”.format(beta))</p>
</div></blockquote>
<dl class="simple">
<dt>if beta &gt; 1 or beta &lt; 0:</dt><dd><p>raise ValueError(“beta value {} is not in range ]0,1]”.format(beta))</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[scipy.sparse.csr_matrix, numpy.ndarray, numpy.ndarray, scipy.sparse.csr_matrix]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.pmi.pmi_filter">
<span class="sig-prename descclassname"><span class="pre">sinr.text.pmi.</span></span><span class="sig-name descname"><span class="pre">pmi_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">py</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_pmi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.pmi.pmi_filter" title="Permalink to this definition"></a></dt>
<dd><p>Filter a matrix (word, word) by computing the PMI. Exclude the records for which
the PMI is lower than a thershold min_pmi.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>scipy.sparse.csr_matrix</em>) – word, word) sparse matrix</p></li>
<li><p><strong>py</strong> (<em>numpy.ndarray</em>) – 1, word) shape, probability of context words. (Default value = None)</p></li>
<li><p><strong>min_pmi</strong> (<em>int</em>) – Minimum value of PMI. all the values that smaller than min_pmi are reset to zero, defaults to 0</p></li>
<li><p><strong>alpha</strong> (<em>float</em>) – Smoothing factor. pmi(x,y; alpha) = p_xy /(p_x * (p_y + alpha)), defaults to  0.0</p></li>
<li><p><strong>beta</strong> (<em>int</em>) – Smoothing factor. pmi(x,y) = log ( Pxy / (Px x Py^beta) ), defaults to 1.0</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary containing the PPMI matrix, the probability of words</p>
</dd>
</dl>
<p>and the exponential PMI matrix ‘(pmi, px, py, exp_pmi)’ .
(word, word) pmi value sparse matrix  if beta &gt; 1 or beta &lt; 0:</p>
<blockquote>
<div><p>raise ValueError(“beta value {} is not in range ]0,1]”.format(beta))</p>
</div></blockquote>
<dl class="simple">
<dt>if beta &gt; 1 or beta &lt; 0:</dt><dd><p>raise ValueError(“beta value {} is not in range ]0,1]”.format(beta))</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>scipy.sparse.coo_matrix</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-sinr.text.preprocess">
<span id="preprocess-text"></span><h2>Preprocess Text<a class="headerlink" href="#module-sinr.text.preprocess" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="sinr.text.preprocess.Corpus">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sinr.text.preprocess.</span></span><span class="sig-name descname"><span class="pre">Corpus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">register</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">language</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.preprocess.Corpus" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="sinr.text.preprocess.Corpus.LANGUAGE_EN">
<span class="sig-name descname"><span class="pre">LANGUAGE_EN</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'en'</span></em><a class="headerlink" href="#sinr.text.preprocess.Corpus.LANGUAGE_EN" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sinr.text.preprocess.Corpus.LANGUAGE_FR">
<span class="sig-name descname"><span class="pre">LANGUAGE_FR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'fr'</span></em><a class="headerlink" href="#sinr.text.preprocess.Corpus.LANGUAGE_FR" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sinr.text.preprocess.Corpus.REGISTER_NEWS">
<span class="sig-name descname"><span class="pre">REGISTER_NEWS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'news'</span></em><a class="headerlink" href="#sinr.text.preprocess.Corpus.REGISTER_NEWS" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="sinr.text.preprocess.Corpus.REGISTER_WEB">
<span class="sig-name descname"><span class="pre">REGISTER_WEB</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'web'</span></em><a class="headerlink" href="#sinr.text.preprocess.Corpus.REGISTER_WEB" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sinr.text.preprocess.VRTMaker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sinr.text.preprocess.</span></span><span class="sig-name descname"><span class="pre">VRTMaker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">corpus</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#sinr.text.preprocess.Corpus" title="sinr.text.preprocess.Corpus"><span class="pre">Corpus</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacy_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lg'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.preprocess.VRTMaker" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="sinr.text.preprocess.VRTMaker.do_txt_to_vrt">
<span class="sig-name descname"><span class="pre">do_txt_to_vrt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">separator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sentence'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.preprocess.VRTMaker.do_txt_to_vrt" title="Permalink to this definition"></a></dt>
<dd><p>Build VRT format file and write to output filepath.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>separator</strong> (<em>str</em>) – If a preprocessing by sentences (defaults value) or by personnalized documents is needed (separator tag)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.preprocess.extract_text">
<span class="sig-prename descclassname"><span class="pre">sinr.text.preprocess.</span></span><span class="sig-name descname"><span class="pre">extract_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">corpus_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exceptions_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lemmatize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop_words</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_words</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">punct</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">en</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'chunking'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_en</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_length_word</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_length_doc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict_filt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_lemma_pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.preprocess.extract_text" title="Permalink to this definition"></a></dt>
<dd><p>Extracts the text from a VRT corpus file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>corpus_path</strong> – str</p></li>
<li><p><strong>lemmatize</strong> – bool (Default value = True)</p></li>
<li><p><strong>stop_words</strong> – bool (Default value = False)</p></li>
<li><p><strong>lower</strong> – bool</p></li>
<li><p><strong>number</strong> – bool (Default value = False)</p></li>
<li><p><strong>punct</strong> – bool (Default value = False)</p></li>
<li><p><strong>exclude_pos</strong> – list (Default value = [])</p></li>
<li><p><strong>en</strong> – str (“chunking”, “tagging”, “deleting”) (Default value = “chunking”)</p></li>
<li><p><strong>min_freq</strong> – int (Default value = 50)</p></li>
<li><p><strong>alpha</strong> – bool (Default value = True)</p></li>
<li><p><strong>exclude_en</strong> – list (Default value = [])</p></li>
<li><p><strong>lower_words</strong> – (Default value = True)</p></li>
<li><p><strong>min_length_word</strong> – (Default value = 3)</p></li>
<li><p><strong>min_length_doc</strong> (<em>int</em>) – The minimal number of token for a document (or sentence) to be kept (Default value = 2)</p></li>
<li><p><strong>dict_filt</strong> (<em>list</em>) – List of words to keep only specific vocabulary</p></li>
<li><p><strong>with_lemma_pos</strong> (<em>bool</em>) – bool If True, output format will be lemma_#POS (Default value = False)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>text (list(list(str))): A list of documents containing words</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.preprocess.open_corpus">
<span class="sig-prename descclassname"><span class="pre">sinr.text.preprocess.</span></span><span class="sig-name descname"><span class="pre">open_corpus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">corpus_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.preprocess.open_corpus" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>corpus_path</strong> – </p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-sinr.text.evaluate">
<span id="evaluate"></span><h2>Evaluate<a class="headerlink" href="#module-sinr.text.evaluate" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.best_predicted_word">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">best_predicted_word</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sinr_vec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word_a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word_b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word_c</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.best_predicted_word" title="Permalink to this definition"></a></dt>
<dd><p>Solve analogy of the type A is to B as C is to D</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sinr_vec</strong> – SINrVectors object</p></li>
<li><p><strong>word_a</strong> – string</p></li>
<li><p><strong>word_b</strong> – string</p></li>
<li><p><strong>word_c</strong> – string</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>best predicted word of the dataset (word D) or None if not in the vocab.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.best_predicted_word_k">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">best_predicted_word_k</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sinr_vec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word_a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word_b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word_c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.best_predicted_word_k" title="Permalink to this definition"></a></dt>
<dd><p>Predict the best word for the analogy A is to B as C is to D with k best words.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sinr_vec</strong> – SINrVectors object</p></li>
<li><p><strong>word_a</strong> – string</p></li>
<li><p><strong>word_b</strong> – string</p></li>
<li><p><strong>word_c</strong> – string</p></li>
<li><p><strong>k</strong> – int, number of best words to return (default is 1)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of k best predicted words of the dataset or None if not in the vocab.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of strings</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.clf_fit">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">clf_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clf=XGBClassifier(base_score=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">booster=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callbacks=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colsample_bylevel=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colsample_bynode=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colsample_bytree=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">early_stopping_rounds=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable_categorical=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_metric=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_types=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grow_policy=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">importance_type=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interaction_constraints=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learning_rate=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_bin=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_cat_threshold=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_cat_to_onehot=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_delta_step=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_depth=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_leaves=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_child_weight=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">missing=nan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monotone_constraints=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_strategy=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_estimators=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_parallel_tree=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">...)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.clf_fit" title="Permalink to this definition"></a></dt>
<dd><p>Fit a classification model according to the given training data.
:param X_train: training data
:type X_train: list of vectors
:param y_train: labels
:type y_train: numpy.ndarray
:param clf: classifier
:type clf: classifier (ex.: xgboost.XGBClassifier, sklearn.svm.SVC)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Fitted classifier</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>classifier</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.clf_score">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">clf_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">X_test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scoring</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'accuracy'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.clf_score" title="Permalink to this definition"></a></dt>
<dd><p>Evaluate classification on given test data.
:param clf: classifier
:type clf: classifier (ex.: xgboost.XGBClassifier, sklearn.svm.SVC)
:param X_test: test data
:type X_test: list of vectors
:param y_test: labels
:type y_test: numpy.ndarray
:param scoring: scikit-learn scorer object, default=’accuracy’
:type scoring: str
:param params: parameters for the scorer object
:type params: dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Score</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.clf_xgb_interpretability">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">clf_xgb_interpretability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sinr_vec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xgb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpreter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topk_dim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">topk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">importance_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gain'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.clf_xgb_interpretability" title="Permalink to this definition"></a></dt>
<dd><p>Interpretability of main dimensions used by the xgboost classifier
:param sinr_vec: SINrVectors object from which datas were vectorized
:type sinr_vec: SINrVectors
:param xgb: fitted xgboost classifier
:type xgb: xgboost.XGBClassifier
:param interpreter: whether stereotypes or descriptors are requested
:type interpreter: str
:param topk_dim: Number of features requested among the main features used by the classifier (Default value = 10)
:type topk_dim: int
:param topk: <cite>topk</cite> value to consider on each dimension (Default value = 5)
:type topk: int
:param importance_type: ‘weight’: the number of times a feature is used to split the data across all trees,</p>
<blockquote>
<div><p>‘gain’: the average gain across all splits the feature is used in,
‘cover’: the average coverage across all splits the feature is used in,
‘total_gain’: the total gain across all splits the feature is used in
‘total_cover’: the total coverage across all splits the feature is used in</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Interpreters of dimensions, importance of dimensions</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list of set of object, list of tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.compute_analogy_normalized">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">compute_analogy_normalized</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sinr_vec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word_a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word_b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word_c</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.compute_analogy_normalized" title="Permalink to this definition"></a></dt>
<dd><p>Solve analogy of the type A is to B as C is to D with normalized values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sinr_vec</strong> – SINrVectors object</p></li>
<li><p><strong>word_a</strong> – string</p></li>
<li><p><strong>word_b</strong> – string</p></li>
<li><p><strong>word_c</strong> – string</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>best predicted word of the dataset</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.compute_analogy_sparse_normalized">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">compute_analogy_sparse_normalized</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sinr_vec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word_a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word_b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word_c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.compute_analogy_sparse_normalized" title="Permalink to this definition"></a></dt>
<dd><p>Solve analogy of the type A is to B as C is to D with sparsification and normalization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sinr_vec</strong> – SINrVectors object</p></li>
<li><p><strong>word_a</strong> – string</p></li>
<li><p><strong>word_b</strong> – string</p></li>
<li><p><strong>word_c</strong> – string</p></li>
<li><p><strong>n</strong> – int, number of dimensions to keep after sparsification</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>best predicted word of the dataset (word D) or None if not in the vocab.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.compute_analogy_value_zero">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">compute_analogy_value_zero</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sinr_vec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word_a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word_b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word_c</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.compute_analogy_value_zero" title="Permalink to this definition"></a></dt>
<dd><p>Solve analogy of the type A is to B as C is to D with only positives values in the resulting vector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sinr_vec</strong> – SINrVectors object</p></li>
<li><p><strong>word_a</strong> – string</p></li>
<li><p><strong>word_b</strong> – string</p></li>
<li><p><strong>word_c</strong> – string</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>best predicted word of the dataset (word D) or None if not in the vocab.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.compute_direct_bias_sinr">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">compute_direct_bias_sinr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sinr_vec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gender_direction</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.compute_direct_bias_sinr" title="Permalink to this definition"></a></dt>
<dd><p>Computes the direct bias of a set of words with respect to the gender direction
using cosine similarity.</p>
<dl class="simple">
<dt>Args:  </dt><dd><p>sinr_vec: SINr model.  
word_list: List of words to analyze. (professions in config.json)
gender_direction: Gender direction vector.  
c: Exponent applied to cosine similarity (default is c=1).</p>
</dd>
<dt>Returns:  </dt><dd><p>float: Direct bias value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.compute_indirect_bias_sinr">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">compute_indirect_bias_sinr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sinr_vec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.compute_indirect_bias_sinr" title="Permalink to this definition"></a></dt>
<dd><p>Compute the indirect bias SINr model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sinr_vec</strong> – SINr model.</p></li>
<li><p><strong>word1</strong> – The first word.</p></li>
<li><p><strong>word2</strong> – The second word.</p></li>
<li><p><strong>direction</strong> – The gender direction.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The gender component of the similarity between the two words.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.dist_ratio">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">dist_ratio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sinr_vec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">union</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prctbot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prcttop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nbtopk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.dist_ratio" title="Permalink to this definition"></a></dt>
<dd><p>DistRatio of the model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sinr_vec</strong> (<a class="reference internal" href="sinr.html#sinr.graph_embeddings.SINrVectors" title="sinr.graph_embeddings.SINrVectors"><em>SINrVectors</em></a>) – SINrVectors object</p></li>
<li><p><strong>union</strong> (<em>int list</em>) – ids of words that are among the top prct of at least one dimension (defaults to None)</p></li>
<li><p><strong>prctbot</strong> (<em>int</em>) – bottom prctbot to pick (defaults to 50)</p></li>
<li><p><strong>prcttop</strong> (<em>int</em>) – top prcttop to pick (defaults to 10)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DisRatio of the model</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.dist_ratio_dim">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">dist_ratio_dim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sinr_vec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">union</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prctbot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prcttop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nbtopk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.dist_ratio_dim" title="Permalink to this definition"></a></dt>
<dd><p>DistRatio for one dimension of the model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sinr_vec</strong> (<a class="reference internal" href="sinr.html#sinr.graph_embeddings.SINrVectors" title="sinr.graph_embeddings.SINrVectors"><em>SINrVectors</em></a>) – SINrVectors object</p></li>
<li><p><strong>dim</strong> (<em>int</em>) – the index of the dimension for which to get the DistRatio</p></li>
<li><p><strong>union</strong> (<em>int list</em>) – ids of words that are among the top prct of at least one dimension (defaults to None)</p></li>
<li><p><strong>prctbot</strong> (<em>int</em>) – bottom prctbot to pick (defaults to 50)</p></li>
<li><p><strong>prcttop</strong> (<em>int</em>) – top prcttop to pick (defaults to 10)</p></li>
<li><p><strong>nbtopk</strong> (<em>int</em>) – number of top words to pick (defaults to 5)</p></li>
<li><p><strong>dist</strong> (<em>boolean</em>) – set to True (default) to use cosine distance and False to use cosine similarity</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DistRatio for dimension <cite>dim</cite></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.eval_analogy">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">eval_analogy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sinr_vec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analogy_func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.eval_analogy" title="Permalink to this definition"></a></dt>
<dd><p>Compare the predicted with the expected word.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sinr_vec</strong> – SINrVectors object</p></li>
<li><p><strong>dataset</strong> – sklearn.datasets.base.Bunch
dictionary-like object. Keys of interest:
‘X’: matrix of 2 words per column,
‘y’: vector with scores</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>error rate</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.eval_analogy_by_category_k">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">eval_analogy_by_category_k</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sinr_vec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analogy_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.eval_analogy_by_category_k" title="Permalink to this definition"></a></dt>
<dd><p>Evaluate analogy by category with k best words</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sinr_vec</strong> – SINrVectors object</p></li>
<li><p><strong>dataset</strong> – sklearn.datasets.base.Bunch</p></li>
<li><p><strong>analogy_func</strong> – function to use for analogy prediction</p></li>
<li><p><strong>k</strong> – int, number of best words to return (default is 1)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>dictionary with categories as keys and error rates as values</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.eval_analogy_k">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">eval_analogy_k</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sinr_vec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analogy_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.eval_analogy_k" title="Permalink to this definition"></a></dt>
<dd><p>Compare the predicted with the expected word with k best words.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sinr_vec</strong> – SINrVectors object</p></li>
<li><p><strong>dataset</strong> – sklearn.datasets.base.Bunch
dictionary-like object. Keys of interest:
‘X’: matrix of 2 words per column,
‘y’: vector with scores</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>error rate</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.eval_similarity">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">eval_similarity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sinr_vec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.eval_similarity" title="Permalink to this definition"></a></dt>
<dd><p>Evaluate similarity with Spearman correlation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sinr_vec</strong> – SINrVectors object</p></li>
<li><p><strong>dataset</strong> – sklearn.datasets.base.Bunch
dictionary-like object. Keys of interest:
‘X’: matrix of 2 words per column,
‘y’: vector with scores</p></li>
<li><p><strong>print_missing</strong> – boolean (default : True)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Spearman correlation between cosine similarity and human rated similarity</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.fetch_SimLex">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">fetch_SimLex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">which</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'665'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.fetch_SimLex" title="Permalink to this definition"></a></dt>
<dd><p>Fetch SimLex datasets for testing relatedness similarity</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>which</strong> (<em>str</em>) – dataset (default value = “665”)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>dictionary-like object. Keys of interest:
‘X’: matrix of 2 words per column,
‘y’: vector with scores</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>sklearn.datasets.base.Bunch</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.fetch_analogy">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">fetch_analogy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">langage</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.fetch_analogy" title="Permalink to this definition"></a></dt>
<dd><p>Fetch dataset for testing analogies</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>langage</strong> (<em>str</em>) – language of the dataset</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>dictionary-like object. Keys of interest:
‘X’: matrix of 4 words per column</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>sklearn.datasets.base.Bunch</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.fetch_data_MEN">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">fetch_data_MEN</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.fetch_data_MEN" title="Permalink to this definition"></a></dt>
<dd><p>Fetch MEN dataset for testing relatedness similarity</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dictionary-like object. Keys of interest:
‘X’: matrix of 2 words per column,
‘y’: vector with scores</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>sklearn.datasets.base.Bunch</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.fetch_data_SCWS">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">fetch_data_SCWS</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.fetch_data_SCWS" title="Permalink to this definition"></a></dt>
<dd><p>Fetch SCWS dataset for testing relatedness similarity</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dictionary-like object. Keys of interest:
‘X’: matrix of 2 words per column,
‘y’: vector with scores</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>sklearn.datasets.base.Bunch</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.fetch_data_WS353">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">fetch_data_WS353</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.fetch_data_WS353" title="Permalink to this definition"></a></dt>
<dd><p>Fetch WS353 dataset for testing relatedness similarity</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dictionary-like object. Keys of interest:
‘X’: matrix of 2 words per column,
‘y’: vector with scores</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>sklearn.datasets.base.Bunch</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.find_txt_files">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">find_txt_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.find_txt_files" title="Permalink to this definition"></a></dt>
<dd><p>Find all text files in a directory and its subdirectories.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>directory</strong> (<em>str</em>) – path to the directory</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of text files</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.format_lines">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">format_lines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.format_lines" title="Permalink to this definition"></a></dt>
<dd><p>Format lines of the content.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>content</strong> (<em>str</em>) – content of the file</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>formatted content</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.identify_gender_direction_sinr">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">identify_gender_direction_sinr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sinr_vec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">definitional_pairs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pca'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">positive_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'brother'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">negative_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sister'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.identify_gender_direction_sinr" title="Permalink to this definition"></a></dt>
<dd><p>Identifies the gender direction in a SINr model.</p>
<p>Parameters:
- sinr_vec: SINr model.
- positive_end: word representing the masculine gender.
- negative_end: word representing the feminine gender.
- definitional_pairs: list of word pairs defining gender.
- method: method used to compute the gender direction (‘single’, ‘sum’, ‘pca’).</p>
<p>Returns:
- A vector representing the gender direction.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.load_config">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">load_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.load_config" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.normalize_vector">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">normalize_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vector</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.normalize_vector" title="Permalink to this definition"></a></dt>
<dd><p>Normalize a vector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>vector</strong> (<em>numpy.ndarray</em>) – vector to normalize</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>normalized vector</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.plot_category_error_rates">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">plot_category_error_rates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sinr_vec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">best_predicted_word_k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ks</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.plot_category_error_rates" title="Permalink to this definition"></a></dt>
<dd><p>Plot error rates by category for different values of k</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sinr_vec</strong> – SINrVectors object</p></li>
<li><p><strong>file_path</strong> – path to the dataset file</p></li>
<li><p><strong>best_predicted_word_k</strong> – function to use for analogy prediction</p></li>
<li><p><strong>ks</strong> – list of k values to evaluate - [1, 2, 5, 10]</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.plot_global_error_rates">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">plot_global_error_rates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sinr_vec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">best_predicted_word_k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ks</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.plot_global_error_rates" title="Permalink to this definition"></a></dt>
<dd><p>Plot global error rates for different values of k</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sinr_vec</strong> – SINrVectors object</p></li>
<li><p><strong>file_path</strong> – path to the dataset file</p></li>
<li><p><strong>best_predicted_word_k</strong> – function to use for analogy prediction</p></li>
<li><p><strong>ks</strong> – list of k values to evaluate - [1, 2, 5, 10]</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.project_vector">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">project_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.project_vector" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.reject_vector">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">reject_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.reject_vector" title="Permalink to this definition"></a></dt>
<dd><p>Compute the orthogonal projection of a vector onto a given direction.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.remove_invalid_lines">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">remove_invalid_lines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.remove_invalid_lines" title="Permalink to this definition"></a></dt>
<dd><p>Remove invalid lines from the content.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>content</strong> (<em>str</em>) – content of the file</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>cleaned content</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.scores_varnn">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">scores_varnn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.scores_varnn" title="Permalink to this definition"></a></dt>
<dd><p>Computes mean of pierrejean score on the shared vocabulary of model1 and model2</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model1</strong> (<a class="reference internal" href="sinr.html#sinr.graph_embeddings.SINrVectors" title="sinr.graph_embeddings.SINrVectors"><em>SINrVectors</em></a>) – a SINrVectors object</p></li>
<li><p><strong>model2</strong> (<em>SINrVectors:</em>) – a second SINrVectors object</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A score of varnn between the two models</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.similarity_MEN_WS353_SCWS">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">similarity_MEN_WS353_SCWS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sinr_vec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.similarity_MEN_WS353_SCWS" title="Permalink to this definition"></a></dt>
<dd><p>Evaluate similarity with MEN, WS353 and SCWS datasets</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sinr_vec</strong> – SINrVectors object</p></li>
<li><p><strong>print_missing</strong> – boolean (default : True)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Spearman correlation for MEN, WS353 and SCWS datasets</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.varnn">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">varnn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.varnn" title="Permalink to this definition"></a></dt>
<dd><p>Computes varnn metrics from two neighbor sets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>set1</strong> (<em>set</em>) – set of neighbors (e.g. from model1)</p></li>
<li><p><strong>set2</strong> (<em>set</em>) – set of neighbors (e.g. from model2)</p></li>
<li><p><strong>k</strong> (<em>int</em>) – number of neighbors used to compute the sets (default 25)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>pierrejean score and flat score</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.varnn_across_models">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">varnn_across_models</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.varnn_across_models" title="Permalink to this definition"></a></dt>
<dd><p>Computes varnn for each word is model1 also present in model2</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model1</strong> (<a class="reference internal" href="sinr.html#sinr.graph_embeddings.SINrVectors" title="sinr.graph_embeddings.SINrVectors"><em>SINrVectors</em></a>) – a SINrVectors object</p></li>
<li><p><strong>model2</strong> (<em>SINrVectors:</em>) – a second SINrVectors object</p></li>
<li><p><strong>k</strong> (<em>int</em>) – number of neighbors used to compute the sets (default 25)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Results of varnn on the total vocabulary of model1</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of tuples</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.varnn_from_models">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">varnn_from_models</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">word</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nn1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nn2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.varnn_from_models" title="Permalink to this definition"></a></dt>
<dd><p>Computes varnn for each word is model1 also present in model2</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model1</strong> (<a class="reference internal" href="sinr.html#sinr.graph_embeddings.SINrVectors" title="sinr.graph_embeddings.SINrVectors"><em>SINrVectors</em></a>) – a SINrVectors object</p></li>
<li><p><strong>model2</strong> (<em>SINrVectors:</em>) – a second SINrVectors object</p></li>
<li><p><strong>word</strong> (<em>str</em>) – an item in the vocabulary of the first model</p></li>
<li><p><strong>k</strong> (<em>int</em>) – number of neighbors used to compute the sets (default 25)</p></li>
<li><p><strong>nn1</strong> (<em>NearestNeighbors</em>) – NearestNeighbors object for model1 (default None)</p></li>
<li><p><strong>nn2</strong> (<em>NearestNeighbors</em>) – NearestNeighbors object for model2 (default None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Results of varnn between model1 and model2 on a single word as pierrejean score, the 1 - the proportion of shared neighbors, and a flat score the number of different neighbors</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sinr.text.evaluate.vectorizer">
<span class="sig-prename descclassname"><span class="pre">sinr.text.evaluate.</span></span><span class="sig-name descname"><span class="pre">vectorizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sinr_vec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sinr.text.evaluate.vectorizer" title="Permalink to this definition"></a></dt>
<dd><p>Vectorize preprocessed documents to sinr embeddings</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sinr_vec</strong> (<a class="reference internal" href="sinr.html#sinr.graph_embeddings.SINrVectors" title="sinr.graph_embeddings.SINrVectors"><em>SINrVectors</em></a>) – SINrVectors object</p></li>
<li><p><strong>X</strong> (<em>text</em><em> (</em><em>list</em><em>(</em><em>list</em><em>(</em><em>str</em><em>)</em><em>)</em><em>)</em><em>: A list</em><em> of </em><em>documents containing words</em>) – preprocessed documents</p></li>
<li><p><strong>y</strong> (<em>numpy.ndarray</em>) – documents labels</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of vectors</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-sinr.text">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-sinr.text" title="Permalink to this heading"></a></h2>
<p>Package to preprocess text into word co-occurrence graphs prior to running <cite>SINr</cite>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="sinr.html" class="btn btn-neutral float-left" title="SINr Core" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="sinr.tests.html" class="btn btn-neutral float-right" title="Test SINr" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Thibault Prouteau, Nicolas Dugué, Simon Guillot, Anna Béranger.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>